"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[935],{8935:function(e,s,t){t.d(s,{t:function(){return j}});var n=t(539),l=t(9856),r=t(732),a=t(7936),d=t(9326),i=t(2813),o=t(8742),c=t(6356),u=t(4211);let m=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)(o.f,{ref:s,className:(0,u.cn)(m(),t),...l})});x.displayName=o.f.displayName;var p=t(2137),h=t(5845),v=t(9660),f=t(9619),y=t(2999),g=t(5625);function j(e){let{context:s,onSubmit:t,onCancel:o}=e,[c,u]=(0,l.useState)(!1),[m,j]=(0,l.useState)((null==s?void 0:s.aliases)||[]),[b,N]=(0,l.useState)((null==s?void 0:s.relatedEntities)||[]),[w,C]=(0,l.useState)((null==s?void 0:s.keyContacts)||[]),[I,E]=(0,l.useState)((null==s?void 0:s.slackChannels)||[]),[S,k]=(0,l.useState)((null==s?void 0:s.cmdbIdentifiers)||[]),[B,D]=(0,l.useState)((null==s?void 0:s.contextStewards)||[]),{register:Z,handleSubmit:T,formState:{errors:z}}=(0,r.cI)({defaultValues:s||{entityName:"",entityType:"CLIENT",industry:"",description:"",technologyPortfolio:"",serviceDetails:"",isActive:!0}}),A=async e=>{u(!0);try{await t({...e,aliases:m,relatedEntities:b,keyContacts:w,slackChannels:I,cmdbIdentifiers:S,contextStewards:B})}finally{u(!1)}},R=(e,s,t)=>{t.trim()&&!e.includes(t.trim())&&s([...e,t.trim()])},O=(e,s,t)=>{s(e.filter((e,s)=>s!==t))};return(0,n.jsxs)("form",{onSubmit:T(A),className:"space-y-6",children:[(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsx)(p.ll,{children:"Basic Information"})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(x,{htmlFor:"entityName",children:["Entity Name ",(0,n.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,n.jsx)(d.I,{id:"entityName",...Z("entityName",{required:"Entity name is required"}),placeholder:"e.g., Altman Plants"}),z.entityName&&(0,n.jsx)("p",{className:"text-sm text-destructive",children:z.entityName.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(x,{htmlFor:"entityType",children:["Entity Type ",(0,n.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,n.jsxs)("select",{id:"entityType",...Z("entityType",{required:"Entity type is required"}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,n.jsx)("option",{value:"CLIENT",children:"Client"}),(0,n.jsx)("option",{value:"VENDOR",children:"Vendor"}),(0,n.jsx)("option",{value:"PLATFORM",children:"Platform"})]}),z.entityType&&(0,n.jsx)("p",{className:"text-sm text-destructive",children:z.entityType.message})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(x,{htmlFor:"industry",children:"Industry"}),(0,n.jsx)(d.I,{id:"industry",...Z("industry"),placeholder:"e.g., Healthcare, Technology"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(x,{htmlFor:"description",children:"Description"}),(0,n.jsx)(i.g,{id:"description",...Z("description"),placeholder:"Brief description of the entity...",rows:3})]}),(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsxs)(x,{children:[(0,n.jsx)("input",{type:"checkbox",...Z("isActive"),className:"mr-2"}),"Active"]})})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsx)(p.ll,{children:"Aliases"})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(d.I,{placeholder:"Add alias...",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let s=e.currentTarget;R(m,j,s.value),s.value=""}}}),(0,n.jsx)(a.z,{type:"button",variant:"outline",onClick:e=>{let s=e.currentTarget.previousElementSibling;R(m,j,s.value),s.value=""},children:(0,n.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((e,s)=>(0,n.jsxs)(h.C,{variant:"secondary",className:"gap-1",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>O(m,j,s),className:"ml-1 hover:text-destructive",children:(0,n.jsx)(f.Z,{className:"h-3 w-3"})})]},s))})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsx)(p.ll,{children:"Related Entities"})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(d.I,{placeholder:"Add related entity...",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let s=e.currentTarget;R(b,N,s.value),s.value=""}}}),(0,n.jsx)(a.z,{type:"button",variant:"outline",onClick:e=>{let s=e.currentTarget.previousElementSibling;R(b,N,s.value),s.value=""},children:(0,n.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map((e,s)=>(0,n.jsxs)(h.C,{variant:"outline",className:"gap-1",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>O(b,N,s),className:"ml-1 hover:text-destructive",children:(0,n.jsx)(f.Z,{className:"h-3 w-3"})})]},s))})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsx)(p.ll,{children:"Technology & Services"})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(x,{htmlFor:"technologyPortfolio",children:"Technology Portfolio"}),(0,n.jsx)(i.g,{id:"technologyPortfolio",...Z("technologyPortfolio"),placeholder:"List of technologies, platforms, and tools used...",rows:3})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(x,{htmlFor:"serviceDetails",children:"Service Details"}),(0,n.jsx)(i.g,{id:"serviceDetails",...Z("serviceDetails"),placeholder:"Service agreements, CSP information, support details...",rows:4})]})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsxs)(p.ll,{children:["Key Contacts (",w.length,")"]})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[w.map((e,s)=>(0,n.jsx)("div",{className:"p-4 border rounded-md space-y-3 bg-muted/30",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,n.jsx)("p",{className:"font-medium",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.role}),e.email&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,n.jsx)(a.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(w.filter((e,t)=>t!==s)),children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]})},s)),(0,n.jsxs)("div",{className:"space-y-3 p-4 border-2 border-dashed rounded-md",children:[(0,n.jsx)(d.I,{id:"newContactName",placeholder:"Name *"}),(0,n.jsx)(d.I,{id:"newContactRole",placeholder:"Role *"}),(0,n.jsx)(d.I,{id:"newContactEmail",placeholder:"Email (optional)",type:"email"}),(0,n.jsxs)(a.z,{type:"button",variant:"outline",onClick:()=>{var e,s,t;let n=null===(e=document.getElementById("newContactName"))||void 0===e?void 0:e.value,l=null===(s=document.getElementById("newContactRole"))||void 0===s?void 0:s.value,r=null===(t=document.getElementById("newContactEmail"))||void 0===t?void 0:t.value;n&&l&&(C([...w,{name:n,role:l,email:r||void 0}]),document.getElementById("newContactName").value="",document.getElementById("newContactRole").value="",document.getElementById("newContactEmail").value="")},children:[(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Add Contact"]})]})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsxs)(p.ll,{children:["Slack Channels (",I.length,")"]})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[I.map((e,s)=>(0,n.jsx)("div",{className:"p-4 border rounded-md space-y-2 bg-muted/30",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,n.jsxs)("p",{className:"font-medium",children:["#",e.name]}),e.channelId&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.channelId]}),e.notes&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.notes})]}),(0,n.jsx)(a.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(I.filter((e,t)=>t!==s)),children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]})},s)),(0,n.jsxs)("div",{className:"space-y-3 p-4 border-2 border-dashed rounded-md",children:[(0,n.jsx)(d.I,{id:"newChannelName",placeholder:"Channel name *"}),(0,n.jsx)(d.I,{id:"newChannelId",placeholder:"Channel ID (optional)"}),(0,n.jsx)(i.g,{id:"newChannelNotes",placeholder:"Notes (optional)",rows:2}),(0,n.jsxs)(a.z,{type:"button",variant:"outline",onClick:()=>{var e,s,t;let n=null===(e=document.getElementById("newChannelName"))||void 0===e?void 0:e.value,l=null===(s=document.getElementById("newChannelId"))||void 0===s?void 0:s.value,r=null===(t=document.getElementById("newChannelNotes"))||void 0===t?void 0:t.value;n&&(E([...I,{name:n,channelId:l||void 0,notes:r||void 0}]),document.getElementById("newChannelName").value="",document.getElementById("newChannelId").value="",document.getElementById("newChannelNotes").value="")},children:[(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsxs)(p.ll,{children:["CMDB Identifiers (",S.length,")"]})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[S.map((e,s)=>(0,n.jsx)("div",{className:"p-4 border rounded-md space-y-2 bg-muted/30",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,n.jsx)("p",{className:"font-medium",children:e.ciName||"Unnamed CI"}),e.sysId&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Sys ID: ",e.sysId]}),e.ipAddresses&&e.ipAddresses.length>0&&(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:e.ipAddresses.map((e,s)=>(0,n.jsx)(h.C,{variant:"outline",className:"text-xs",children:e},s))}),e.description&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),e.ownerGroup&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Owner: ",e.ownerGroup]})]}),(0,n.jsx)(a.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(S.filter((e,t)=>t!==s)),children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]})},s)),(0,n.jsxs)("div",{className:"space-y-3 p-4 border-2 border-dashed rounded-md",children:[(0,n.jsx)(d.I,{id:"newCmdbCiName",placeholder:"CI Name *"}),(0,n.jsx)(d.I,{id:"newCmdbSysId",placeholder:"System ID (optional)"}),(0,n.jsx)(d.I,{id:"newCmdbIps",placeholder:"IP Addresses (comma-separated)"}),(0,n.jsx)(i.g,{id:"newCmdbDescription",placeholder:"Description",rows:2}),(0,n.jsx)(d.I,{id:"newCmdbOwner",placeholder:"Owner Group (optional)"}),(0,n.jsxs)(a.z,{type:"button",variant:"outline",onClick:()=>{var e,s,t,n,l;let r=null===(e=document.getElementById("newCmdbCiName"))||void 0===e?void 0:e.value,a=null===(s=document.getElementById("newCmdbSysId"))||void 0===s?void 0:s.value,d=null===(t=document.getElementById("newCmdbIps"))||void 0===t?void 0:t.value,i=null===(n=document.getElementById("newCmdbDescription"))||void 0===n?void 0:n.value,o=null===(l=document.getElementById("newCmdbOwner"))||void 0===l?void 0:l.value;if(r){let e=d?d.split(",").map(e=>e.trim()).filter(Boolean):[];k([...S,{ciName:r,sysId:a||void 0,ipAddresses:e.length>0?e:void 0,description:i||void 0,ownerGroup:o||void 0}]),document.getElementById("newCmdbCiName").value="",document.getElementById("newCmdbSysId").value="",document.getElementById("newCmdbIps").value="",document.getElementById("newCmdbDescription").value="",document.getElementById("newCmdbOwner").value=""}},children:[(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Add CMDB Item"]})]})]})]}),(0,n.jsxs)(p.Zb,{children:[(0,n.jsx)(p.Ol,{children:(0,n.jsxs)(p.ll,{children:["Context Stewards (",B.length,")"]})}),(0,n.jsxs)(p.aY,{className:"space-y-4",children:[B.map((e,s)=>(0,n.jsx)("div",{className:"p-4 border rounded-md space-y-2 bg-muted/30",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(h.C,{variant:"secondary",children:e.type}),(0,n.jsx)("p",{className:"font-medium",children:e.name||"Unnamed"})]}),e.id&&(0,n.jsxs)("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]}),e.notes&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.notes})]}),(0,n.jsx)(a.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(B.filter((e,t)=>t!==s)),children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]})},s)),(0,n.jsxs)("div",{className:"space-y-3 p-4 border-2 border-dashed rounded-md",children:[(0,n.jsxs)("select",{id:"newStewardType",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,n.jsx)("option",{value:"channel",children:"Channel"}),(0,n.jsx)("option",{value:"user",children:"User"}),(0,n.jsx)("option",{value:"usergroup",children:"User Group"})]}),(0,n.jsx)(d.I,{id:"newStewardName",placeholder:"Name *"}),(0,n.jsx)(d.I,{id:"newStewardId",placeholder:"Slack ID (optional)"}),(0,n.jsx)(i.g,{id:"newStewardNotes",placeholder:"Notes (optional)",rows:2}),(0,n.jsxs)(a.z,{type:"button",variant:"outline",onClick:()=>{var e,s,t,n;let l=null===(e=document.getElementById("newStewardType"))||void 0===e?void 0:e.value,r=null===(s=document.getElementById("newStewardName"))||void 0===s?void 0:s.value,a=null===(t=document.getElementById("newStewardId"))||void 0===t?void 0:t.value,d=null===(n=document.getElementById("newStewardNotes"))||void 0===n?void 0:n.value;r&&(D([...B,{type:l,name:r,id:a||void 0,notes:d||void 0}]),document.getElementById("newStewardName").value="",document.getElementById("newStewardId").value="",document.getElementById("newStewardNotes").value="")},children:[(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Add Steward"]})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(a.z,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancel"}),(0,n.jsx)(a.z,{type:"submit",disabled:c,children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Save Context"]})})]})]})}},5845:function(e,s,t){t.d(s,{C:function(){return d}});var n=t(539);t(9856);var l=t(6356),r=t(4211);let a=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...l}=e;return(0,n.jsx)("div",{className:(0,r.cn)(a({variant:t}),s),...l})}},7936:function(e,s,t){t.d(s,{z:function(){return o}});var n=t(539),l=t(9856),r=t(3176),a=t(6356),d=t(4211);let i=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,s)=>{let{className:t,variant:l,size:a,asChild:o=!1,...c}=e,u=o?r.g7:"button";return(0,n.jsx)(u,{className:(0,d.cn)(i({variant:l,size:a,className:t})),ref:s,...c})});o.displayName="Button"},2137:function(e,s,t){t.d(s,{Ol:function(){return d},SZ:function(){return o},Zb:function(){return a},aY:function(){return c},ll:function(){return i}});var n=t(539),l=t(9856),r=t(4211);let a=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-executive",t),...l})});a.displayName="Card";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...l})});d.displayName="CardHeader";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});i.displayName="CardTitle";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...l})});o.displayName="CardDescription";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...l})});c.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},9326:function(e,s,t){t.d(s,{I:function(){return a}});var n=t(539),l=t(9856),r=t(4211);let a=l.forwardRef((e,s)=>{let{className:t,type:l,...a}=e;return(0,n.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...a})});a.displayName="Input"},2813:function(e,s,t){t.d(s,{g:function(){return a}});var n=t(539),l=t(9856),r=t(4211);let a=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,n.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});a.displayName="Textarea"},4211:function(e,s,t){t.d(s,{cn:function(){return r}});var n=t(7490),l=t(5523);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.m6)((0,n.W)(s))}}}]);