(()=>{var e={};e.id=842,e.ids=[842],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8049:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),t(26802),t(41142),t(87406);var a=t(76551),r=t(67605),n=t(1631),i=t.n(n),l=t(41977),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["business-contexts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26802)),"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/app/business-contexts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,41142)),"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,87406,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/app/business-contexts/page.tsx"],x="/business-contexts/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/business-contexts/page",pathname:"/business-contexts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85823:(e,s,t)=>{Promise.resolve().then(t.bind(t,56174))},39185:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,81523,23)),Promise.resolve().then(t.t.bind(t,61453,23)),Promise.resolve().then(t.t.bind(t,53337,23)),Promise.resolve().then(t.t.bind(t,39863,23)),Promise.resolve().then(t.t.bind(t,67235,23)),Promise.resolve().then(t.t.bind(t,12573,23))},37316:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,48593,23))},56174:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(34330),r=t(25934),n=t(84448),i=t(59210),l=t(44337),c=t(32706),d=t(65139);let o=(0,d.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),x=(0,d.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),m=(0,d.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),u=(0,d.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),h={CLIENT:o,VENDOR:x,PLATFORM:m},p={CLIENT:"bg-primary",VENDOR:"bg-secondary",PLATFORM:"bg-accent"};function f({context:e,onEdit:s}){let t=h[e.entityType]||o;return(0,a.jsxs)(l.Zb,{className:"hover:shadow-executive-md transition-shadow",children:[a.jsx(l.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${p[e.entityType]||"bg-muted"}`,children:a.jsx(t,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx(l.ll,{className:"text-lg",children:e.entityName}),e.industry&&a.jsx(l.SZ,{className:"text-xs mt-1",children:e.industry})]})]}),s&&a.jsx(i.z,{variant:"ghost",size:"icon",onClick:s,children:a.jsx(u,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c.C,{variant:"CLIENT"===e.entityType?"default":"secondary",children:e.entityType}),!e.isActive&&a.jsx(c.C,{variant:"outline",className:"ml-2",children:"Inactive"})]}),e.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.aliases&&e.aliases.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Aliases:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.aliases.slice(0,3).map((e,s)=>a.jsx(c.C,{variant:"outline",className:"text-xs",children:e},s)),e.aliases.length>3&&(0,a.jsxs)(c.C,{variant:"outline",className:"text-xs",children:["+",e.aliases.length-3," more"]})]})]}),e.technologyPortfolio&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Technology:"}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.technologyPortfolio})]}),e.serviceDetails&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Service Details:"}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.serviceDetails})]}),e.keyContacts&&e.keyContacts.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Key Contacts:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.keyContacts.slice(0,2).map((e,s)=>(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:e.name})," - ",e.role]},s)),e.keyContacts.length>2&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",e.keyContacts.length-2," more"]})]})]}),e.slackChannels&&e.slackChannels.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Slack Channels:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.slackChannels.slice(0,3).map((e,s)=>(0,a.jsxs)(c.C,{variant:"outline",className:"text-xs",children:["#",e.name]},s)),e.slackChannels.length>3&&(0,a.jsxs)(c.C,{variant:"outline",className:"text-xs",children:["+",e.slackChannels.length-3," more"]})]})]}),e.cmdbIdentifiers&&e.cmdbIdentifiers.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"CMDB Items:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.cmdbIdentifiers.slice(0,2).map((e,s)=>(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:e.ciName||"Unnamed"}),e.ipAddresses&&e.ipAddresses.length>0&&(0,a.jsxs)("span",{className:"ml-1",children:["(",e.ipAddresses[0],")"]})]},s)),e.cmdbIdentifiers.length>2&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",e.cmdbIdentifiers.length-2," more"]})]})]}),e.contextStewards&&e.contextStewards.length>0&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium mb-1",children:"Stewards:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.contextStewards.slice(0,2).map((e,s)=>a.jsx(c.C,{variant:"secondary",className:"text-xs",children:e.name||e.type},s)),e.contextStewards.length>2&&(0,a.jsxs)(c.C,{variant:"secondary",className:"text-xs",children:["+",e.contextStewards.length-2," more"]})]})]})]})]})}var v=t(85801);let g=(0,d.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var y=t(15529);function b({onFilterChange:e}){let[s,t]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),o=t=>{e({search:t.search??s,entityType:void 0!==t.entityType?t.entityType:n,isActive:void 0!==t.isActive?t.isActive:c})},x=e=>{t(e),o({search:e})},m=e=>{l(e),o({entityType:e})},u=e=>{d(e),o({isActive:e})},h=s||null!==n||!0!==c;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(v.I,{placeholder:"Search by name, alias, or description...",value:s,onChange:e=>x(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(i.z,{variant:null===n?"default":"outline",size:"sm",onClick:()=>m(null),children:"All Types"}),a.jsx(i.z,{variant:"CLIENT"===n?"default":"outline",size:"sm",onClick:()=>m("CLIENT"),children:"Clients"}),a.jsx(i.z,{variant:"VENDOR"===n?"default":"outline",size:"sm",onClick:()=>m("VENDOR"),children:"Vendors"}),a.jsx(i.z,{variant:"PLATFORM"===n?"default":"outline",size:"sm",onClick:()=>m("PLATFORM"),children:"Platforms"}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(i.z,{variant:!0===c?"default":"outline",size:"sm",onClick:()=>u(!0),children:"Active"}),a.jsx(i.z,{variant:null===c?"default":"outline",size:"sm",onClick:()=>u(null),children:"All"}),h&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>{t(""),l(null),d(!0),e({search:"",entityType:null,isActive:!0})},className:"text-muted-foreground",children:[a.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]})]})]})}let j=(0,d.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function N({contexts:e}){let s={total:e.length,clients:e.filter(e=>"CLIENT"===e.entityType).length,vendors:e.filter(e=>"VENDOR"===e.entityType).length,platforms:e.filter(e=>"PLATFORM"===e.entityType).length,active:e.filter(e=>e.isActive).length,inactive:e.filter(e=>!e.isActive).length},t=[{title:"Total Contexts",value:s.total,icon:j,color:"text-primary"},{title:"Clients",value:s.clients,icon:o,color:"text-primary"},{title:"Vendors",value:s.vendors,icon:x,color:"text-secondary"},{title:"Platforms",value:s.platforms,icon:m,color:"text-muted-foreground"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium",children:e.title}),a.jsx(e.icon,{className:`h-4 w-4 ${e.color}`})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:e.value}),"Total Contexts"===e.title&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[s.active," active, ",s.inactive," inactive"]})]})]},e.title))})}var k=t(64873),C=t(86260);function w(){let e=(0,n.useRouter)(),[s,t]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,o]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),u=async()=>{try{o(!0),m(null);let e=await fetch("/api/business-contexts");if(!e.ok)throw Error(`Failed to fetch contexts: ${e.statusText}`);let s=await e.json();t(s),c(s)}catch(e){m(e instanceof Error?e.message:"Failed to load contexts"),console.error("Error fetching contexts:",e)}finally{o(!1)}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(k.Z,{className:"h-8 w-8 animate-spin text-primary"})}):x?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Error Loading Contexts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x})]}),a.jsx(i.z,{onClick:u,children:"Retry"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Business Contexts"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage business entity information for AI agent context enrichment"})]}),(0,a.jsxs)(i.z,{onClick:()=>e.push("/business-contexts/new"),children:[a.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"Add Context"]})]}),a.jsx(N,{contexts:s}),a.jsx(b,{onFilterChange:e=>{let t=[...s];if(e.search){let s=e.search.toLowerCase();t=t.filter(e=>e.entityName.toLowerCase().includes(s)||e.description?.toLowerCase().includes(s)||e.aliases?.some(e=>e.toLowerCase().includes(s)))}e.entityType&&(t=t.filter(s=>s.entityType===e.entityType)),null!==e.isActive&&(t=t.filter(s=>s.isActive===e.isActive)),c(t)}}),0===l.length?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:0===s.length?"No business contexts found. Create your first one!":"No contexts match your filters."})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>a.jsx(f,{context:s,onEdit:()=>e.push(`/business-contexts/${s.id}`)},s.id))})]})}},32706:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});var a=t(34330);t(25934);var r=t(64872),n=t(96465);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return a.jsx("div",{className:(0,n.cn)(i({variant:s}),e),...t})}},59210:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var a=t(34330),r=t(25934),n=t(58696),i=t(64872),l=t(96465);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...i},d)=>{let o=r?n.g7:"button";return a.jsx(o,{className:(0,l.cn)(c({variant:s,size:t,className:e})),ref:d,...i})});d.displayName="Button"},44337:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var a=t(34330),r=t(25934),n=t(96465);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-executive",e),...s}));i.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},85801:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var a=t(34330),r=t(25934),n=t(96465);let i=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},96465:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(34079),r=t(81779);function n(...e){return(0,r.m6)((0,a.W)(e))}},64873:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(65139).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},86260:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(65139).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},15529:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(65139).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},84448:(e,s,t)=>{"use strict";var a=t(5613);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},26802:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(11070).createProxy)(String.raw`/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/app/business-contexts/page.tsx#default`)},41142:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>l});var a=t(77727),r=t(11630),n=t.n(r),i=t(1931);t(62653);let l={title:"Business Context Manager",description:"Manage business contexts for AI agent enrichment"};function c({children:e}){return a.jsx("html",{lang:"en",children:(0,a.jsxs)("body",{className:`${n().variable} font-sans min-h-screen bg-background antialiased`,children:[a.jsx("header",{className:"sticky top-0 z-50 border-b border-neutral-200 bg-white/80 backdrop-blur-lg shadow-executive",children:a.jsx("div",{className:"container mx-auto px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(i.default,{src:"/images/mobiz-logo-red.png",alt:"Mobiz Business Context Manager",width:120,height:45,className:"h-auto max-h-10 w-auto",priority:!0}),a.jsx("h1",{className:"text-xl font-semibold",children:"Business Context Manager"})]}),(0,a.jsxs)("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"/business-contexts",className:"text-sm font-medium hover:text-primary transition-colors",children:"Contexts"}),a.jsx("a",{href:"/system-prompt",className:"text-sm font-medium hover:text-primary transition-colors",children:"System Prompt"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:e})]})})}},62653:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[356,702,971],()=>t(8049));module.exports=a})();