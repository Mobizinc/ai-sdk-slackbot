{"numTotalTestSuites":1088,"numPassedTestSuites":1087,"numFailedTestSuites":1,"numPendingTestSuites":0,"numTotalTests":2631,"numPassedTests":2364,"numFailedTests":267,"numPendingTests":0,"numTodoTests":0,"startTime":1763484004008,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should allow access in development mode without auth","status":"passed","title":"should allow access in development mode without auth","duration":6,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should allow access when VERCEL_ENV is not set (local development)","status":"passed","title":"should allow access when VERCEL_ENV is not set (local development)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should reject access in production without admin token","status":"failed","title":"should reject access in production without admin token","duration":3,"failureMessages":["expected 200 to be 403 // Object.is equality"],"location":{"line":87,"column":31}},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should reject access with missing authorization header","status":"failed","title":"should reject access with missing authorization header","duration":1,"failureMessages":["expected 200 to be 401 // Object.is equality"],"location":{"line":105,"column":31}},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should reject access with malformed authorization header","status":"failed","title":"should reject access with malformed authorization header","duration":1,"failureMessages":["expected 200 to be 401 // Object.is equality"],"location":{"line":127,"column":31}},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should reject access with invalid token","status":"failed","title":"should reject access with invalid token","duration":1,"failureMessages":["expected 200 to be 403 // Object.is equality"],"location":{"line":149,"column":31}},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should allow access with valid Bearer token in production","status":"passed","title":"should allow access with valid Bearer token in production","duration":0,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should handle file read errors gracefully","status":"passed","title":"should handle file read errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should use correct file path","status":"passed","title":"should use correct file path","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should handle different production environments","status":"passed","title":"should handle different production environments","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should trim token correctly from Bearer header","status":"failed","title":"should trim token correctly from Bearer header","duration":0,"failureMessages":["expected 200 to be 403 // Object.is equality"],"location":{"line":268,"column":31}},{"ancestorTitles":["","Admin API","GET /api/admin"],"fullName":" Admin API GET /api/admin should handle empty token in production","status":"failed","title":"should handle empty token in production","duration":1,"failureMessages":["expected 200 to be 403 // Object.is equality"],"location":{"line":282,"column":31}}],"startTime":1763484012275,"endTime":1763484012293,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/admin-api.test.ts"},{"assertionResults":[{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should return queue statistics successfully","status":"passed","title":"should return queue statistics successfully","duration":17,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should handle authentication with ADMIN_API_KEY","status":"passed","title":"should handle authentication with ADMIN_API_KEY","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should reject requests without proper authentication when ADMIN_API_KEY is set","status":"passed","title":"should reject requests without proper authentication when ADMIN_API_KEY is set","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should reject requests with wrong authentication token","status":"passed","title":"should reject requests with wrong authentication token","duration":0,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should allow requests without auth when ADMIN_API_KEY is not set","status":"passed","title":"should allow requests without auth when ADMIN_API_KEY is not set","duration":0,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should handle empty recent classifications gracefully","status":"passed","title":"should handle empty recent classifications gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should calculate failure metrics correctly","status":"passed","title":"should calculate failure metrics correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should detect VERCEL_URL correctly","status":"passed","title":"should detect VERCEL_URL correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should handle ENABLE_ASYNC_TRIAGE disabled","status":"passed","title":"should handle ENABLE_ASYNC_TRIAGE disabled","duration":2,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":5,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should limit recent classifications to 5 items in response","status":"passed","title":"should limit recent classifications to 5 items in response","duration":2,"failureMessages":[]},{"ancestorTitles":["","Admin Queue Stats API","GET /api/admin/queue-stats"],"fullName":" Admin Queue Stats API GET /api/admin/queue-stats should round numerical values appropriately","status":"passed","title":"should round numerical values appropriately","duration":1,"failureMessages":[]}],"startTime":1763484006778,"endTime":1763484006811,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/admin-queue-stats-api.test.ts"},{"assertionResults":[{"ancestorTitles":["","AnthropicChatService"],"fullName":" AnthropicChatService converts chat request into Anthropic params","status":"passed","title":"converts chat request into Anthropic params","duration":2,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService"],"fullName":" AnthropicChatService returns aggregated text and tool calls","status":"passed","title":"returns aggregated text and tool calls","duration":0,"failureMessages":[]}],"startTime":1763484015948,"endTime":1763484015950,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/anthropic-chat.test.ts"},{"assertionResults":[{"ancestorTitles":["","App Settings Service","getAppSetting"],"fullName":" App Settings Service getAppSetting should retrieve app setting by key","status":"passed","title":"should retrieve app setting by key","duration":2,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSetting"],"fullName":" App Settings Service getAppSetting should return null when setting not found","status":"passed","title":"should return null when setting not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSetting"],"fullName":" App Settings Service getAppSetting should throw error when database is not available","status":"passed","title":"should throw error when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSetting"],"fullName":" App Settings Service getAppSetting should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSetting"],"fullName":" App Settings Service getAppSetting should ensure table exists before querying","status":"failed","title":"should ensure table exists before querying","duration":4,"failureMessages":["expected \"spy\" to be called with arguments: [ StringContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m"],"location":{"line":109,"column":30}},{"ancestorTitles":["","App Settings Service","setAppSetting"],"fullName":" App Settings Service setAppSetting should create or update app setting","status":"passed","title":"should create or update app setting","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","setAppSetting"],"fullName":" App Settings Service setAppSetting should ensure table exists before setting","status":"failed","title":"should ensure table exists before setting","duration":0,"failureMessages":["expected \"spy\" to be called with arguments: [ StringContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m"],"location":{"line":166,"column":30}},{"ancestorTitles":["","App Settings Service","setAppSetting"],"fullName":" App Settings Service setAppSetting should throw error when database is not available","status":"passed","title":"should throw error when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","setAppSetting"],"fullName":" App Settings Service setAppSetting should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSettingWithFallback"],"fullName":" App Settings Service getAppSettingWithFallback should return setting value when it exists","status":"passed","title":"should return setting value when it exists","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSettingWithFallback"],"fullName":" App Settings Service getAppSettingWithFallback should return fallback when setting does not exist","status":"passed","title":"should return fallback when setting does not exist","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSettingWithFallback"],"fullName":" App Settings Service getAppSettingWithFallback should return null when setting does not exist and no fallback provided","status":"passed","title":"should return null when setting does not exist and no fallback provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSettingWithFallback"],"fullName":" App Settings Service getAppSettingWithFallback should return null when setting is undefined and no fallback provided","status":"passed","title":"should return null when setting is undefined and no fallback provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","getAppSettingWithFallback"],"fullName":" App Settings Service getAppSettingWithFallback should return fallback when setting is empty string","status":"passed","title":"should return fallback when setting is empty string","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","APP_SETTING_KEYS"],"fullName":" App Settings Service APP_SETTING_KEYS should contain expected setting keys","status":"passed","title":"should contain expected setting keys","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","APP_SETTING_KEYS"],"fullName":" App Settings Service APP_SETTING_KEYS should have readonly keys","status":"passed","title":"should have readonly keys","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","Integration scenarios"],"fullName":" App Settings Service Integration scenarios should handle setting and getting configuration","status":"passed","title":"should handle setting and getting configuration","duration":1,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","Integration scenarios"],"fullName":" App Settings Service Integration scenarios should handle concurrent operations","status":"passed","title":"should handle concurrent operations","duration":0,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","Integration scenarios"],"fullName":" App Settings Service Integration scenarios should use predefined setting keys","status":"passed","title":"should use predefined setting keys","duration":3,"failureMessages":[]},{"ancestorTitles":["","App Settings Service","Table creation"],"fullName":" App Settings Service Table creation should create table and index only once","status":"failed","title":"should create table and index only once","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ StringContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m"],"location":{"line":403,"column":30}}],"startTime":1763484009706,"endTime":1763484009722,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/app-settings.test.ts"},{"assertionResults":[{"ancestorTitles":["","Slack events handler"],"fullName":" Slack events handler responds to a direct message by summarising the latest case activity","status":"failed","title":"responds to a direct message by summarising the latest case activity","duration":10,"failureMessages":["expected \"spy\" to be called 1 times, but got 0 times"],"location":{"line":182,"column":35}}],"startTime":1763484013677,"endTime":1763484013687,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/assistant-handler.test.ts"},{"assertionResults":[{"ancestorTitles":["","Azure Search Client","getClientLabel"],"fullName":" Azure Search Client getClientLabel should return [Your Organization] for same client","status":"passed","title":"should return [Your Organization] for same client","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","getClientLabel"],"fullName":" Azure Search Client getClientLabel should return client name for different client with name","status":"passed","title":"should return client name for different client with name","duration":1,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","getClientLabel"],"fullName":" Azure Search Client getClientLabel should return [Different Client] for different client without name","status":"passed","title":"should return [Different Client] for different client without name","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","getClientLabel"],"fullName":" Azure Search Client getClientLabel should return [Different Client] for different client with undefined name","status":"passed","title":"should return [Different Client] for different client with undefined name","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should build correct search request for cross-client search","status":"passed","title":"should build correct search request for cross-client search","duration":4,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should add client filter for single-client search","status":"passed","title":"should add client filter for single-client search","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should correctly set same_client flag for MSP attribution","status":"passed","title":"should correctly set same_client flag for MSP attribution","duration":1,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should handle missing client information gracefully","status":"passed","title":"should handle missing client information gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should return empty array on API error","status":"passed","title":"should return empty array on API error","duration":2,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","searchSimilarCases"],"fullName":" Azure Search Client AzureSearchClient searchSimilarCases should return empty array on network error","status":"passed","title":"should return empty array on network error","duration":1,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","testConnection"],"fullName":" Azure Search Client AzureSearchClient testConnection should return success when index exists","status":"passed","title":"should return success when index exists","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","AzureSearchClient","testConnection"],"fullName":" Azure Search Client AzureSearchClient testConnection should return failure when index not found","status":"passed","title":"should return failure when index not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Azure Search Client","MSP Attribution Integration Test"],"fullName":" Azure Search Client MSP Attribution Integration Test should produce correct work note labels for mixed client results","status":"passed","title":"should produce correct work note labels for mixed client results","duration":1,"failureMessages":[]}],"startTime":1763484011996,"endTime":1763484012006,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/azure-search-client.test.ts"},{"assertionResults":[{"ancestorTitles":["","Block Kit Builder Functions","createHeaderBlock"],"fullName":" Block Kit Builder Functions createHeaderBlock should create a valid header block","status":"passed","title":"should create a valid header block","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createHeaderBlock"],"fullName":" Block Kit Builder Functions createHeaderBlock should handle empty text","status":"passed","title":"should handle empty text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createHeaderBlock"],"fullName":" Block Kit Builder Functions createHeaderBlock should handle long text within limits","status":"passed","title":"should handle long text within limits","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createHeaderBlock"],"fullName":" Block Kit Builder Functions createHeaderBlock should handle long text without truncation","status":"passed","title":"should handle long text without truncation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createSectionBlock"],"fullName":" Block Kit Builder Functions createSectionBlock should create a valid section block with text","status":"passed","title":"should create a valid section block with text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createSectionBlock"],"fullName":" Block Kit Builder Functions createSectionBlock should create a section block with accessory","status":"passed","title":"should create a section block with accessory","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createSectionBlock"],"fullName":" Block Kit Builder Functions createSectionBlock should handle empty text","status":"passed","title":"should handle empty text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createSectionBlock"],"fullName":" Block Kit Builder Functions createSectionBlock should handle markdown formatting","status":"passed","title":"should handle markdown formatting","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFieldsBlock"],"fullName":" Block Kit Builder Functions createFieldsBlock should create a valid fields block","status":"passed","title":"should create a valid fields block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFieldsBlock"],"fullName":" Block Kit Builder Functions createFieldsBlock should handle empty fields array","status":"passed","title":"should handle empty fields array","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFieldsBlock"],"fullName":" Block Kit Builder Functions createFieldsBlock should handle maximum fields (10)","status":"passed","title":"should handle maximum fields (10)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFieldsBlock"],"fullName":" Block Kit Builder Functions createFieldsBlock should handle many fields without validation","status":"passed","title":"should handle many fields without validation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFieldsBlock"],"fullName":" Block Kit Builder Functions createFieldsBlock should handle special characters in field values","status":"passed","title":"should handle special characters in field values","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createDivider"],"fullName":" Block Kit Builder Functions createDivider should create a valid divider block","status":"passed","title":"should create a valid divider block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createDivider"],"fullName":" Block Kit Builder Functions createDivider should have no additional properties","status":"passed","title":"should have no additional properties","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createContextBlock"],"fullName":" Block Kit Builder Functions createContextBlock should create a valid context block","status":"passed","title":"should create a valid context block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createContextBlock"],"fullName":" Block Kit Builder Functions createContextBlock should handle empty text","status":"passed","title":"should handle empty text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createContextBlock"],"fullName":" Block Kit Builder Functions createContextBlock should handle markdown in context","status":"passed","title":"should handle markdown in context","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createActionsBlock"],"fullName":" Block Kit Builder Functions createActionsBlock should create a valid actions block with buttons","status":"passed","title":"should create a valid actions block with buttons","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createActionsBlock"],"fullName":" Block Kit Builder Functions createActionsBlock should handle buttons with URLs","status":"passed","title":"should handle buttons with URLs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createActionsBlock"],"fullName":" Block Kit Builder Functions createActionsBlock should handle buttons with confirmation dialogs","status":"passed","title":"should handle buttons with confirmation dialogs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createActionsBlock"],"fullName":" Block Kit Builder Functions createActionsBlock should handle empty buttons array","status":"passed","title":"should handle empty buttons array","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createActionsBlock"],"fullName":" Block Kit Builder Functions createActionsBlock should handle maximum buttons (5)","status":"passed","title":"should handle maximum buttons (5)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createImageBlock"],"fullName":" Block Kit Builder Functions createImageBlock should create a valid image block","status":"passed","title":"should create a valid image block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createImageBlock"],"fullName":" Block Kit Builder Functions createImageBlock should create image block with title","status":"passed","title":"should create image block with title","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createImageBlock"],"fullName":" Block Kit Builder Functions createImageBlock should create image block with block_id","status":"passed","title":"should create image block with block_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createImageBlock"],"fullName":" Block Kit Builder Functions createImageBlock should handle URLs without sanitization","status":"passed","title":"should handle URLs without sanitization","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFileBlock"],"fullName":" Block Kit Builder Functions createFileBlock should create a valid file block","status":"passed","title":"should create a valid file block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFileBlock"],"fullName":" Block Kit Builder Functions createFileBlock should create file block with custom source","status":"passed","title":"should create file block with custom source","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createFileBlock"],"fullName":" Block Kit Builder Functions createFileBlock should create file block with block_id","status":"passed","title":"should create file block with block_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should create a valid button","status":"passed","title":"should create a valid button","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should create button with value","status":"passed","title":"should create button with value","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should create button with URL","status":"passed","title":"should create button with URL","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should sanitize dangerous URLs","status":"passed","title":"should sanitize dangerous URLs","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should create button with style","status":"passed","title":"should create button with style","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createButton"],"fullName":" Block Kit Builder Functions createButton should create button with confirmation","status":"passed","title":"should create button with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createOverflowMenu"],"fullName":" Block Kit Builder Functions createOverflowMenu should create a valid overflow menu","status":"passed","title":"should create a valid overflow menu","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createOverflowMenu"],"fullName":" Block Kit Builder Functions createOverflowMenu should handle empty options","status":"passed","title":"should handle empty options","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","createOverflowMenu"],"fullName":" Block Kit Builder Functions createOverflowMenu should handle maximum options (5)","status":"passed","title":"should handle maximum options (5)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Block Integration Tests"],"fullName":" Block Kit Builder Functions Block Integration Tests should create a complete message with multiple block types","status":"passed","title":"should create a complete message with multiple block types","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Block Integration Tests"],"fullName":" Block Kit Builder Functions Block Integration Tests should handle complex nested structures","status":"passed","title":"should handle complex nested structures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Block Integration Tests"],"fullName":" Block Kit Builder Functions Block Integration Tests should maintain block order in arrays","status":"passed","title":"should maintain block order in arrays","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Error Handling and Edge Cases"],"fullName":" Block Kit Builder Functions Error Handling and Edge Cases should handle null/undefined inputs gracefully","status":"passed","title":"should handle null/undefined inputs gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Error Handling and Edge Cases"],"fullName":" Block Kit Builder Functions Error Handling and Edge Cases should handle very long text inputs","status":"passed","title":"should handle very long text inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Error Handling and Edge Cases"],"fullName":" Block Kit Builder Functions Error Handling and Edge Cases should handle special characters and unicode","status":"passed","title":"should handle special characters and unicode","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Builder Functions","Error Handling and Edge Cases"],"fullName":" Block Kit Builder Functions Error Handling and Edge Cases should handle malformed URLs gracefully","status":"passed","title":"should handle malformed URLs gracefully","duration":0,"failureMessages":[]}],"startTime":1763484006806,"endTime":1763484006816,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/block-kit-builder.test.ts"},{"assertionResults":[{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should remove dangerous HTML tags","status":"passed","title":"should remove dangerous HTML tags","duration":2,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should preserve safe HTML-like content","status":"passed","title":"should preserve safe HTML-like content","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should handle null/undefined inputs","status":"passed","title":"should handle null/undefined inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should handle empty strings","status":"passed","title":"should handle empty strings","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should remove dangerous attributes","status":"passed","title":"should remove dangerous attributes","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should handle nested dangerous tags","status":"passed","title":"should handle nested dangerous tags","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should preserve Slack-specific formatting","status":"passed","title":"should preserve Slack-specific formatting","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeSlackText"],"fullName":" Message Styling & Sanitization sanitizeSlackText should handle emoji and special characters","status":"passed","title":"should handle emoji and special characters","duration":2,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeBlockText"],"fullName":" Message Styling & Sanitization sanitizeBlockText should sanitize plain text blocks","status":"passed","title":"should sanitize plain text blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeBlockText"],"fullName":" Message Styling & Sanitization sanitizeBlockText should sanitize markdown text blocks","status":"passed","title":"should sanitize markdown text blocks","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeBlockText"],"fullName":" Message Styling & Sanitization sanitizeBlockText should handle invalid block text objects","status":"passed","title":"should handle invalid block text objects","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeMarkdownText"],"fullName":" Message Styling & Sanitization sanitizeMarkdownText should sanitize markdown while preserving formatting","status":"passed","title":"should sanitize markdown while preserving formatting","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeMarkdownText"],"fullName":" Message Styling & Sanitization sanitizeMarkdownText should preserve Slack markdown links","status":"passed","title":"should preserve Slack markdown links","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeMarkdownText"],"fullName":" Message Styling & Sanitization sanitizeMarkdownText should handle channel and user mentions","status":"passed","title":"should handle channel and user mentions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","sanitizeMarkdownText"],"fullName":" Message Styling & Sanitization sanitizeMarkdownText should remove dangerous HTML from markdown","status":"passed","title":"should remove dangerous HTML from markdown","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","truncateText"],"fullName":" Message Styling & Sanitization truncateText should truncate text to maximum length","status":"passed","title":"should truncate text to maximum length","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","truncateText"],"fullName":" Message Styling & Sanitization truncateText should not truncate short text","status":"passed","title":"should not truncate short text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","truncateText"],"fullName":" Message Styling & Sanitization truncateText should handle custom maxLength","status":"passed","title":"should handle custom maxLength","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","truncateText"],"fullName":" Message Styling & Sanitization truncateText should handle empty text","status":"passed","title":"should handle empty text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateActionId"],"fullName":" Message Styling & Sanitization validateActionId should validate valid action IDs","status":"passed","title":"should validate valid action IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateActionId"],"fullName":" Message Styling & Sanitization validateActionId should reject invalid action IDs","status":"passed","title":"should reject invalid action IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateActionId"],"fullName":" Message Styling & Sanitization validateActionId should handle null/undefined","status":"passed","title":"should handle null/undefined","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateBlockId"],"fullName":" Message Styling & Sanitization validateBlockId should validate valid block IDs","status":"passed","title":"should validate valid block IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateBlockId"],"fullName":" Message Styling & Sanitization validateBlockId should reject invalid block IDs","status":"passed","title":"should reject invalid block IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Styling & Sanitization","validateBlockId"],"fullName":" Message Styling & Sanitization validateBlockId should handle null/undefined","status":"passed","title":"should handle null/undefined","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockKitStructure"],"fullName":" Block Kit Structure Validation validateBlockKitStructure should validate valid block kit structures","status":"passed","title":"should validate valid block kit structures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockKitStructure"],"fullName":" Block Kit Structure Validation validateBlockKitStructure should reject invalid block kit structures","status":"passed","title":"should reject invalid block kit structures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockKitStructure"],"fullName":" Block Kit Structure Validation validateBlockKitStructure should handle empty blocks array","status":"passed","title":"should handle empty blocks array","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockKitStructure"],"fullName":" Block Kit Structure Validation validateBlockKitStructure should reject non-array blocks","status":"passed","title":"should reject non-array blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate section blocks","status":"passed","title":"should validate section blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate divider blocks","status":"passed","title":"should validate divider blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate header blocks","status":"passed","title":"should validate header blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate image blocks","status":"passed","title":"should validate image blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate actions blocks","status":"passed","title":"should validate actions blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should validate context blocks","status":"passed","title":"should validate context blocks","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should reject invalid block types","status":"passed","title":"should reject invalid block types","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateBlockElement"],"fullName":" Block Kit Structure Validation validateBlockElement should reject blocks without type","status":"passed","title":"should reject blocks without type","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should validate button elements","status":"passed","title":"should validate button elements","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should validate select menu elements","status":"passed","title":"should validate select menu elements","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should validate input elements","status":"passed","title":"should validate input elements","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should validate checkbox elements","status":"passed","title":"should validate checkbox elements","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should validate radio button elements","status":"passed","title":"should validate radio button elements","duration":1,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should reject invalid interactive elements","status":"passed","title":"should reject invalid interactive elements","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should reject elements without action_id where required","status":"passed","title":"should reject elements without action_id where required","duration":0,"failureMessages":[]},{"ancestorTitles":["","Block Kit Structure Validation","validateInteractiveElement"],"fullName":" Block Kit Structure Validation validateInteractiveElement should reject invalid action_id format","status":"passed","title":"should reject invalid action_id format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Edge Cases and Error Handling"],"fullName":" Edge Cases and Error Handling should handle deeply nested structures","status":"passed","title":"should handle deeply nested structures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Edge Cases and Error Handling"],"fullName":" Edge Cases and Error Handling should handle Unicode and special characters","status":"passed","title":"should handle Unicode and special characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","Edge Cases and Error Handling"],"fullName":" Edge Cases and Error Handling should handle very long action_ids and block_ids","status":"passed","title":"should handle very long action_ids and block_ids","duration":0,"failureMessages":[]},{"ancestorTitles":["","Edge Cases and Error Handling"],"fullName":" Edge Cases and Error Handling should handle malformed JSON-like structures","status":"passed","title":"should handle malformed JSON-like structures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Edge Cases and Error Handling"],"fullName":" Edge Cases and Error Handling should handle circular references gracefully","status":"passed","title":"should handle circular references gracefully","duration":0,"failureMessages":[]}],"startTime":1763484006200,"endTime":1763484006215,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/block-kit-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelId"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelId should find business context by Slack channel ID","status":"passed","title":"should find business context by Slack channel ID","duration":2,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelId"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelId should return null if channel ID not found","status":"passed","title":"should return null if channel ID not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelId"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelId should return null if database is unavailable","status":"failed","title":"should return null if database is unavailable","duration":4,"failureMessages":["Cannot find module '../lib/db/client'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/business-context-channel-lookup.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelName"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelName should find business context by Slack channel name","status":"passed","title":"should find business context by Slack channel name","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelName"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelName should perform case-insensitive search","status":"passed","title":"should perform case-insensitive search","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Repository - findBySlackChannelName"],"fullName":" Business Context - Slack Channel Lookup Repository - findBySlackChannelName should return null if channel name not found","status":"passed","title":"should return null if channel name not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Service - getContextForSlackChannel"],"fullName":" Business Context - Slack Channel Lookup Service - getContextForSlackChannel should prioritize channelId over channelName","status":"passed","title":"should prioritize channelId over channelName","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Service - getContextForSlackChannel"],"fullName":" Business Context - Slack Channel Lookup Service - getContextForSlackChannel should fall back to channelName if channelId fails","status":"passed","title":"should fall back to channelName if channelId fails","duration":20,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Service - getContextForSlackChannel"],"fullName":" Business Context - Slack Channel Lookup Service - getContextForSlackChannel should return null if neither channelId nor channelName found","status":"passed","title":"should return null if neither channelId nor channelName found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Service - getContextForSlackChannel"],"fullName":" Business Context - Slack Channel Lookup Service - getContextForSlackChannel should handle missing channelName parameter","status":"passed","title":"should handle missing channelName parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Integration - Full Flow"],"fullName":" Business Context - Slack Channel Lookup Integration - Full Flow should enable automatic client detection in Slack bot","status":"passed","title":"should enable automatic client detection in Slack bot","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Integration - Full Flow"],"fullName":" Business Context - Slack Channel Lookup Integration - Full Flow should handle multiple channels for same client","status":"passed","title":"should handle multiple channels for same client","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Error Handling"],"fullName":" Business Context - Slack Channel Lookup Error Handling should handle database errors gracefully in channelId lookup","status":"passed","title":"should handle database errors gracefully in channelId lookup","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Error Handling"],"fullName":" Business Context - Slack Channel Lookup Error Handling should handle database errors gracefully in channelName lookup","status":"passed","title":"should handle database errors gracefully in channelName lookup","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Context - Slack Channel Lookup","Error Handling"],"fullName":" Business Context - Slack Channel Lookup Error Handling should handle malformed slackChannels data","status":"passed","title":"should handle malformed slackChannels data","duration":0,"failureMessages":[]}],"startTime":1763484010824,"endTime":1763484010858,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/business-context-channel-lookup.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service handles empty dataset gracefully","status":"passed","title":"handles empty dataset gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service aggregates all cases under a single assignee correctly","status":"passed","title":"aggregates all cases under a single assignee correctly","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service falls back to openedAt when updatedOn is missing for stale detection","status":"passed","title":"falls back to openedAt when updatedOn is missing for stale detection","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service correctly identifies threshold edge cases","status":"passed","title":"correctly identifies threshold edge cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service sorts by oldest opened date","status":"passed","title":"sorts by oldest opened date","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service groups by assignment group","status":"passed","title":"groups by assignment group","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service aggregates by priority order","status":"passed","title":"aggregates by priority order","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Aggregator Service"],"fullName":" Case Aggregator Service processes 50 cases within performance budget","status":"passed","title":"processes 50 cases within performance budget","duration":1,"failureMessages":[]}],"startTime":1763484013822,"endTime":1763484013827,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-aggregator.test.ts"},{"assertionResults":[{"ancestorTitles":["","CaseDataService","isConfigured"],"fullName":" CaseDataService isConfigured should return true when ServiceNow is configured","status":"passed","title":"should return true when ServiceNow is configured","duration":2,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isConfigured"],"fullName":" CaseDataService isConfigured should return false when ServiceNow is not configured","status":"passed","title":"should return false when ServiceNow is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCase"],"fullName":" CaseDataService getCase should fetch a case by case number","status":"passed","title":"should fetch a case by case number","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCase"],"fullName":" CaseDataService getCase should return null when ServiceNow is not configured","status":"passed","title":"should return null when ServiceNow is not configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCase"],"fullName":" CaseDataService getCase should return null on error","status":"passed","title":"should return null on error","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCase"],"fullName":" CaseDataService getCase should handle case not found","status":"passed","title":"should handle case not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseBySysId"],"fullName":" CaseDataService getCaseBySysId should fetch a case by sys_id","status":"passed","title":"should fetch a case by sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseBySysId"],"fullName":" CaseDataService getCaseBySysId should return null when ServiceNow is not configured","status":"passed","title":"should return null when ServiceNow is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseBySysId"],"fullName":" CaseDataService getCaseBySysId should return null on error","status":"passed","title":"should return null on error","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseJournal"],"fullName":" CaseDataService getCaseJournal should fetch journal entries","status":"passed","title":"should fetch journal entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseJournal"],"fullName":" CaseDataService getCaseJournal should respect limit option","status":"passed","title":"should respect limit option","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseJournal"],"fullName":" CaseDataService getCaseJournal should return empty array when ServiceNow is not configured","status":"passed","title":"should return empty array when ServiceNow is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseJournal"],"fullName":" CaseDataService getCaseJournal should return empty array on error","status":"passed","title":"should return empty array on error","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseWithJournal"],"fullName":" CaseDataService getCaseWithJournal should fetch case and journal together","status":"passed","title":"should fetch case and journal together","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseWithJournal"],"fullName":" CaseDataService getCaseWithJournal should respect journalLimit option","status":"passed","title":"should respect journalLimit option","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseWithJournal"],"fullName":" CaseDataService getCaseWithJournal should return null when case not found","status":"passed","title":"should return null when case not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseWithJournal"],"fullName":" CaseDataService getCaseWithJournal should still return case even if journal fails","status":"passed","title":"should still return case even if journal fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isResolved"],"fullName":" CaseDataService isResolved should return true for resolved cases","status":"passed","title":"should return true for resolved cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isResolved"],"fullName":" CaseDataService isResolved should return true for closed cases","status":"passed","title":"should return true for closed cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isResolved"],"fullName":" CaseDataService isResolved should return true for cancelled cases","status":"passed","title":"should return true for cancelled cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isResolved"],"fullName":" CaseDataService isResolved should return false for active cases","status":"passed","title":"should return false for active cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","isResolved"],"fullName":" CaseDataService isResolved should return false when case not found","status":"passed","title":"should return false when case not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseSafely"],"fullName":" CaseDataService getCaseSafely should return case data","status":"passed","title":"should return case data","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCaseSafely"],"fullName":" CaseDataService getCaseSafely should return null on error without throwing","status":"passed","title":"should return null on error without throwing","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCases"],"fullName":" CaseDataService getCases should fetch multiple cases in parallel","status":"passed","title":"should fetch multiple cases in parallel","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCases"],"fullName":" CaseDataService getCases should handle some cases not found","status":"passed","title":"should handle some cases not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCases"],"fullName":" CaseDataService getCases should handle empty array","status":"passed","title":"should handle empty array","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","getCases"],"fullName":" CaseDataService getCases should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","Singleton pattern"],"fullName":" CaseDataService Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","Singleton pattern"],"fullName":" CaseDataService Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseDataService","Singleton pattern"],"fullName":" CaseDataService Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":0,"failureMessages":[]}],"startTime":1763484010406,"endTime":1763484010420,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-data.test.ts"},{"assertionResults":[{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should return results with pagination metadata","status":"passed","title":"should return results with pagination metadata","duration":3,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should indicate hasMore when hitting limit","status":"passed","title":"should indicate hasMore when hitting limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should handle pagination offset correctly","status":"passed","title":"should handle pagination offset correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should apply default limit of 25","status":"passed","title":"should apply default limit of 25","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should cap limit at 50","status":"passed","title":"should cap limit at 50","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should handle search errors gracefully","status":"passed","title":"should handle search errors gracefully","duration":8,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","searchWithMetadata"],"fullName":" CaseSearchService searchWithMetadata should pass all filters to repository","status":"passed","title":"should pass all filters to repository","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","findStaleCases"],"fullName":" CaseSearchService findStaleCases should find cases with no updates in 7 days","status":"passed","title":"should find cases with no updates in 7 days","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","findStaleCases"],"fullName":" CaseSearchService findStaleCases should use custom stale threshold","status":"passed","title":"should use custom stale threshold","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","findOldestCases"],"fullName":" CaseSearchService findOldestCases should return oldest open cases","status":"passed","title":"should return oldest open cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","buildFilterSummary"],"fullName":" CaseSearchService buildFilterSummary should build human-readable filter summary","status":"passed","title":"should build human-readable filter summary","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","buildFilterSummary"],"fullName":" CaseSearchService buildFilterSummary should handle empty filters","status":"passed","title":"should handle empty filters","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","buildFilterSummary"],"fullName":" CaseSearchService buildFilterSummary should format date filters","status":"passed","title":"should format date filters","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","buildFilterSummary"],"fullName":" CaseSearchService buildFilterSummary should handle keyword filter","status":"passed","title":"should handle keyword filter","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","search (legacy method)"],"fullName":" CaseSearchService search (legacy method) should return cases array for backward compatibility","status":"passed","title":"should return cases array for backward compatibility","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","suggestCustomerNames"],"fullName":" CaseSearchService suggestCustomerNames should provide unique suggestions from customer account repository","status":"passed","title":"should provide unique suggestions from customer account repository","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","suggestCustomerNames"],"fullName":" CaseSearchService suggestCustomerNames should handle repository failures gracefully","status":"passed","title":"should handle repository failures gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","Edge Cases"],"fullName":" CaseSearchService Edge Cases should handle empty result set","status":"passed","title":"should handle empty result set","duration":0,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","Edge Cases"],"fullName":" CaseSearchService Edge Cases should handle invalid date strings gracefully","status":"passed","title":"should handle invalid date strings gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseSearchService","Edge Cases"],"fullName":" CaseSearchService Edge Cases should handle repository returning null/undefined","status":"passed","title":"should handle repository returning null/undefined","duration":0,"failureMessages":[]}],"startTime":1763484008648,"endTime":1763484008669,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-search-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Search UI Builder","buildSearchResultsMessage"],"fullName":" Case Search UI Builder buildSearchResultsMessage should build search results with cases","status":"passed","title":"should build search results with cases","duration":6,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildSearchResultsMessage"],"fullName":" Case Search UI Builder buildSearchResultsMessage should show no results message when empty","status":"passed","title":"should show no results message when empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildSearchResultsMessage"],"fullName":" Case Search UI Builder buildSearchResultsMessage should show pagination when hasMore is true","status":"passed","title":"should show pagination when hasMore is true","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildSearchResultsMessage"],"fullName":" Case Search UI Builder buildSearchResultsMessage should sanitize all user-provided data","status":"passed","title":"should sanitize all user-provided data","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildSearchResultsMessage"],"fullName":" Case Search UI Builder buildSearchResultsMessage should respect block count limit","status":"passed","title":"should respect block count limit","duration":3,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildWorkloadSummaryMessage"],"fullName":" Case Search UI Builder buildWorkloadSummaryMessage should build workload distribution","status":"passed","title":"should build workload distribution","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildWorkloadSummaryMessage"],"fullName":" Case Search UI Builder buildWorkloadSummaryMessage should handle empty workload list","status":"passed","title":"should handle empty workload list","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildOldestCaseMessage"],"fullName":" Case Search UI Builder buildOldestCaseMessage should highlight oldest cases","status":"passed","title":"should highlight oldest cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildOldestCaseMessage"],"fullName":" Case Search UI Builder buildOldestCaseMessage should handle empty oldest list","status":"passed","title":"should handle empty oldest list","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildStaleCasesMessage"],"fullName":" Case Search UI Builder buildStaleCasesMessage should build stale cases alert with threshold chips","status":"passed","title":"should build stale cases alert with threshold chips","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildStaleCasesMessage"],"fullName":" Case Search UI Builder buildStaleCasesMessage should highlight active threshold","status":"passed","title":"should highlight active threshold","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildStaleCasesMessage"],"fullName":" Case Search UI Builder buildStaleCasesMessage should show no stale cases message when empty","status":"passed","title":"should show no stale cases message when empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildFilterPromptMessage"],"fullName":" Case Search UI Builder buildFilterPromptMessage should build filter prompt with suggestions","status":"passed","title":"should build filter prompt with suggestions","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildFilterPromptMessage"],"fullName":" Case Search UI Builder buildFilterPromptMessage should sanitize original query","status":"passed","title":"should sanitize original query","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildPriorityDistributionMessage"],"fullName":" Case Search UI Builder buildPriorityDistributionMessage should build priority distribution","status":"passed","title":"should build priority distribution","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","buildQueueDistributionMessage"],"fullName":" Case Search UI Builder buildQueueDistributionMessage should build queue distribution","status":"passed","title":"should build queue distribution","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Block Kit Validation"],"fullName":" Case Search UI Builder Block Kit Validation should not exceed 50 block limit for search results","status":"passed","title":"should not exceed 50 block limit for search results","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Block Kit Validation"],"fullName":" Case Search UI Builder Block Kit Validation should use MessageEmojis constants (no hardcoded emojis)","status":"passed","title":"should use MessageEmojis constants (no hardcoded emojis)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Block Kit Validation"],"fullName":" Case Search UI Builder Block Kit Validation should sanitize all case data in blocks","status":"passed","title":"should sanitize all case data in blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Block Kit Validation"],"fullName":" Case Search UI Builder Block Kit Validation should include proper action_id on all buttons","status":"passed","title":"should include proper action_id on all buttons","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Block Kit Validation"],"fullName":" Case Search UI Builder Block Kit Validation should include block_id on all actions blocks","status":"passed","title":"should include block_id on all actions blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Stale Cases Threshold Chips"],"fullName":" Case Search UI Builder Stale Cases Threshold Chips should create 5 threshold buttons","status":"passed","title":"should create 5 threshold buttons","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Stale Cases Threshold Chips"],"fullName":" Case Search UI Builder Stale Cases Threshold Chips should mark current threshold as primary","status":"passed","title":"should mark current threshold as primary","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Stale Cases Threshold Chips"],"fullName":" Case Search UI Builder Stale Cases Threshold Chips should have action_id on threshold buttons","status":"passed","title":"should have action_id on threshold buttons","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Filter Prompt Suggestions"],"fullName":" Case Search UI Builder Filter Prompt Suggestions should limit customer suggestions to 5","status":"passed","title":"should limit customer suggestions to 5","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Filter Prompt Suggestions"],"fullName":" Case Search UI Builder Filter Prompt Suggestions should sanitize customer and queue names","status":"passed","title":"should sanitize customer and queue names","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Accessibility"],"fullName":" Case Search UI Builder Accessibility should use priority emojis with text labels","status":"passed","title":"should use priority emojis with text labels","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search UI Builder","Snapshot Consistency"],"fullName":" Case Search UI Builder Snapshot Consistency should produce consistent output for same input","status":"passed","title":"should produce consistent output for same input","duration":1,"failureMessages":[]}],"startTime":1763484006076,"endTime":1763484006098,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-search-ui.test.ts"},{"assertionResults":[{"ancestorTitles":["","CaseTriageService","Incident Creation"],"fullName":" CaseTriageService Incident Creation should create Incident when record type suggestion is Incident","status":"passed","title":"should create Incident when record type suggestion is Incident","duration":9,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Incident Creation"],"fullName":" CaseTriageService Incident Creation should create Problem when record type suggestion is Problem","status":"passed","title":"should create Problem when record type suggestion is Problem","duration":2,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Incident Creation"],"fullName":" CaseTriageService Incident Creation should not create Incident for Change suggestion","status":"passed","title":"should not create Incident for Change suggestion","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Incident Creation"],"fullName":" CaseTriageService Incident Creation should handle incident creation failure gracefully","status":"passed","title":"should handle incident creation failure gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Incident Creation"],"fullName":" CaseTriageService Incident Creation should use fallback categories when incident-specific categories not available","status":"passed","title":"should use fallback categories when incident-specific categories not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Catalog Redirect Integration"],"fullName":" CaseTriageService Catalog Redirect Integration should perform catalog redirect when HR request detected","status":"passed","title":"should perform catalog redirect when HR request detected","duration":1,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Catalog Redirect Integration"],"fullName":" CaseTriageService Catalog Redirect Integration should not perform catalog redirect when incident created","status":"passed","title":"should not perform catalog redirect when incident created","duration":2,"failureMessages":[]},{"ancestorTitles":["","CaseTriageService","Catalog Redirect Integration"],"fullName":" CaseTriageService Catalog Redirect Integration should handle catalog redirect failure gracefully","status":"passed","title":"should handle catalog redirect failure gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","getCaseTriageService"],"fullName":" getCaseTriageService should return singleton instance","status":"passed","title":"should return singleton instance","duration":0,"failureMessages":[]}],"startTime":1763484005651,"endTime":1763484005672,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should redirect HR request with high confidence","status":"passed","title":"should redirect HR request with high confidence","duration":7,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should not redirect when confidence is below threshold","status":"passed","title":"should not redirect when confidence is below threshold","duration":1,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should not redirect when handler is disabled","status":"passed","title":"should not redirect when handler is disabled","duration":0,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should handle catalog item fetch failure gracefully","status":"passed","title":"should handle catalog item fetch failure gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should handle work note addition failure","status":"passed","title":"should handle work note addition failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should use client-specific settings when available","status":"passed","title":"should use client-specific settings when available","duration":2,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","processCase"],"fullName":" CatalogRedirectHandler processCase should fall back to keyword search when exact catalog item not found","status":"passed","title":"should fall back to keyword search when exact catalog item not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","testRedirect"],"fullName":" CatalogRedirectHandler testRedirect should return wouldRedirect true for HR request above threshold","status":"passed","title":"should return wouldRedirect true for HR request above threshold","duration":0,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","testRedirect"],"fullName":" CatalogRedirectHandler testRedirect should return wouldRedirect false for non-HR request","status":"passed","title":"should return wouldRedirect false for non-HR request","duration":1,"failureMessages":[]},{"ancestorTitles":["","CatalogRedirectHandler","getStats"],"fullName":" CatalogRedirectHandler getStats should return current configuration stats","status":"passed","title":"should return current configuration stats","duration":0,"failureMessages":[]}],"startTime":1763484007357,"endTime":1763484007372,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/catalog-redirect-handler.test.ts"},{"assertionResults":[{"ancestorTitles":["","CategoryMismatchRepository","logMismatch"],"fullName":" CategoryMismatchRepository logMismatch should log category mismatch successfully","status":"passed","title":"should log category mismatch successfully","duration":5,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","logMismatch"],"fullName":" CategoryMismatchRepository logMismatch should use default target table when not provided","status":"passed","title":"should use default target table when not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","logMismatch"],"fullName":" CategoryMismatchRepository logMismatch should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":6,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","logMismatch"],"fullName":" CategoryMismatchRepository logMismatch should return early when database is not available","status":"passed","title":"should return early when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getTopSuggestedCategories"],"fullName":" CategoryMismatchRepository getTopSuggestedCategories should retrieve top suggested categories","status":"passed","title":"should retrieve top suggested categories","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getTopSuggestedCategories"],"fullName":" CategoryMismatchRepository getTopSuggestedCategories should return empty array when database is not available","status":"passed","title":"should return empty array when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getTopSuggestedCategories"],"fullName":" CategoryMismatchRepository getTopSuggestedCategories should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getTopSuggestedCategories"],"fullName":" CategoryMismatchRepository getTopSuggestedCategories should use default days parameter","status":"passed","title":"should use default days parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getRecentMismatches"],"fullName":" CategoryMismatchRepository getRecentMismatches should retrieve recent mismatches","status":"passed","title":"should retrieve recent mismatches","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getRecentMismatches"],"fullName":" CategoryMismatchRepository getRecentMismatches should handle undefined subcategory","status":"passed","title":"should handle undefined subcategory","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getRecentMismatches"],"fullName":" CategoryMismatchRepository getRecentMismatches should return empty array when database is not available","status":"passed","title":"should return empty array when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getRecentMismatches"],"fullName":" CategoryMismatchRepository getRecentMismatches should use default limit parameter","status":"passed","title":"should use default limit parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getStatistics"],"fullName":" CategoryMismatchRepository getStatistics should return mismatch statistics","status":"passed","title":"should return mismatch statistics","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getStatistics"],"fullName":" CategoryMismatchRepository getStatistics should return default stats when database is not available","status":"passed","title":"should return default stats when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getStatistics"],"fullName":" CategoryMismatchRepository getStatistics should handle null average confidence","status":"passed","title":"should handle null average confidence","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getStatistics"],"fullName":" CategoryMismatchRepository getStatistics should use default days parameter","status":"passed","title":"should use default days parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","getStatistics"],"fullName":" CategoryMismatchRepository getStatistics should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","markAsReviewed"],"fullName":" CategoryMismatchRepository markAsReviewed should mark mismatch as reviewed successfully","status":"passed","title":"should mark mismatch as reviewed successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","markAsReviewed"],"fullName":" CategoryMismatchRepository markAsReviewed should return early when database is not available","status":"passed","title":"should return early when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","CategoryMismatchRepository","markAsReviewed"],"fullName":" CategoryMismatchRepository markAsReviewed should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","getCategoryMismatchRepository"],"fullName":" getCategoryMismatchRepository should return singleton instance","status":"passed","title":"should return singleton instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","getCategoryMismatchRepository"],"fullName":" getCategoryMismatchRepository should return CategoryMismatchRepository instance","status":"passed","title":"should return CategoryMismatchRepository instance","duration":0,"failureMessages":[]}],"startTime":1763484008742,"endTime":1763484008765,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/category-mismatch-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","CIMatchingService","Initialization"],"fullName":" CIMatchingService Initialization ✓ Loads VeloCloud inventory on initialization","status":"failed","title":"✓ Loads VeloCloud inventory on initialization","duration":3,"failureMessages":["expected \"spy\" to be called with arguments: [ …(2) ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m"],"location":{"line":77,"column":28}},{"ancestorTitles":["","CIMatchingService","Initialization"],"fullName":" CIMatchingService Initialization ✓ Handles inventory loading failure gracefully","status":"passed","title":"✓ Handles inventory loading failure gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","Account Number Extraction"],"fullName":" CIMatchingService Account Number Extraction ✓ Extracts account numbers from text (ACCT format)","status":"failed","title":"✓ Extracts account numbers from text (ACCT format)","duration":1,"failureMessages":["service.extractAccountNumbers is not a function"],"location":{"line":98,"column":61}},{"ancestorTitles":["","CIMatchingService","Account Number Extraction"],"fullName":" CIMatchingService Account Number Extraction ✓ Handles case insensitive account numbers","status":"failed","title":"✓ Handles case insensitive account numbers","duration":1,"failureMessages":["service.extractAccountNumbers is not a function"],"location":{"line":105,"column":61}},{"ancestorTitles":["","CIMatchingService","Account Number Extraction"],"fullName":" CIMatchingService Account Number Extraction ✓ Removes duplicate account numbers","status":"failed","title":"✓ Removes duplicate account numbers","duration":1,"failureMessages":["service.extractAccountNumbers is not a function"],"location":{"line":112,"column":61}},{"ancestorTitles":["","CIMatchingService","VeloCloud Edge Matching"],"fullName":" CIMatchingService VeloCloud Edge Matching ✓ Matches VeloCloud edges by exact name (100% confidence)","status":"failed","title":"✓ Matches VeloCloud edges by exact name (100% confidence)","duration":2,"failureMessages":["expected [] to have a length of 1 but got +0"],"location":{"line":126,"column":30}},{"ancestorTitles":["","CIMatchingService","VeloCloud Edge Matching"],"fullName":" CIMatchingService VeloCloud Edge Matching ✓ Matches VeloCloud edges by partial name (85% confidence)","status":"failed","title":"✓ Matches VeloCloud edges by partial name (85% confidence)","duration":1,"failureMessages":["expected [] to have a length of 1 but got +0"],"location":{"line":144,"column":30}},{"ancestorTitles":["","CIMatchingService","VeloCloud Edge Matching"],"fullName":" CIMatchingService VeloCloud Edge Matching ✓ Matches VeloCloud edges by account number (90% active, 75% inactive)","status":"failed","title":"✓ Matches VeloCloud edges by account number (90% active, 75% inactive)","duration":0,"failureMessages":["expected [] to have a length of 2 but got +0"],"location":{"line":162,"column":30}},{"ancestorTitles":["","CIMatchingService","VeloCloud Edge Matching"],"fullName":" CIMatchingService VeloCloud Edge Matching ✓ Matches by site name (80% confidence)","status":"failed","title":"✓ Matches by site name (80% confidence)","duration":2,"failureMessages":["expected [] to have a length of 1 but got +0"],"location":{"line":188,"column":30}},{"ancestorTitles":["","CIMatchingService","CMDB Matching"],"fullName":" CIMatchingService CMDB Matching ✓ Matches CMDB CIs by IP address (95% confidence)","status":"passed","title":"✓ Matches CMDB CIs by IP address (95% confidence)","duration":2,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","CMDB Matching"],"fullName":" CIMatchingService CMDB Matching ✓ Matches CMDB CIs by hostname/FQDN (95% confidence)","status":"passed","title":"✓ Matches CMDB CIs by hostname/FQDN (95% confidence)","duration":0,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","CMDB Matching"],"fullName":" CIMatchingService CMDB Matching ✓ Matches CMDB CIs by name using search (85% confidence)","status":"passed","title":"✓ Matches CMDB CIs by name using search (85% confidence)","duration":1,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","CMDB Matching"],"fullName":" CIMatchingService CMDB Matching ✓ Handles CMDB errors gracefully (logs warning, continues)","status":"passed","title":"✓ Handles CMDB errors gracefully (logs warning, continues)","duration":1,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","Deduplication and Confidence"],"fullName":" CIMatchingService Deduplication and Confidence ✓ Deduplicates matches (keeps highest confidence)","status":"failed","title":"✓ Deduplicates matches (keeps highest confidence)","duration":1,"failureMessages":["expected 95 to be 100 // Object.is equality"],"location":{"line":324,"column":44}},{"ancestorTitles":["","CIMatchingService","Deduplication and Confidence"],"fullName":" CIMatchingService Deduplication and Confidence ✓ Separates high vs low confidence matches by threshold","status":"failed","title":"✓ Separates high vs low confidence matches by threshold","duration":0,"failureMessages":["expected [ { sys_id: 'ci-low', …(6) } ] to have a length of 2 but got 1"],"location":{"line":344,"column":44}},{"ancestorTitles":["","CIMatchingService","Deduplication and Confidence"],"fullName":" CIMatchingService Deduplication and Confidence ✓ Returns empty array when no matches found","status":"passed","title":"✓ Returns empty array when no matches found","duration":1,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","Deduplication and Confidence"],"fullName":" CIMatchingService Deduplication and Confidence ✓ Calculates overall confidence correctly","status":"failed","title":"✓ Calculates overall confidence correctly","duration":0,"failureMessages":["expected 95 to be 97.5 // Object.is equality"],"location":{"line":383,"column":40}},{"ancestorTitles":["","CIMatchingService","Service Methods"],"fullName":" CIMatchingService Service Methods ✓ Returns recommended CI (highest confidence match)","status":"failed","title":"✓ Returns recommended CI (highest confidence match)","duration":1,"failureMessages":["expected null to match object { sys_id: 'edge-logical-id-1', …(2) }"],"location":{"line":395,"column":27}},{"ancestorTitles":["","CIMatchingService","Service Methods"],"fullName":" CIMatchingService Service Methods ✓ Returns null for recommended CI when no high confidence matches","status":"passed","title":"✓ Returns null for recommended CI when no high confidence matches","duration":1,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","Service Methods"],"fullName":" CIMatchingService Service Methods ✓ Refreshes inventory","status":"failed","title":"✓ Refreshes inventory","duration":0,"failureMessages":["serviceWithRefresh.refreshInventory is not a function"],"location":{"line":420,"column":26}},{"ancestorTitles":["","CIMatchingService","Error Handling"],"fullName":" CIMatchingService Error Handling ✓ Handles missing VeloCloud inventory gracefully","status":"passed","title":"✓ Handles missing VeloCloud inventory gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CIMatchingService","Error Handling"],"fullName":" CIMatchingService Error Handling ✓ Handles CMDB repository errors","status":"failed","title":"✓ Handles CMDB repository errors","duration":1,"failureMessages":["expected [] to have a length of 1 but got +0"],"location":{"line":460,"column":30}}],"startTime":1763484007355,"endTime":1763484007376,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/ci-matching-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","evaluateScopeAgainstPolicy"],"fullName":" evaluateScopeAgainstPolicy flags incidents that exceed effort thresholds","status":"passed","title":"flags incidents that exceed effort thresholds","duration":1,"failureMessages":[]},{"ancestorTitles":["","evaluateScopeAgainstPolicy"],"fullName":" evaluateScopeAgainstPolicy flags onsite overages","status":"passed","title":"flags onsite overages","duration":0,"failureMessages":[]},{"ancestorTitles":["","evaluateScopeAgainstPolicy"],"fullName":" evaluateScopeAgainstPolicy returns null when no policy is configured","status":"passed","title":"returns null when no policy is configured","duration":0,"failureMessages":[]}],"startTime":1763484015198,"endTime":1763484015199,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/client-scope-evaluator.test.ts"},{"assertionResults":[{"ancestorTitles":["","ClientSettingsRepository","getClientSettings"],"fullName":" ClientSettingsRepository getClientSettings should retrieve settings by client ID","status":"passed","title":"should retrieve settings by client ID","duration":2,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientSettings"],"fullName":" ClientSettingsRepository getClientSettings should return null when settings not found","status":"passed","title":"should return null when settings not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientSettings"],"fullName":" ClientSettingsRepository getClientSettings should return null when database is not available","status":"passed","title":"should return null when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientSettingsByName"],"fullName":" ClientSettingsRepository getClientSettingsByName should retrieve settings by client name","status":"passed","title":"should retrieve settings by client name","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientSettingsByName"],"fullName":" ClientSettingsRepository getClientSettingsByName should return null when settings not found by name","status":"passed","title":"should return null when settings not found by name","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","upsertClientSettings"],"fullName":" ClientSettingsRepository upsertClientSettings should create new client settings","status":"passed","title":"should create new client settings","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","upsertClientSettings"],"fullName":" ClientSettingsRepository upsertClientSettings should update existing client settings","status":"passed","title":"should update existing client settings","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","upsertClientSettings"],"fullName":" ClientSettingsRepository upsertClientSettings should throw error when database is not available","status":"passed","title":"should throw error when database is not available","duration":6,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","updateClientSettings"],"fullName":" ClientSettingsRepository updateClientSettings should update specific client settings fields","status":"passed","title":"should update specific client settings fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","updateClientSettings"],"fullName":" ClientSettingsRepository updateClientSettings should return null when updating non-existent settings","status":"passed","title":"should return null when updating non-existent settings","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","updateClientSettings"],"fullName":" ClientSettingsRepository updateClientSettings should return null when database is not available","status":"passed","title":"should return null when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getAllClientSettings"],"fullName":" ClientSettingsRepository getAllClientSettings should retrieve all client settings","status":"passed","title":"should retrieve all client settings","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getAllClientSettings"],"fullName":" ClientSettingsRepository getAllClientSettings should return empty array when database is not available","status":"passed","title":"should return empty array when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientsWithRedirectEnabled"],"fullName":" ClientSettingsRepository getClientsWithRedirectEnabled should retrieve clients with catalog redirect enabled","status":"passed","title":"should retrieve clients with catalog redirect enabled","duration":4,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","getClientsWithRedirectEnabled"],"fullName":" ClientSettingsRepository getClientsWithRedirectEnabled should return empty array when database is not available","status":"passed","title":"should return empty array when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","logRedirect"],"fullName":" ClientSettingsRepository logRedirect should log catalog redirect successfully","status":"passed","title":"should log catalog redirect successfully","duration":2,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","logRedirect"],"fullName":" ClientSettingsRepository logRedirect should not throw error when logging fails","status":"passed","title":"should not throw error when logging fails","duration":2,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","logRedirect"],"fullName":" ClientSettingsRepository logRedirect should return early when database is not available","status":"passed","title":"should return early when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","deleteClientSettings"],"fullName":" ClientSettingsRepository deleteClientSettings should delete client settings successfully","status":"passed","title":"should delete client settings successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","deleteClientSettings"],"fullName":" ClientSettingsRepository deleteClientSettings should return false when database is not available","status":"passed","title":"should return false when database is not available","duration":0,"failureMessages":[]},{"ancestorTitles":["","ClientSettingsRepository","deleteClientSettings"],"fullName":" ClientSettingsRepository deleteClientSettings should return false when deletion fails","status":"passed","title":"should return false when deletion fails","duration":2,"failureMessages":[]},{"ancestorTitles":["","getClientSettingsRepository"],"fullName":" getClientSettingsRepository should return singleton instance","status":"passed","title":"should return singleton instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","getClientSettingsRepository"],"fullName":" getClientSettingsRepository should return ClientSettingsRepository instance","status":"passed","title":"should return ClientSettingsRepository instance","duration":0,"failureMessages":[]}],"startTime":1763484006634,"endTime":1763484006662,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/client-settings-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","CMDB Block Kit Formatter","Basic CI Card Generation"],"fullName":" CMDB Block Kit Formatter Basic CI Card Generation should generate complete Block Kit for CI with all fields","status":"passed","title":"should generate complete Block Kit for CI with all fields","duration":3,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Basic CI Card Generation"],"fullName":" CMDB Block Kit Formatter Basic CI Card Generation should handle minimal CI data gracefully","status":"passed","title":"should handle minimal CI data gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Basic CI Card Generation"],"fullName":" CMDB Block Kit Formatter Basic CI Card Generation should include technical details when available","status":"passed","title":"should include technical details when available","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Status and Environment Emoji Mapping"],"fullName":" CMDB Block Kit Formatter Status and Environment Emoji Mapping should show ✅ for operational status","status":"passed","title":"should show ✅ for operational status","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Status and Environment Emoji Mapping"],"fullName":" CMDB Block Kit Formatter Status and Environment Emoji Mapping should show ❌ for non-operational status","status":"passed","title":"should show ❌ for non-operational status","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Status and Environment Emoji Mapping"],"fullName":" CMDB Block Kit Formatter Status and Environment Emoji Mapping should show 🔴 for production environment","status":"passed","title":"should show 🔴 for production environment","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Status and Environment Emoji Mapping"],"fullName":" CMDB Block Kit Formatter Status and Environment Emoji Mapping should show 🟢 for development environment","status":"passed","title":"should show 🟢 for development environment","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Relationship Display"],"fullName":" CMDB Block Kit Formatter Relationship Display should display related CIs when includeRelationships is true","status":"passed","title":"should display related CIs when includeRelationships is true","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Relationship Display"],"fullName":" CMDB Block Kit Formatter Relationship Display should not display relationships when includeRelationships is false","status":"passed","title":"should not display relationships when includeRelationships is false","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Relationship Display"],"fullName":" CMDB Block Kit Formatter Relationship Display should limit displayed relationships to maxRelatedCIs","status":"passed","title":"should limit displayed relationships to maxRelatedCIs","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Relationship Display"],"fullName":" CMDB Block Kit Formatter Relationship Display should show default 5 relationships when maxRelatedCIs not specified","status":"passed","title":"should show default 5 relationships when maxRelatedCIs not specified","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","ServiceNow Deep Links"],"fullName":" CMDB Block Kit Formatter ServiceNow Deep Links should use provided URL when available","status":"passed","title":"should use provided URL when available","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","ServiceNow Deep Links"],"fullName":" CMDB Block Kit Formatter ServiceNow Deep Links should generate fallback URL when not provided","status":"passed","title":"should generate fallback URL when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Description Handling"],"fullName":" CMDB Block Kit Formatter Description Handling should include description when provided","status":"passed","title":"should include description when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Description Handling"],"fullName":" CMDB Block Kit Formatter Description Handling should truncate long descriptions","status":"passed","title":"should truncate long descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Description Handling"],"fullName":" CMDB Block Kit Formatter Description Handling should omit description section when not provided","status":"passed","title":"should omit description section when not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Fallback Text Generation"],"fullName":" CMDB Block Kit Formatter Fallback Text Generation should generate concise fallback text","status":"passed","title":"should generate concise fallback text","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Fallback Text Generation"],"fullName":" CMDB Block Kit Formatter Fallback Text Generation should handle minimal CI data in fallback","status":"passed","title":"should handle minimal CI data in fallback","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Fallback Text Generation"],"fullName":" CMDB Block Kit Formatter Fallback Text Generation should format fallback for notifications","status":"passed","title":"should format fallback for notifications","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Block Kit Structure Validation"],"fullName":" CMDB Block Kit Formatter Block Kit Structure Validation should include required block types","status":"passed","title":"should include required block types","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Block Kit Structure Validation"],"fullName":" CMDB Block Kit Formatter Block Kit Structure Validation should not exceed Slack block limit","status":"passed","title":"should not exceed Slack block limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Block Kit Formatter","Block Kit Structure Validation"],"fullName":" CMDB Block Kit Formatter Block Kit Structure Validation should have proper mrkdwn formatting in text fields","status":"passed","title":"should have proper mrkdwn formatting in text fields","duration":0,"failureMessages":[]}],"startTime":1763484007446,"endTime":1763484007454,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-block-kit-formatter.test.ts"},{"assertionResults":[{"ancestorTitles":["","CMDB Integration Tests","Natural Language Query Workflows"],"fullName":" CMDB Integration Tests Natural Language Query Workflows should handle: 'Show me production servers'","status":"passed","title":"should handle: 'Show me production servers'","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Natural Language Query Workflows"],"fullName":" CMDB Integration Tests Natural Language Query Workflows should handle: 'CIs in Chicago datacenter'","status":"passed","title":"should handle: 'CIs in Chicago datacenter'","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Natural Language Query Workflows"],"fullName":" CMDB Integration Tests Natural Language Query Workflows should handle: 'non-operational network devices'","status":"passed","title":"should handle: 'non-operational network devices'","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Search + Relationship Workflow"],"fullName":" CMDB Integration Tests Search + Relationship Workflow should format CIs with relationships","status":"passed","title":"should format CIs with relationships","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Search + Relationship Workflow"],"fullName":" CMDB Integration Tests Search + Relationship Workflow should limit displayed relationships to 5 per CI","status":"passed","title":"should limit displayed relationships to 5 per CI","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Empty Result Handling"],"fullName":" CMDB Integration Tests Empty Result Handling should handle empty CI search results","status":"passed","title":"should handle empty CI search results","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Empty Result Handling"],"fullName":" CMDB Integration Tests Empty Result Handling should handle CIs with no relationships","status":"passed","title":"should handle CIs with no relationships","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Large Dataset Handling"],"fullName":" CMDB Integration Tests Large Dataset Handling should handle 50 CIs efficiently","status":"passed","title":"should handle 50 CIs efficiently","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Large Dataset Handling"],"fullName":" CMDB Integration Tests Large Dataset Handling should truncate display to 10 CIs but preserve all raw data","status":"passed","title":"should truncate display to 10 CIs but preserve all raw data","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Data Quality Scenarios"],"fullName":" CMDB Integration Tests Data Quality Scenarios should handle CIs with missing optional fields","status":"passed","title":"should handle CIs with missing optional fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Data Quality Scenarios"],"fullName":" CMDB Integration Tests Data Quality Scenarios should handle CIs with multiple IP addresses","status":"passed","title":"should handle CIs with multiple IP addresses","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Data Quality Scenarios"],"fullName":" CMDB Integration Tests Data Quality Scenarios should handle very long CI names gracefully","status":"passed","title":"should handle very long CI names gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","URL Generation"],"fullName":" CMDB Integration Tests URL Generation should use provided URLs when available","status":"passed","title":"should use provided URLs when available","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Performance Characteristics"],"fullName":" CMDB Integration Tests Performance Characteristics should format 50 CIs in reasonable time","status":"passed","title":"should format 50 CIs in reasonable time","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Integration Tests","Performance Characteristics"],"fullName":" CMDB Integration Tests Performance Characteristics should format complex relationships in reasonable time","status":"passed","title":"should format complex relationships in reasonable time","duration":0,"failureMessages":[]}],"startTime":1763484008002,"endTime":1763484008008,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","CmdbReconciliationRepository","create"],"fullName":" CmdbReconciliationRepository create should create a new reconciliation result","status":"passed","title":"should create a new reconciliation result","duration":3,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","create"],"fullName":" CmdbReconciliationRepository create should throw error when database is not available","status":"passed","title":"should throw error when database is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","getByCaseNumber"],"fullName":" CmdbReconciliationRepository getByCaseNumber should get reconciliation results by case number","status":"passed","title":"should get reconciliation results by case number","duration":2,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","updateWithMatch"],"fullName":" CmdbReconciliationRepository updateWithMatch should update reconciliation result with CMDB match information","status":"passed","title":"should update reconciliation result with CMDB match information","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","updateWithChildTask"],"fullName":" CmdbReconciliationRepository updateWithChildTask should update reconciliation result with child task information","status":"passed","title":"should update reconciliation result with child task information","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","markAsSkipped"],"fullName":" CmdbReconciliationRepository markAsSkipped should mark reconciliation result as skipped","status":"passed","title":"should mark reconciliation result as skipped","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","markAsAmbiguous"],"fullName":" CmdbReconciliationRepository markAsAmbiguous should mark reconciliation result as ambiguous","status":"passed","title":"should mark reconciliation result as ambiguous","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","getCaseStatistics"],"fullName":" CmdbReconciliationRepository getCaseStatistics should calculate reconciliation statistics for a case","status":"passed","title":"should calculate reconciliation statistics for a case","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","getRecent"],"fullName":" CmdbReconciliationRepository getRecent should get recent reconciliation results","status":"passed","title":"should get recent reconciliation results","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationRepository","getUnmatchedEntities"],"fullName":" CmdbReconciliationRepository getUnmatchedEntities should get unmatched entities","status":"passed","title":"should get unmatched entities","duration":0,"failureMessages":[]}],"startTime":1763484011267,"endTime":1763484011277,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-reconciliation-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","CmdbReconciliationService","reconcileEntities"],"fullName":" CmdbReconciliationService reconcileEntities should process all entities and return reconciliation results","status":"passed","title":"should process all entities and return reconciliation results","duration":4,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","reconcileEntities"],"fullName":" CmdbReconciliationService reconcileEntities should handle errors gracefully and continue processing other entities","status":"passed","title":"should handle errors gracefully and continue processing other entities","duration":3,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","entity alias resolution"],"fullName":" CmdbReconciliationService entity alias resolution should resolve entity aliases using business context","status":"passed","title":"should resolve entity aliases using business context","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","entity alias resolution"],"fullName":" CmdbReconciliationService entity alias resolution should skip entities with unresolved aliases","status":"passed","title":"should skip entities with unresolved aliases","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","entity alias resolution"],"fullName":" CmdbReconciliationService entity alias resolution should skip non-CI-worthy entities like users","status":"passed","title":"should skip non-CI-worthy entities like users","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","CMDB matching"],"fullName":" CmdbReconciliationService CMDB matching should link CI to case when exact match is found","status":"failed","title":"should link CI to case when exact match is found","duration":4,"failureMessages":["expected \"spy\" to be called with arguments: [ 1, { …(5) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    1,\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[2m      \"cmdbClass\": \"cmdb_ci_server\",\u001b[22m\n\u001b[2m      \"cmdbName\": \"server01\",\u001b[22m\n\u001b[2m      \"cmdbSysId\": \"ci_sys_id_123\",\u001b[22m\n\u001b[2m      \"cmdbUrl\": \"http://servicenow.com/ci_sys_id_123\",\u001b[22m\n\u001b[32m-     \"confidence\": 0.9,\u001b[90m\n\u001b[31m+     \"confidence\": 0.7,\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":426,"column":46}},{"ancestorTitles":["","CmdbReconciliationService","CMDB matching"],"fullName":" CmdbReconciliationService CMDB matching should create child task when no CMDB match is found","status":"passed","title":"should create child task when no CMDB match is found","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","CMDB matching"],"fullName":" CmdbReconciliationService CMDB matching should mark as ambiguous when multiple CMDB matches are found","status":"failed","title":"should mark as ambiguous when multiple CMDB matches are found","duration":12,"failureMessages":["expected \"spy\" to be called with arguments: [ 1, …(1) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    1,\u001b[22m\n\u001b[32m-   \"Found 2 matches: ambiguous-server-1, ambiguous-server-2\",\u001b[90m\n\u001b[31m+   \"Found 2 matches for SYSTEM: ambiguous-server: ambiguous-server-1, ambiguous-server-2\",\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":550,"column":46}},{"ancestorTitles":["","CmdbReconciliationService","utility methods"],"fullName":" CmdbReconciliationService utility methods should get case statistics","status":"passed","title":"should get case statistics","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","utility methods"],"fullName":" CmdbReconciliationService utility methods should get recent results","status":"passed","title":"should get recent results","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbReconciliationService","utility methods"],"fullName":" CmdbReconciliationService utility methods should get unmatched entities","status":"passed","title":"should get unmatched entities","duration":1,"failureMessages":[]}],"startTime":1763484006536,"endTime":1763484006567,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-reconciliation.test.ts"},{"assertionResults":[{"ancestorTitles":["","CMDB Relationship Traversal","Basic Relationship Retrieval"],"fullName":" CMDB Relationship Traversal Basic Relationship Retrieval should retrieve related CIs for a given CI","status":"passed","title":"should retrieve related CIs for a given CI","duration":3,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Basic Relationship Retrieval"],"fullName":" CMDB Relationship Traversal Basic Relationship Retrieval should handle both parent and child relationships","status":"passed","title":"should handle both parent and child relationships","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Relationship Type Filtering"],"fullName":" CMDB Relationship Traversal Relationship Type Filtering should filter by relationship type","status":"passed","title":"should filter by relationship type","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Relationship Type Filtering"],"fullName":" CMDB Relationship Traversal Relationship Type Filtering should retrieve all relationship types when not specified","status":"passed","title":"should retrieve all relationship types when not specified","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Circular Reference Protection"],"fullName":" CMDB Relationship Traversal Circular Reference Protection should prevent infinite loops in relationship traversal","status":"passed","title":"should prevent infinite loops in relationship traversal","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Circular Reference Protection"],"fullName":" CMDB Relationship Traversal Circular Reference Protection should handle self-referencing relationships","status":"passed","title":"should handle self-referencing relationships","duration":8,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Circular Reference Protection"],"fullName":" CMDB Relationship Traversal Circular Reference Protection should deduplicate duplicate relationships","status":"passed","title":"should deduplicate duplicate relationships","duration":2,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Error Handling"],"fullName":" CMDB Relationship Traversal Error Handling should continue processing on individual CI fetch failure","status":"passed","title":"should continue processing on individual CI fetch failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Error Handling"],"fullName":" CMDB Relationship Traversal Error Handling should handle empty relationships gracefully","status":"passed","title":"should handle empty relationships gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Performance & Limits"],"fullName":" CMDB Relationship Traversal Performance & Limits should limit relationship query results","status":"passed","title":"should limit relationship query results","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Performance & Limits"],"fullName":" CMDB Relationship Traversal Performance & Limits should handle large relationship sets efficiently","status":"passed","title":"should handle large relationship sets efficiently","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Real-world Scenarios"],"fullName":" CMDB Relationship Traversal Real-world Scenarios should retrieve application stack: Web → App → Database","status":"passed","title":"should retrieve application stack: Web → App → Database","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Relationship Traversal","Real-world Scenarios"],"fullName":" CMDB Relationship Traversal Real-world Scenarios should handle load balancer with multiple backend servers","status":"passed","title":"should handle load balancer with multiple backend servers","duration":1,"failureMessages":[]}],"startTime":1763484007431,"endTime":1763484007451,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-relationship-traversal.test.ts"},{"assertionResults":[{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should filter by className","status":"passed","title":"should filter by className","duration":2,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should filter by operationalStatus","status":"passed","title":"should filter by operationalStatus","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should filter by location","status":"failed","title":"should filter by location","duration":5,"failureMessages":["expected \"spy\" to be called with arguments: [ '/api/now/table/cmdb_ci', …(1) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"/api/now/table/cmdb_ci\",\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"sysparm_query\": StringContaining \"location LIKE Chicago\",\u001b[90m\n\u001b[31m+   Object {\u001b[90m\n\u001b[31m+     \"sysparm_display_value\": \"all\",\u001b[90m\n\u001b[31m+     \"sysparm_limit\": 10,\u001b[90m\n\u001b[31m+     \"sysparm_query\": \"locationLIKEChicago\",\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":113,"column":34}},{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should filter by ownerGroup","status":"passed","title":"should filter by ownerGroup","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should filter by environment","status":"passed","title":"should filter by environment","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Filter Parameter Support"],"fullName":" CMDB Search Filters Filter Parameter Support should combine multiple filters","status":"passed","title":"should combine multiple filters","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Query Validation"],"fullName":" CMDB Search Filters Query Validation should throw error when no search criteria provided","status":"passed","title":"should throw error when no search criteria provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Query Validation"],"fullName":" CMDB Search Filters Query Validation should allow search with only className","status":"passed","title":"should allow search with only className","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Query Validation"],"fullName":" CMDB Search Filters Query Validation should allow search with only location","status":"passed","title":"should allow search with only location","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Result Limiting"],"fullName":" CMDB Search Filters Result Limiting should default to 10 results when limit not specified","status":"passed","title":"should default to 10 results when limit not specified","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Result Limiting"],"fullName":" CMDB Search Filters Result Limiting should enforce maximum limit of 50","status":"passed","title":"should enforce maximum limit of 50","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Result Limiting"],"fullName":" CMDB Search Filters Result Limiting should respect custom limit within bounds","status":"passed","title":"should respect custom limit within bounds","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Real-world Query Scenarios"],"fullName":" CMDB Search Filters Real-world Query Scenarios should handle query: 'production servers'","status":"passed","title":"should handle query: 'production servers'","duration":1,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Real-world Query Scenarios"],"fullName":" CMDB Search Filters Real-world Query Scenarios should handle query: 'CIs in Chicago'","status":"passed","title":"should handle query: 'CIs in Chicago'","duration":0,"failureMessages":[]},{"ancestorTitles":["","CMDB Search Filters","Real-world Query Scenarios"],"fullName":" CMDB Search Filters Real-world Query Scenarios should handle query: 'non-operational devices'","status":"passed","title":"should handle query: 'non-operational devices'","duration":0,"failureMessages":[]}],"startTime":1763484010292,"endTime":1763484010306,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb-search-filters.test.ts"},{"assertionResults":[{"ancestorTitles":["","CollectionService","shouldCaptureExemplar"],"fullName":" CollectionService shouldCaptureExemplar should approve high-quality successful interactions","status":"failed","title":"should approve high-quality successful interactions","duration":4,"failureMessages":["expected 0.6000000000000002 to be 0.6 // Object.is equality"],"location":{"line":23,"column":37}},{"ancestorTitles":["","CollectionService","shouldCaptureExemplar"],"fullName":" CollectionService shouldCaptureExemplar should reject low-quality interactions below threshold","status":"failed","title":"should reject low-quality interactions below threshold","duration":0,"failureMessages":["expected 0.10000000000000002 to be 0.1 // Object.is equality"],"location":{"line":42,"column":37}},{"ancestorTitles":["","CollectionService","shouldCaptureExemplar"],"fullName":" CollectionService shouldCaptureExemplar should always reject failure outcomes regardless of quality","status":"failed","title":"should always reject failure outcomes regardless of quality","duration":2,"failureMessages":["expected 'Interaction outcome was failure' to contain 'Failure outcomes'"],"location":{"line":62,"column":31}},{"ancestorTitles":["","CollectionService","shouldCaptureExemplar"],"fullName":" CollectionService shouldCaptureExemplar should require higher threshold for user-corrected interactions","status":"passed","title":"should require higher threshold for user-corrected interactions","duration":0,"failureMessages":[]},{"ancestorTitles":["","CollectionService","shouldCaptureExemplar"],"fullName":" CollectionService shouldCaptureExemplar should allow user-corrected interactions with sufficient quality","status":"passed","title":"should allow user-corrected interactions with sufficient quality","duration":0,"failureMessages":[]},{"ancestorTitles":["","CollectionService","summarizeContext"],"fullName":" CollectionService summarizeContext should extract text from discovery pack","status":"passed","title":"should extract text from discovery pack","duration":1,"failureMessages":[]},{"ancestorTitles":["","CollectionService","summarizeContext"],"fullName":" CollectionService summarizeContext should extract from case snapshot when discovery pack absent","status":"failed","title":"should extract from case snapshot when discovery pack absent","duration":0,"failureMessages":["expected 'Case: SCS0123456 | Type: kb_generatio…' to contain 'KB0012345'"],"location":{"line":157,"column":23}},{"ancestorTitles":["","CollectionService","summarizeContext"],"fullName":" CollectionService summarizeContext should handle minimal context gracefully","status":"passed","title":"should handle minimal context gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","CollectionService","prepareExemplar"],"fullName":" CollectionService prepareExemplar should structure exemplar data for storage","status":"passed","title":"should structure exemplar data for storage","duration":1,"failureMessages":[]},{"ancestorTitles":["","CollectionService","prepareExemplar"],"fullName":" CollectionService prepareExemplar should include summary in prepared exemplar","status":"failed","title":"should include summary in prepared exemplar","duration":1,"failureMessages":["expected undefined not to be undefined"],"location":{"line":224,"column":32}},{"ancestorTitles":["","CollectionService","edge cases"],"fullName":" CollectionService edge cases should handle empty quality signals array","status":"passed","title":"should handle empty quality signals array","duration":0,"failureMessages":[]},{"ancestorTitles":["","CollectionService","edge cases"],"fullName":" CollectionService edge cases should handle unknown interaction types","status":"failed","title":"should handle unknown interaction types","duration":0,"failureMessages":["expected 0.6000000000000002 to be 0.6 // Object.is equality"],"location":{"line":264,"column":37}}],"startTime":1763484011629,"endTime":1763484011638,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/collection-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should generate concise pattern from case data","status":"passed","title":"should generate concise pattern from case data","duration":2,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should include category in pattern","status":"passed","title":"should include category in pattern","duration":0,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should mark high priority cases","status":"passed","title":"should mark high priority cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should handle missing fields gracefully","status":"passed","title":"should handle missing fields gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should truncate long patterns to 60 chars","status":"passed","title":"should truncate long patterns to 60 chars","duration":0,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should extract technical terms and filter stop words","status":"passed","title":"should extract technical terms and filter stop words","duration":0,"failureMessages":[]},{"ancestorTitles":["","generatePatternSummary"],"fullName":" generatePatternSummary should prioritize capitalized and technical words","status":"passed","title":"should prioritize capitalized and technical words","duration":0,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should extract 2-3 key points from content","status":"passed","title":"should extract 2-3 key points from content","duration":1,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should filter out generic sentences","status":"passed","title":"should filter out generic sentences","duration":0,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should truncate long sentences to 80 chars","status":"passed","title":"should truncate long sentences to 80 chars","duration":1,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should return empty array for empty content","status":"passed","title":"should return empty array for empty content","duration":0,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should handle content with no valid sentences","status":"passed","title":"should handle content with no valid sentences","duration":0,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should respect maxPoints parameter","status":"passed","title":"should respect maxPoints parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","extractKeyPoints"],"fullName":" extractKeyPoints should skip sentences that are too short or too long","status":"passed","title":"should skip sentences that are too short or too long","duration":0,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should not truncate short text","status":"passed","title":"should not truncate short text","duration":1,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should truncate at sentence boundary when possible","status":"passed","title":"should truncate at sentence boundary when possible","duration":0,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should truncate at word boundary if no complete sentence fits","status":"passed","title":"should truncate at word boundary if no complete sentence fits","duration":0,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should use default maxLength of 150","status":"passed","title":"should use default maxLength of 150","duration":0,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should return empty string for empty input","status":"passed","title":"should return empty string for empty input","duration":0,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should handle null/undefined gracefully","status":"passed","title":"should handle null/undefined gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","truncateToExcerpt"],"fullName":" truncateToExcerpt should preserve multiple complete sentences within limit","status":"passed","title":"should preserve multiple complete sentences within limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should strip HTML tags","status":"passed","title":"should strip HTML tags","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should convert <br> tags to spaces","status":"passed","title":"should convert <br> tags to spaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should convert <p> tags to spaces","status":"passed","title":"should convert <p> tags to spaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should normalize whitespace","status":"passed","title":"should normalize whitespace","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should trim the result","status":"passed","title":"should trim the result","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should return empty string for empty input","status":"passed","title":"should return empty string for empty input","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should handle null/undefined gracefully","status":"passed","title":"should handle null/undefined gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should handle nested HTML tags","status":"passed","title":"should handle nested HTML tags","duration":0,"failureMessages":[]},{"ancestorTitles":["","sanitizeHtml"],"fullName":" sanitizeHtml should handle self-closing tags","status":"passed","title":"should handle self-closing tags","duration":1,"failureMessages":[]}],"startTime":1763484011904,"endTime":1763484011913,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/content-helpers.test.ts"},{"assertionResults":[{"ancestorTitles":["","Cron API","Case Leaderboard API"],"fullName":" Cron API Case Leaderboard API should post leaderboard successfully with channel parameter","status":"passed","title":"should post leaderboard successfully with channel parameter","duration":11,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Leaderboard API"],"fullName":" Cron API Case Leaderboard API should use app settings when channel parameter not provided","status":"passed","title":"should use app settings when channel parameter not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Leaderboard API"],"fullName":" Cron API Case Leaderboard API should return error when channel is missing","status":"passed","title":"should return error when channel is missing","duration":2,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Leaderboard API"],"fullName":" Cron API Case Leaderboard API should handle service errors gracefully","status":"passed","title":"should handle service errors gracefully","duration":4,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Leaderboard API"],"fullName":" Cron API Case Leaderboard API should work with POST requests","status":"passed","title":"should work with POST requests","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should post queue report successfully","status":"passed","title":"should post queue report successfully","duration":10,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should parse mentions parameter correctly","status":"passed","title":"should parse mentions parameter correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should parse includeUnassigned parameter","status":"passed","title":"should parse includeUnassigned parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should return error when channel is missing","status":"passed","title":"should return error when channel is missing","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should handle null result from service","status":"passed","title":"should handle null result from service","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Report API"],"fullName":" Cron API Case Queue Report API should work with POST requests","status":"passed","title":"should work with POST requests","duration":1,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Snapshot API"],"fullName":" Cron API Case Queue Snapshot API should create and persist snapshot successfully","status":"passed","title":"should create and persist snapshot successfully","duration":24,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Snapshot API"],"fullName":" Cron API Case Queue Snapshot API should handle service errors gracefully","status":"passed","title":"should handle service errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","Cron API","Case Queue Snapshot API"],"fullName":" Cron API Case Queue Snapshot API should work with POST requests","status":"passed","title":"should work with POST requests","duration":0,"failureMessages":[]},{"ancestorTitles":["","Cron API","Response Headers"],"fullName":" Cron API Response Headers should set correct headers for cron endpoints","status":"passed","title":"should set correct headers for cron endpoints","duration":0,"failureMessages":[]}],"startTime":1763484009955,"endTime":1763484010016,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cron-api.test.ts"},{"assertionResults":[{"ancestorTitles":["","generateDiscoveryContextPack"],"fullName":" generateDiscoveryContextPack builds pack using provided data","status":"failed","title":"builds pack using provided data","duration":13,"failureMessages":["expected '1.1.0' to be '1.0.0' // Object.is equality"],"location":{"line":112,"column":32}},{"ancestorTitles":["","generateDiscoveryContextPack"],"fullName":" generateDiscoveryContextPack fetches business context when not provided","status":"passed","title":"fetches business context when not provided","duration":2,"failureMessages":[]},{"ancestorTitles":["","generateDiscoveryContextPack"],"fullName":" generateDiscoveryContextPack falls back to search facade for similar cases","status":"passed","title":"falls back to search facade for similar cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","generateDiscoveryContextPack"],"fullName":" generateDiscoveryContextPack attaches client scope policy summary when available","status":"passed","title":"attaches client scope policy summary when available","duration":1,"failureMessages":[]}],"startTime":1763484013629,"endTime":1763484013646,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/discovery-context-pack.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatCaseSummaryText"],"fullName":" ServiceNow Formatter Snapshots formatCaseSummaryText should match snapshot for complete case with journal entries","status":"passed","title":"should match snapshot for complete case with journal entries","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatCaseSummaryText"],"fullName":" ServiceNow Formatter Snapshots formatCaseSummaryText should match snapshot for minimal case","status":"passed","title":"should match snapshot for minimal case","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatIncidentForLLM"],"fullName":" ServiceNow Formatter Snapshots formatIncidentForLLM should match snapshot for incident","status":"passed","title":"should match snapshot for incident","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatter Snapshots formatJournalEntriesForLLM should match snapshot for journal entries","status":"passed","title":"should match snapshot for journal entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatter Snapshots formatJournalEntriesForLLM should return null for empty entries","status":"passed","title":"should return null for empty entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatter Snapshots formatSearchResultsForLLM should match snapshot for search results","status":"passed","title":"should match snapshot for search results","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatter Snapshots formatSearchResultsForLLM should match snapshot for empty search results","status":"passed","title":"should match snapshot for empty search results","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","Data Truncation"],"fullName":" ServiceNow Formatter Snapshots Data Truncation should truncate very long descriptions","status":"passed","title":"should truncate very long descriptions","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","Data Truncation"],"fullName":" ServiceNow Formatter Snapshots Data Truncation should limit number of journal entries displayed","status":"passed","title":"should limit number of journal entries displayed","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","Edge Cases"],"fullName":" ServiceNow Formatter Snapshots Edge Cases should handle missing optional fields gracefully","status":"passed","title":"should handle missing optional fields gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","Consistency Across Formatters"],"fullName":" ServiceNow Formatter Snapshots Consistency Across Formatters should use consistent date formatting","status":"passed","title":"should use consistent date formatting","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatter Snapshots","Consistency Across Formatters"],"fullName":" ServiceNow Formatter Snapshots Consistency Across Formatters should use consistent bullet point formatting","status":"passed","title":"should use consistent bullet point formatting","duration":0,"failureMessages":[]}],"startTime":1763484010490,"endTime":1763484010498,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/formatter-snapshots.test.ts"},{"assertionResults":[{"ancestorTitles":["","generateResponse"],"fullName":" generateResponse generates a response for a simple conversation","status":"passed","title":"generates a response for a simple conversation","duration":2,"failureMessages":[]},{"ancestorTitles":["","generateResponse"],"fullName":" generateResponse handles an empty message array","status":"passed","title":"handles an empty message array","duration":0,"failureMessages":[]},{"ancestorTitles":["","generateResponse"],"fullName":" generateResponse invokes updateStatus callbacks","status":"passed","title":"invokes updateStatus callbacks","duration":1,"failureMessages":[]},{"ancestorTitles":["","generateResponse"],"fullName":" generateResponse passes through options","status":"failed","title":"passes through options","duration":5,"failureMessages":["expected \"spy\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"messages\": Any<Array>,\u001b[90m\n\u001b[32m-     \"options\": ObjectContaining {\u001b[90m\n\u001b[31m+   Object {\u001b[90m\n\u001b[31m+     \"caseNumbers\": Array [],\u001b[90m\n\u001b[31m+     \"contextMetadata\": Object {},\u001b[90m\n\u001b[31m+     \"messages\": Array [\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"content\": \"Mock system prompt\",\u001b[90m\n\u001b[31m+         \"role\": \"system\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"content\": \"Test with full options\",\u001b[90m\n\u001b[31m+         \"role\": \"user\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+     ],\u001b[90m\n\u001b[31m+     \"options\": Object {\u001b[90m\n\u001b[2m        \"channelId\": \"C123456\",\u001b[22m\n\u001b[2m        \"channelName\": \"general\",\u001b[22m\n\u001b[2m        \"threadTs\": \"1234567890.123456\",\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[32m-     \"updateStatus\": Any<Function>,\u001b[90m\n\u001b[31m+     \"updateStatus\": undefined,\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":116,"column":26}},{"ancestorTitles":["","generateResponse"],"fullName":" generateResponse propagates errors from the agent runner","status":"passed","title":"propagates errors from the agent runner","duration":1,"failureMessages":[]}],"startTime":1763484015376,"endTime":1763484015385,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/generate-response.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","handleNewAppMention Block Kit formatting"],"fullName":" handleNewAppMention Block Kit formatting splits long LLM summaries into section blocks before appending the minimal case card","status":"failed","title":"splits long LLM summaries into section blocks before appending the minimal case card","duration":9,"failureMessages":["expected undefined not to be undefined"],"location":{"line":118,"column":34}}],"startTime":1763484015014,"endTime":1763484015023,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/handle-app-mention.blockkit.test.ts"},{"assertionResults":[{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should extract ServiceNow case numbers from text","status":"passed","title":"should extract ServiceNow case numbers from text","duration":2,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should extract INC numbers","status":"passed","title":"should extract INC numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should extract RITM numbers","status":"passed","title":"should extract RITM numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should return empty array when no case numbers found","status":"passed","title":"should return empty array when no case numbers found","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should handle multiple case numbers of different types","status":"passed","title":"should handle multiple case numbers of different types","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should deduplicate repeated case numbers","status":"passed","title":"should deduplicate repeated case numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","extractCaseNumbers"],"fullName":" handle-passive-messages - Integration Tests extractCaseNumbers should handle case numbers in URLs","status":"passed","title":"should handle case numbers in URLs","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should ignore messages from the bot itself","status":"passed","title":"should ignore messages from the bot itself","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should ignore @mention messages (handled by different flow)","status":"passed","title":"should ignore @mention messages (handled by different flow)","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should process messages with case numbers","status":"passed","title":"should process messages with case numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should handle thread messages","status":"passed","title":"should handle thread messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should handle messages without case numbers gracefully","status":"passed","title":"should handle messages without case numbers gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","handlePassiveMessage"],"fullName":" handle-passive-messages - Integration Tests handlePassiveMessage should handle subtype messages appropriately","status":"passed","title":"should handle subtype messages appropriately","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","notifyResolution"],"fullName":" handle-passive-messages - Integration Tests notifyResolution should handle KB workflow trigger","status":"passed","title":"should handle KB workflow trigger","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","notifyResolution"],"fullName":" handle-passive-messages - Integration Tests notifyResolution should handle missing case number gracefully","status":"passed","title":"should handle missing case number gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","cleanupTimedOutGathering"],"fullName":" handle-passive-messages - Integration Tests cleanupTimedOutGathering should execute cleanup without errors","status":"passed","title":"should execute cleanup without errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","cleanupTimedOutGathering"],"fullName":" handle-passive-messages - Integration Tests cleanupTimedOutGathering should be callable multiple times","status":"failed","title":"should be callable multiple times","duration":2,"failureMessages":["Cannot read properties of undefined (reading 'cleanupTimedOut')"],"location":{"line":68,"column":18}},{"ancestorTitles":["","handle-passive-messages - Integration Tests","Edge Cases"],"fullName":" handle-passive-messages - Integration Tests Edge Cases should handle malformed event objects","status":"passed","title":"should handle malformed event objects","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","Edge Cases"],"fullName":" handle-passive-messages - Integration Tests Edge Cases should handle very long messages","status":"passed","title":"should handle very long messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","Edge Cases"],"fullName":" handle-passive-messages - Integration Tests Edge Cases should handle messages with special characters in case numbers","status":"passed","title":"should handle messages with special characters in case numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","Edge Cases"],"fullName":" handle-passive-messages - Integration Tests Edge Cases should handle concurrent message processing","status":"passed","title":"should handle concurrent message processing","duration":0,"failureMessages":[]},{"ancestorTitles":["","handle-passive-messages - Integration Tests","Context Integration"],"fullName":" handle-passive-messages - Integration Tests Context Integration should work with existing context manager","status":"passed","title":"should work with existing context manager","duration":0,"failureMessages":[]}],"startTime":1763484007746,"endTime":1763484007758,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/handle-passive-messages.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect onboarding request with high confidence","status":"passed","title":"should detect onboarding request with high confidence","duration":2,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect termination request","status":"passed","title":"should detect termination request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect offboarding request","status":"passed","title":"should detect offboarding request","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect new account request","status":"passed","title":"should detect new account request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect account modification request","status":"passed","title":"should detect account modification request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should detect transfer request","status":"passed","title":"should detect transfer request","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should not detect HR request in technical issues","status":"passed","title":"should not detect HR request in technical issues","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should use custom mappings when provided","status":"passed","title":"should use custom mappings when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should handle case-insensitive matching","status":"passed","title":"should handle case-insensitive matching","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should prioritize higher priority mappings","status":"passed","title":"should prioritize higher priority mappings","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","detectHRRequest"],"fullName":" HRRequestDetector detectHRRequest should calculate confidence based on multiple factors","status":"passed","title":"should calculate confidence based on multiple factors","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","shouldAutoRedirect"],"fullName":" HRRequestDetector shouldAutoRedirect should return true for high confidence HR request","status":"passed","title":"should return true for high confidence HR request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","shouldAutoRedirect"],"fullName":" HRRequestDetector shouldAutoRedirect should return false for low confidence HR request","status":"passed","title":"should return false for low confidence HR request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","shouldAutoRedirect"],"fullName":" HRRequestDetector shouldAutoRedirect should return false for non-HR request","status":"passed","title":"should return false for non-HR request","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","shouldAutoRedirect"],"fullName":" HRRequestDetector shouldAutoRedirect should use default threshold when not provided","status":"passed","title":"should use default threshold when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","getCatalogItemNamesForType"],"fullName":" HRRequestDetector getCatalogItemNamesForType should return catalog item names for valid request type","status":"passed","title":"should return catalog item names for valid request type","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","getCatalogItemNamesForType"],"fullName":" HRRequestDetector getCatalogItemNamesForType should return empty array for invalid request type","status":"passed","title":"should return empty array for invalid request type","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","addMapping"],"fullName":" HRRequestDetector addMapping should add new mapping","status":"passed","title":"should add new mapping","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","addMapping"],"fullName":" HRRequestDetector addMapping should update existing mapping","status":"passed","title":"should update existing mapping","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","getSupportedRequestTypes"],"fullName":" HRRequestDetector getSupportedRequestTypes should return all supported request types","status":"passed","title":"should return all supported request types","duration":1,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","getStats"],"fullName":" HRRequestDetector getStats should return detector statistics","status":"passed","title":"should return detector statistics","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","fromConfig"],"fullName":" HRRequestDetector fromConfig should create detector from valid config","status":"passed","title":"should create detector from valid config","duration":0,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","fromConfig"],"fullName":" HRRequestDetector fromConfig should return default detector for invalid config","status":"passed","title":"should return default detector for invalid config","duration":7,"failureMessages":[]},{"ancestorTitles":["","HRRequestDetector","fromConfig"],"fullName":" HRRequestDetector fromConfig should return default detector for empty config","status":"passed","title":"should return default detector for empty config","duration":1,"failureMessages":[]},{"ancestorTitles":["","getHRRequestDetector"],"fullName":" getHRRequestDetector should return singleton instance","status":"passed","title":"should return singleton instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","getHRRequestDetector"],"fullName":" getHRRequestDetector should use environment config when available","status":"passed","title":"should use environment config when available","duration":2,"failureMessages":[]}],"startTime":1763484007681,"endTime":1763484007699,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/hr-request-detector.test.ts"},{"assertionResults":[{"ancestorTitles":["","IncidentClarificationService","Slack Message Sending"],"fullName":" IncidentClarificationService Slack Message Sending ✓ Sends Slack message with Block Kit buttons","status":"failed","title":"✓ Sends Slack message with Block Kit buttons","duration":10,"failureMessages":["expected \"spy\" to be called with arguments: [ { channel: 'C123456', …(3) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[32m-     \"blocks\": ArrayContaining [\u001b[90m\n\u001b[32m-       ObjectContaining {\u001b[90m\n\u001b[31m+     \"blocks\": Array [\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[2m          \"text\": Object {\u001b[22m\n\u001b[2m            \"text\": \"🔍 CI Clarification Needed: INC001001\",\u001b[22m\n\u001b[2m            \"type\": \"plain_text\",\u001b[22m\n\u001b[2m          },\u001b[22m\n\u001b[2m          \"type\": \"header\",\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[32m-       ObjectContaining {\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[2m          \"text\": Object {\u001b[22m\n\u001b[32m-           \"text\": StringContaining \"Multiple possible Configuration Items were found\",\u001b[90m\n\u001b[31m+           \"text\": \"Multiple possible Configuration Items were found, but none with high enough confidence to auto-link.\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Please select the correct CI for this incident:\",\u001b[90m\n\u001b[2m            \"type\": \"mrkdwn\",\u001b[22m\n\u001b[2m          },\u001b[22m\n\u001b[2m          \"type\": \"section\",\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[32m-       ObjectContaining {\u001b[90m\n\u001b[32m-         \"accessory\": ObjectContaining {\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"type\": \"divider\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"accessory\": Object {\u001b[90m\n\u001b[2m            \"action_id\": \"select_ci_0\",\u001b[22m\n\u001b[2m            \"style\": \"primary\",\u001b[22m\n\u001b[2m            \"text\": Object {\u001b[22m\n\u001b[2m              \"text\": \"Select This CI\",\u001b[22m\n\u001b[2m              \"type\": \"plain_text\",\u001b[22m\n\u001b[2m            },\u001b[22m\n\u001b[2m            \"type\": \"button\",\u001b[22m\n\u001b[31m+           \"value\": \"{\\\"action\\\":\\\"select_ci\\\",\\\"incident_sys_id\\\":\\\"incident_sys_id_123\\\",\\\"ci_sys_id\\\":\\\"ci_1\\\",\\\"ci_name\\\":\\\"edge-ACCT0242146-01\\\"}\",\u001b[90m\n\u001b[2m          },\u001b[22m\n\u001b[2m          \"text\": Object {\u001b[22m\n\u001b[32m-           \"text\": StringContaining \"*Option 1: edge-ACCT0242146-01*\",\u001b[90m\n\u001b[31m+           \"text\": \"*Option 1: edge-ACCT0242146-01*\u001b[90m\n\u001b[31m+ _Class:_ VeloCloud Edge\u001b[90m\n\u001b[31m+ _Confidence:_ 65%\u001b[90m\n\u001b[31m+ _Match Reason:_ Partial edge name match\",\u001b[90m\n\u001b[2m            \"type\": \"mrkdwn\",\u001b[22m\n\u001b[2m          },\u001b[22m\n\u001b[2m          \"type\": \"section\",\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[32m-       ObjectContaining {\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"accessory\": Object {\u001b[90m\n\u001b[31m+           \"action_id\": \"select_ci_1\",\u001b[90m\n\u001b[31m+           \"style\": \"primary\",\u001b[90m\n\u001b[31m+           \"text\": Object {\u001b[90m\n\u001b[31m+             \"text\": \"Select This CI\",\u001b[90m\n\u001b[31m+             \"type\": \"plain_text\",\u001b[90m\n\u001b[31m+           },\u001b[90m\n\u001b[31m+           \"type\": \"button\",\u001b[90m\n\u001b[31m+           \"value\": \"{\\\"action\\\":\\\"select_ci\\\",\\\"incident_sys_id\\\":\\\"incident_sys_id_123\\\",\\\"ci_sys_id\\\":\\\"ci_2\\\",\\\"ci_name\\\":\\\"server-01\\\"}\",\u001b[90m\n\u001b[31m+         },\u001b[90m\n\u001b[31m+         \"text\": Object {\u001b[90m\n\u001b[31m+           \"text\": \"*Option 2: server-01*\u001b[90m\n\u001b[31m+ _Class:_ cmdb_ci_server\u001b[90m\n\u001b[31m+ _Confidence:_ 60%\u001b[90m\n\u001b[31m+ _Match Reason:_ Name match\",\u001b[90m\n\u001b[31m+           \"type\": \"mrkdwn\",\u001b[90m\n\u001b[31m+         },\u001b[90m\n\u001b[31m+         \"type\": \"section\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"type\": \"divider\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"accessory\": Object {\u001b[90m\n\u001b[2m            \"action_id\": \"skip_ci\",\u001b[22m\n\u001b[2m            \"text\": Object {\u001b[22m\n\u001b[2m              \"text\": \"Skip Auto-Link\",\u001b[22m\n\u001b[2m              \"type\": \"plain_text\",\u001b[22m\n\u001b[2m            },\u001b[22m\n\u001b[2m            \"type\": \"button\",\u001b[22m\n\u001b[31m+           \"value\": \"{\\\"action\\\":\\\"skip_ci\\\",\\\"incident_sys_id\\\":\\\"incident_sys_id_123\\\"}\",\u001b[90m\n\u001b[31m+         },\u001b[90m\n\u001b[31m+         \"text\": Object {\u001b[90m\n\u001b[31m+           \"text\": \"*None of the above match?*\u001b[90m\n\u001b[31m+ You can manually link the CI in ServiceNow.\",\u001b[90m\n\u001b[31m+           \"type\": \"mrkdwn\",\u001b[90m\n\u001b[31m+         },\u001b[90m\n\u001b[31m+         \"type\": \"section\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"elements\": Array [\u001b[90m\n\u001b[31m+           Object {\u001b[90m\n\u001b[31m+             \"text\": \"Incident: <https://mobiz.service-now.com/incident.do?sys_id=incident_sys_id_123|INC001001>\",\u001b[90m\n\u001b[31m+             \"type\": \"mrkdwn\",\u001b[90m\n\u001b[31m+           },\u001b[90m\n\u001b[31m+         ],\u001b[90m\n\u001b[31m+         \"type\": \"context\",\u001b[90m\n\u001b[2m        },\u001b[22m\n\u001b[2m      ],\u001b[22m\n\u001b[2m      \"channel\": \"C123456\",\u001b[22m\n\u001b[2m      \"text\": \"CI Clarification needed for INC001001\",\u001b[22m\n\u001b[2m      \"threadTs\": \"1234567890.123456\",\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":79,"column":44}},{"ancestorTitles":["","IncidentClarificationService","Slack Message Sending"],"fullName":" IncidentClarificationService Slack Message Sending ✓ Limits candidate CIs to 5 options","status":"failed","title":"✓ Limits candidate CIs to 5 options","duration":1,"failureMessages":["Cannot read properties of undefined (reading '0')"],"location":{"line":156,"column":63}},{"ancestorTitles":["","IncidentClarificationService","Channel Configuration"],"fullName":" IncidentClarificationService Channel Configuration ✓ Fails fast when no Slack channel configured","status":"passed","title":"✓ Fails fast when no Slack channel configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Channel Configuration"],"fullName":" IncidentClarificationService Channel Configuration ✓ Uses default channel when no channelId provided","status":"passed","title":"✓ Uses default channel when no channelId provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Duplicate Prevention"],"fullName":" IncidentClarificationService Duplicate Prevention ✓ Prevents duplicate clarifications (TTL check)","status":"passed","title":"✓ Prevents duplicate clarifications (TTL check)","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Duplicate Prevention"],"fullName":" IncidentClarificationService Duplicate Prevention ✓ Allows new clarification after TTL expires","status":"passed","title":"✓ Allows new clarification after TTL expires","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Response Handling"],"fullName":" IncidentClarificationService Response Handling ✓ Handles CI selection response","status":"passed","title":"✓ Handles CI selection response","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Response Handling"],"fullName":" IncidentClarificationService Response Handling ✓ Handles skip action","status":"passed","title":"✓ Handles skip action","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Response Handling"],"fullName":" IncidentClarificationService Response Handling ✓ Updates Slack message after selection","status":"passed","title":"✓ Updates Slack message after selection","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Cleanup and Maintenance"],"fullName":" IncidentClarificationService Cleanup and Maintenance ✓ Cleans up expired clarifications","status":"passed","title":"✓ Cleans up expired clarifications","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Cleanup and Maintenance"],"fullName":" IncidentClarificationService Cleanup and Maintenance ✓ Stores clarification timestamp in DB","status":"passed","title":"✓ Stores clarification timestamp in DB","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Error Handling"],"fullName":" IncidentClarificationService Error Handling ✓ Handles Slack API errors gracefully","status":"passed","title":"✓ Handles Slack API errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Error Handling"],"fullName":" IncidentClarificationService Error Handling ✓ Handles repository errors gracefully","status":"passed","title":"✓ Handles repository errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Error Handling"],"fullName":" IncidentClarificationService Error Handling ✓ Handles enrichment service errors in response","status":"passed","title":"✓ Handles enrichment service errors in response","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Error Handling"],"fullName":" IncidentClarificationService Error Handling ✓ Handles skip action errors gracefully","status":"passed","title":"✓ Handles skip action errors gracefully","duration":10,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Message Content Validation"],"fullName":" IncidentClarificationService Message Content Validation ✓ Includes incident link in message","status":"passed","title":"✓ Includes incident link in message","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Message Content Validation"],"fullName":" IncidentClarificationService Message Content Validation ✓ Formats CI options correctly","status":"passed","title":"✓ Formats CI options correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Service Lifecycle"],"fullName":" IncidentClarificationService Service Lifecycle ✓ Initializes with correct TTL","status":"passed","title":"✓ Initializes with correct TTL","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentClarificationService","Service Lifecycle"],"fullName":" IncidentClarificationService Service Lifecycle ✓ Returns correct pending count","status":"passed","title":"✓ Returns correct pending count","duration":0,"failureMessages":[]}],"startTime":1763484006476,"endTime":1763484006509,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/incident-clarification-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","IncidentEnrichmentService","High Confidence Flow"],"fullName":" IncidentEnrichmentService High Confidence Flow ✓ High confidence flow: fetches incident → analyzes notes → matches CI → auto-links → updates case","status":"failed","title":"✓ High confidence flow: fetches incident → analyzes notes → matches CI → auto-links → updates case","duration":2,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Low Confidence Flow"],"fullName":" IncidentEnrichmentService Low Confidence Flow ✓ Low confidence flow: fetches incident → analyzes notes → matches CI → requests clarification","status":"failed","title":"✓ Low confidence flow: fetches incident → analyzes notes → matches CI → requests clarification","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","No Matches Flow"],"fullName":" IncidentEnrichmentService No Matches Flow ✓ No matches flow: analyzes notes → no CIs found → adds work note → marks enriched","status":"failed","title":"✓ No matches flow: analyzes notes → no CIs found → adds work note → marks enriched","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Error Flow"],"fullName":" IncidentEnrichmentService Error Flow ✓ Error flow: getIncident returns null → marks as error stage → no retry","status":"failed","title":"✓ Error flow: getIncident returns null → marks as error stage → no retry","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Error Flow"],"fullName":" IncidentEnrichmentService Error Flow ✓ Incident not found in watchlist","status":"failed","title":"✓ Incident not found in watchlist","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Feature Flag"],"fullName":" IncidentEnrichmentService Feature Flag ✓ Feature flag disabled: returns early with disabled message","status":"failed","title":"✓ Feature flag disabled: returns early with disabled message","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Feature Flag"],"fullName":" IncidentEnrichmentService Feature Flag ✓ isEnabled returns correct state","status":"failed","title":"✓ isEnabled returns correct state","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Manual CI Selection"],"fullName":" IncidentEnrichmentService Manual CI Selection ✓ Manual CI selection: links selected CI → updates stage to enriched","status":"failed","title":"✓ Manual CI selection: links selected CI → updates stage to enriched","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Final Enrichment"],"fullName":" IncidentEnrichmentService Final Enrichment ✓ Final enrichment: skips if already enriched","status":"failed","title":"✓ Final enrichment: skips if already enriched","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Final Enrichment"],"fullName":" IncidentEnrichmentService Final Enrichment ✓ Final enrichment: skips if not in watchlist","status":"failed","title":"✓ Final enrichment: skips if not in watchlist","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Final Enrichment"],"fullName":" IncidentEnrichmentService Final Enrichment ✓ Final enrichment: runs enrichment if not already enriched","status":"failed","title":"✓ Final enrichment: runs enrichment if not already enriched","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Data Persistence"],"fullName":" IncidentEnrichmentService Data Persistence ✓ Stores extracted entities in DB","status":"failed","title":"✓ Stores extracted entities in DB","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Data Persistence"],"fullName":" IncidentEnrichmentService Data Persistence ✓ Stores matched CIs with confidence scores","status":"failed","title":"✓ Stores matched CIs with confidence scores","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Data Persistence"],"fullName":" IncidentEnrichmentService Data Persistence ✓ Updates last_processed_at timestamp","status":"failed","title":"✓ Updates last_processed_at timestamp","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Error Handling"],"fullName":" IncidentEnrichmentService Error Handling ✓ Handles ServiceNow API errors gracefully","status":"failed","title":"✓ Handles ServiceNow API errors gracefully","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Error Handling"],"fullName":" IncidentEnrichmentService Error Handling ✓ Handles repository errors gracefully","status":"failed","title":"✓ Handles repository errors gracefully","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Error Handling"],"fullName":" IncidentEnrichmentService Error Handling ✓ Handles clarification response errors","status":"failed","title":"✓ Handles clarification response errors","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}},{"ancestorTitles":["","IncidentEnrichmentService","Configuration"],"fullName":" IncidentEnrichmentService Configuration ✓ Uses confidence threshold from environment","status":"failed","title":"✓ Uses confidence threshold from environment","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'mockResolvedValue')"],"location":{"line":49,"column":39}}],"startTime":1763484005454,"endTime":1763484005463,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/incident-enrichment-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Extracts IP addresses from work notes","status":"passed","title":"✓ Extracts IP addresses from work notes","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Extracts hostnames from work notes","status":"passed","title":"✓ Extracts hostnames from work notes","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Extracts edge names from work notes","status":"passed","title":"✓ Extracts edge names from work notes","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Extracts account numbers (ACCT format)","status":"passed","title":"✓ Extracts account numbers (ACCT format)","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Extracts error messages","status":"passed","title":"✓ Extracts error messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Entity Extraction"],"fullName":" IncidentNoteAnalyzerService Entity Extraction ✓ Returns confidence score","status":"passed","title":"✓ Returns confidence score","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Summary Generation"],"fullName":" IncidentNoteAnalyzerService Summary Generation ✓ Generates enrichment summary markdown","status":"failed","title":"✓ Generates enrichment summary markdown","duration":4,"failureMessages":["expected '## Automated Incident Enrichment\\n\\nT…' to contain '*This enrichment was generated automa…'"],"location":{"line":275,"column":23}},{"ancestorTitles":["","IncidentNoteAnalyzerService","Summary Generation"],"fullName":" IncidentNoteAnalyzerService Summary Generation ✓ Handles empty entities gracefully","status":"failed","title":"✓ Handles empty entities gracefully","duration":0,"failureMessages":["expected '## Automated Incident Enrichment\\n\\nT…' to contain '*This enrichment was generated automa…'"],"location":{"line":294,"column":23}},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Handles empty work notes gracefully","status":"failed","title":"✓ Handles empty work notes gracefully","duration":2,"failureMessages":["expected 0.5 to be +0 // Object.is equality"],"location":{"line":330,"column":33}},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Regex fallback extracts account numbers when LLM fails","status":"passed","title":"✓ Regex fallback extracts account numbers when LLM fails","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Regex fallback extracts IP addresses when LLM fails","status":"passed","title":"✓ Regex fallback extracts IP addresses when LLM fails","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Uses configured anthropicModel (not hardcoded)","status":"failed","title":"✓ Uses configured anthropicModel (not hardcoded)","duration":3,"failureMessages":["expected \"spy\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"model\": \"claude-3-sonnet-20240229\",\u001b[90m\n\u001b[31m+   Object {\u001b[90m\n\u001b[31m+     \"max_tokens\": 1500,\u001b[90m\n\u001b[31m+     \"messages\": Array [\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"content\": \"Short Description: Test\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Work Notes:\u001b[90m\n\u001b[31m+ Test note\",\u001b[90m\n\u001b[31m+         \"role\": \"user\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+     ],\u001b[90m\n\u001b[31m+     \"model\": \"claude-haiku-4-5\",\u001b[90m\n\u001b[31m+     \"system\": \"You are a technical entity extraction specialist for IT service management. Your task is to extract technical entities AND classify the issue type.\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ **1. EXTRACT ENTITIES:**\u001b[90m\n\u001b[31m+ - IP Addresses (IPv4/IPv6)\u001b[90m\n\u001b[31m+ - Hostnames (FQDNs, server names)\u001b[90m\n\u001b[31m+ - Edge/Network Device Names (VeloCloud edges, routers, switches)\u001b[90m\n\u001b[31m+ - Error Messages (error codes, stack traces)\u001b[90m\n\u001b[31m+ - System Names (servers, services, applications)\u001b[90m\n\u001b[31m+ - Account Numbers (ACCT + 7 digits, e.g., ACCT0242146)\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ **2. CLASSIFY ISSUE TYPE:**\u001b[90m\n\u001b[31m+ - \\\"internal_ci\\\" - Problem with managed infrastructure (server down, firewall issue, application crash)\u001b[90m\n\u001b[31m+ - \\\"external_dependency\\\" - ISP issue, carrier problem, external service outage, payment/billing\u001b[90m\n\u001b[31m+ - \\\"hybrid\\\" - Both internal CI and external component involved\u001b[90m\n\u001b[31m+ - \\\"unknown\\\" - Cannot determine from description\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ **EXTERNAL KEYWORDS:** ISP, internet provider, carrier, billing, payment, external service, cloud provider outage, VeloCloud orchestrator, third-party\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Return JSON:\u001b[90m\n\u001b[31m+ {\u001b[90m\n\u001b[31m+   \\\"ip_addresses\\\": [],\u001b[90m\n\u001b[31m+   \\\"hostnames\\\": [],\u001b[90m\n\u001b[31m+   \\\"edge_names\\\": [],\u001b[90m\n\u001b[31m+   \\\"error_messages\\\": [],\u001b[90m\n\u001b[31m+   \\\"system_names\\\": [],\u001b[90m\n\u001b[31m+   \\\"account_numbers\\\": [],\u001b[90m\n\u001b[31m+   \\\"summary\\\": \\\"Brief 1-2 sentence summary\\\",\u001b[90m\n\u001b[31m+   \\\"confidence\\\": 0.85,\u001b[90m\n\u001b[31m+   \\\"intent\\\": {\u001b[90m\n\u001b[31m+     \\\"issue_type\\\": \\\"internal_ci\\\",\u001b[90m\n\u001b[31m+     \\\"confidence\\\": 0.9,\u001b[90m\n\u001b[31m+     \\\"reasoning\\\": \\\"Server crash mentioned\\\",\u001b[90m\n\u001b[31m+     \\\"external_providers\\\": [{\\\"type\\\": \\\"ISP\\\", \\\"name\\\": \\\"AT&T\\\"}]\u001b[90m\n\u001b[31m+   }\u001b[90m\n\u001b[31m+ }\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Rules:\u001b[90m\n\u001b[31m+ - Only extract explicitly mentioned entities\u001b[90m\n\u001b[31m+ - Normalize IPs (remove ports/CIDR)\u001b[90m\n\u001b[31m+ - Confidence 0-1.0 based on clarity\u001b[90m\n\u001b[31m+ - If ISP/billing mentioned → external_dependency\u001b[90m\n\u001b[31m+ - If managed CI mentioned → internal_ci\",\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":380,"column":51}},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Tracks token usage","status":"passed","title":"✓ Tracks token usage","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Handles LLM API errors gracefully","status":"passed","title":"✓ Handles LLM API errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Handles malformed JSON response","status":"passed","title":"✓ Handles malformed JSON response","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Error Handling and Edge Cases"],"fullName":" IncidentNoteAnalyzerService Error Handling and Edge Cases ✓ Handles non-text response type","status":"passed","title":"✓ Handles non-text response type","duration":1,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Input Processing"],"fullName":" IncidentNoteAnalyzerService Input Processing ✓ Combines short description and work notes correctly","status":"passed","title":"✓ Combines short description and work notes correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","IncidentNoteAnalyzerService","Input Processing"],"fullName":" IncidentNoteAnalyzerService Input Processing ✓ Handles work notes with sys_created_by field","status":"passed","title":"✓ Handles work notes with sys_created_by field","duration":0,"failureMessages":[]}],"startTime":1763484006451,"endTime":1763484006467,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/incident-note-analyzer.test.ts"},{"assertionResults":[{"ancestorTitles":["","InteractiveStateManager","saveState"],"fullName":" InteractiveStateManager saveState should save interactive state successfully","status":"failed","title":"should save interactive state successfully","duration":4,"failureMessages":["expected undefined to be 'kb_approval' // Object.is equality"],"location":{"line":59,"column":28}},{"ancestorTitles":["","InteractiveStateManager","saveState"],"fullName":" InteractiveStateManager saveState should handle state with custom TTL","status":"failed","title":"should handle state with custom TTL","duration":0,"failureMessages":["expected undefined to be 'context_update' // Object.is equality"],"location":{"line":77,"column":28}},{"ancestorTitles":["","InteractiveStateManager","getState"],"fullName":" InteractiveStateManager getState should retrieve existing state","status":"passed","title":"should retrieve existing state","duration":0,"failureMessages":[]},{"ancestorTitles":["","InteractiveStateManager","getState"],"fullName":" InteractiveStateManager getState should return null for non-existent state","status":"passed","title":"should return null for non-existent state","duration":0,"failureMessages":[]},{"ancestorTitles":["","InteractiveStateManager","getState"],"fullName":" InteractiveStateManager getState should filter by type","status":"passed","title":"should filter by type","duration":0,"failureMessages":[]},{"ancestorTitles":["","InteractiveStateManager","deleteState"],"fullName":" InteractiveStateManager deleteState should delete existing state","status":"passed","title":"should delete existing state","duration":0,"failureMessages":[]},{"ancestorTitles":["","InteractiveStateManager","deleteState"],"fullName":" InteractiveStateManager deleteState should handle deletion of non-existent state","status":"passed","title":"should handle deletion of non-existent state","duration":0,"failureMessages":[]},{"ancestorTitles":["","InteractiveStateManager","cleanupExpiredStates"],"fullName":" InteractiveStateManager cleanupExpiredStates should clean up expired states","status":"passed","title":"should clean up expired states","duration":0,"failureMessages":[]},{"ancestorTitles":["","ModalWizard","startWizard"],"fullName":" ModalWizard startWizard should start a new wizard","status":"passed","title":"should start a new wizard","duration":1,"failureMessages":[]},{"ancestorTitles":["","ModalWizard","startWizard"],"fullName":" ModalWizard startWizard should validate wizard configuration","status":"passed","title":"should validate wizard configuration","duration":0,"failureMessages":[]},{"ancestorTitles":["","ModalWizard","startWizard"],"fullName":" ModalWizard startWizard should handle wizard with multiple steps","status":"passed","title":"should handle wizard with multiple steps","duration":1,"failureMessages":[]},{"ancestorTitles":["","ModalWizard","handleViewSubmission"],"fullName":" ModalWizard handleViewSubmission should handle wizard view submission","status":"passed","title":"should handle wizard view submission","duration":0,"failureMessages":[]},{"ancestorTitles":["","AssignmentGroupCache","getGroups"],"fullName":" AssignmentGroupCache getGroups should return cached groups if available","status":"failed","title":"should return cached groups if available","duration":1,"failureMessages":["isCacheValid does not exist"],"location":{"line":234,"column":10}},{"ancestorTitles":["","AssignmentGroupCache","getGroups"],"fullName":" AssignmentGroupCache getGroups should fetch from ServiceNow if cache is invalid","status":"failed","title":"should fetch from ServiceNow if cache is invalid","duration":0,"failureMessages":["isCacheValid does not exist"],"location":{"line":247,"column":10}},{"ancestorTitles":["","AssignmentGroupCache","getGroups"],"fullName":" AssignmentGroupCache getGroups should handle fetch errors gracefully","status":"failed","title":"should handle fetch errors gracefully","duration":1,"failureMessages":["isCacheValid does not exist"],"location":{"line":256,"column":10}},{"ancestorTitles":["","AssignmentGroupCache","invalidate"],"fullName":" AssignmentGroupCache invalidate should invalidate cache","status":"passed","title":"should invalidate cache","duration":0,"failureMessages":[]},{"ancestorTitles":["","AssignmentGroupCache","getStats"],"fullName":" AssignmentGroupCache getStats should return cache statistics","status":"failed","title":"should return cache statistics","duration":1,"failureMessages":["expected 'undefined' to be 'number' // Object.is equality"],"location":{"line":274,"column":38}},{"ancestorTitles":["","AssignmentGroupCache","refresh"],"fullName":" AssignmentGroupCache refresh should refresh cache","status":"failed","title":"should refresh cache","duration":1,"failureMessages":["fetchFromServiceNow does not exist"],"location":{"line":285,"column":10}},{"ancestorTitles":["","AssignmentGroupCache","refresh"],"fullName":" AssignmentGroupCache refresh should handle refresh errors","status":"failed","title":"should handle refresh errors","duration":0,"failureMessages":["fetchFromServiceNow does not exist"],"location":{"line":292,"column":10}},{"ancestorTitles":["","Interactive Component Integration","Button Interactions"],"fullName":" Interactive Component Integration Button Interactions should handle button clicks with state","status":"passed","title":"should handle button clicks with state","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Button Interactions"],"fullName":" Interactive Component Integration Button Interactions should handle button interactions with confirmation","status":"passed","title":"should handle button interactions with confirmation","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Select Menu Interactions"],"fullName":" Interactive Component Integration Select Menu Interactions should handle static select selections","status":"passed","title":"should handle static select selections","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Select Menu Interactions"],"fullName":" Interactive Component Integration Select Menu Interactions should handle external select with dynamic options","status":"passed","title":"should handle external select with dynamic options","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Modal Interactions"],"fullName":" Interactive Component Integration Modal Interactions should handle modal submissions with validation","status":"passed","title":"should handle modal submissions with validation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Modal Interactions"],"fullName":" Interactive Component Integration Modal Interactions should handle modal view updates","status":"passed","title":"should handle modal view updates","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Error Handling"],"fullName":" Interactive Component Integration Error Handling should handle malformed interactive payloads","status":"passed","title":"should handle malformed interactive payloads","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactive Component Integration","Error Handling"],"fullName":" Interactive Component Integration Error Handling should handle timeout scenarios","status":"passed","title":"should handle timeout scenarios","duration":0,"failureMessages":[]}],"startTime":1763484008337,"endTime":1763484008351,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/interactive-components.test.ts"},{"assertionResults":[{"ancestorTitles":["","MicrosoftLearnMCPClient","isAvailable"],"fullName":" MicrosoftLearnMCPClient isAvailable returns true because the MCP endpoint is public","status":"passed","title":"returns true because the MCP endpoint is public","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchDocs"],"fullName":" MicrosoftLearnMCPClient searchDocs parses JSON results from the MCP endpoint","status":"passed","title":"parses JSON results from the MCP endpoint","duration":3,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchDocs"],"fullName":" MicrosoftLearnMCPClient searchDocs returns empty array when no content is returned","status":"passed","title":"returns empty array when no content is returned","duration":0,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchDocs"],"fullName":" MicrosoftLearnMCPClient searchDocs falls back to plain text when JSON parsing fails","status":"passed","title":"falls back to plain text when JSON parsing fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchDocs"],"fullName":" MicrosoftLearnMCPClient searchDocs wraps network errors with a helpful message","status":"passed","title":"wraps network errors with a helpful message","duration":5,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchCode"],"fullName":" MicrosoftLearnMCPClient searchCode parses code samples","status":"passed","title":"parses code samples","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchCode"],"fullName":" MicrosoftLearnMCPClient searchCode returns empty array when response has no content","status":"passed","title":"returns empty array when response has no content","duration":0,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchCode"],"fullName":" MicrosoftLearnMCPClient searchCode treats plain text responses as a generic sample","status":"passed","title":"treats plain text responses as a generic sample","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","fetchDoc"],"fullName":" MicrosoftLearnMCPClient fetchDoc fetches and formats documentation","status":"passed","title":"fetches and formats documentation","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","fetchDoc"],"fullName":" MicrosoftLearnMCPClient fetchDoc validates Microsoft Learn URLs","status":"passed","title":"validates Microsoft Learn URLs","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","fetchDoc"],"fullName":" MicrosoftLearnMCPClient fetchDoc returns null when no content is returned","status":"passed","title":"returns null when no content is returned","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","fetchDoc"],"fullName":" MicrosoftLearnMCPClient fetchDoc handles plain text documentation","status":"passed","title":"handles plain text documentation","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchAndFormat"],"fullName":" MicrosoftLearnMCPClient searchAndFormat formats Slack copy when results exist","status":"passed","title":"formats Slack copy when results exist","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchAndFormat"],"fullName":" MicrosoftLearnMCPClient searchAndFormat returns friendly message when nothing is found","status":"passed","title":"returns friendly message when nothing is found","duration":1,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","searchAndFormat"],"fullName":" MicrosoftLearnMCPClient searchAndFormat surfaces errors from the service","status":"passed","title":"surfaces errors from the service","duration":2,"failureMessages":[]},{"ancestorTitles":["","MicrosoftLearnMCPClient","error handling"],"fullName":" MicrosoftLearnMCPClient error handling throws when the HTTP call fails","status":"passed","title":"throws when the HTTP call fails","duration":1,"failureMessages":[]}],"startTime":1763484012667,"endTime":1763484012689,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/microsoft-learn-mcp.test.ts"},{"assertionResults":[{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should return default domain when no environment variable is set","status":"passed","title":"should return default domain when no environment variable is set","duration":1,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should parse single domain from environment variable","status":"passed","title":"should parse single domain from environment variable","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should parse multiple domains from environment variable","status":"passed","title":"should parse multiple domains from environment variable","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should handle whitespace and trim domains","status":"passed","title":"should handle whitespace and trim domains","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should convert domains to lowercase","status":"passed","title":"should convert domains to lowercase","duration":1,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should filter out empty entries","status":"passed","title":"should filter out empty entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should handle empty environment variable","status":"passed","title":"should handle empty environment variable","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","getAllowedMobizDomains"],"fullName":" Mobiz Filter getAllowedMobizDomains should handle whitespace-only environment variable","status":"passed","title":"should handle whitespace-only environment variable","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return true for default domain email","status":"passed","title":"should return true for default domain email","duration":1,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return true for default domain email with different case","status":"passed","title":"should return true for default domain email with different case","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return false for non-mobiz email","status":"passed","title":"should return false for non-mobiz email","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return false for invalid email format","status":"passed","title":"should return false for invalid email format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return false for null/undefined email","status":"passed","title":"should return false for null/undefined email","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should return false for empty string email","status":"passed","title":"should return false for empty string email","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should work with custom domains from environment","status":"passed","title":"should work with custom domains from environment","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should work with mixed custom and default domains","status":"passed","title":"should work with mixed custom and default domains","duration":1,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle case insensitive matching with custom domains","status":"passed","title":"should handle case insensitive matching with custom domains","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle subdomains correctly","status":"passed","title":"should handle subdomains correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle emails with multiple @ symbols (invalid format)","status":"passed","title":"should handle emails with multiple @ symbols (invalid format)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle emails without domain part","status":"passed","title":"should handle emails without domain part","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle emails without user part","status":"passed","title":"should handle emails without user part","duration":0,"failureMessages":[]},{"ancestorTitles":["","Mobiz Filter","isMobizEmail"],"fullName":" Mobiz Filter isMobizEmail should handle edge cases with whitespace","status":"passed","title":"should handle edge cases with whitespace","duration":0,"failureMessages":[]}],"startTime":1763484013322,"endTime":1763484013326,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/mobiz-filter.test.ts"},{"assertionResults":[{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should create a valid modal view","status":"passed","title":"should create a valid modal view","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should create modal with submit and close buttons","status":"passed","title":"should create modal with submit and close buttons","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should create modal with callback_id","status":"passed","title":"should create modal with callback_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should create modal with private metadata","status":"passed","title":"should create modal with private metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should handle modal with all options","status":"passed","title":"should handle modal with all options","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should validate block count for modals","status":"passed","title":"should validate block count for modals","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createModalView"],"fullName":" Modal and Input Element Tests createModalView should throw error with too many blocks","status":"passed","title":"should throw error with too many blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create a valid plain text input","status":"passed","title":"should create a valid plain text input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create input with placeholder","status":"passed","title":"should create input with placeholder","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create input with initial value","status":"passed","title":"should create input with initial value","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create multiline input","status":"passed","title":"should create multiline input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create input with length constraints","status":"passed","title":"should create input with length constraints","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should cap maxLength to Slack limit","status":"passed","title":"should cap maxLength to Slack limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createPlainTextInput"],"fullName":" Modal and Input Element Tests createPlainTextInput should create input with dispatch action config","status":"passed","title":"should create input with dispatch action config","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRichTextInput"],"fullName":" Modal and Input Element Tests createRichTextInput should create a valid rich text input","status":"passed","title":"should create a valid rich text input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRichTextInput"],"fullName":" Modal and Input Element Tests createRichTextInput should create input with placeholder","status":"passed","title":"should create input with placeholder","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRichTextInput"],"fullName":" Modal and Input Element Tests createRichTextInput should create input with initial value","status":"passed","title":"should create input with initial value","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRichTextInput"],"fullName":" Modal and Input Element Tests createRichTextInput should create input with dispatch action config","status":"passed","title":"should create input with dispatch action config","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should create a valid static select","status":"passed","title":"should create a valid static select","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should create select with initial option","status":"passed","title":"should create select with initial option","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should create select with descriptions","status":"passed","title":"should create select with descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should create select with confirmation dialog","status":"passed","title":"should create select with confirmation dialog","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should handle maximum options (100)","status":"passed","title":"should handle maximum options (100)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createStaticSelect"],"fullName":" Modal and Input Element Tests createStaticSelect should throw error with too many options","status":"passed","title":"should throw error with too many options","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createExternalSelect"],"fullName":" Modal and Input Element Tests createExternalSelect should create a valid external select","status":"passed","title":"should create a valid external select","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createExternalSelect"],"fullName":" Modal and Input Element Tests createExternalSelect should create external select with initial option","status":"passed","title":"should create external select with initial option","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createExternalSelect"],"fullName":" Modal and Input Element Tests createExternalSelect should create external select with min query length","status":"passed","title":"should create external select with min query length","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createExternalSelect"],"fullName":" Modal and Input Element Tests createExternalSelect should create external select with confirmation","status":"passed","title":"should create external select with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createUserSelect"],"fullName":" Modal and Input Element Tests createUserSelect should create a valid user select","status":"passed","title":"should create a valid user select","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createUserSelect"],"fullName":" Modal and Input Element Tests createUserSelect should create user select with initial user","status":"passed","title":"should create user select with initial user","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createUserSelect"],"fullName":" Modal and Input Element Tests createUserSelect should create user select with confirmation","status":"passed","title":"should create user select with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createChannelSelect"],"fullName":" Modal and Input Element Tests createChannelSelect should create a valid channel select","status":"passed","title":"should create a valid channel select","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createChannelSelect"],"fullName":" Modal and Input Element Tests createChannelSelect should create channel select with initial channel","status":"passed","title":"should create channel select with initial channel","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createChannelSelect"],"fullName":" Modal and Input Element Tests createChannelSelect should create channel select with confirmation","status":"passed","title":"should create channel select with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createDatePicker"],"fullName":" Modal and Input Element Tests createDatePicker should create a valid date picker","status":"passed","title":"should create a valid date picker","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createDatePicker"],"fullName":" Modal and Input Element Tests createDatePicker should create date picker with placeholder","status":"passed","title":"should create date picker with placeholder","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createDatePicker"],"fullName":" Modal and Input Element Tests createDatePicker should create date picker with initial date","status":"passed","title":"should create date picker with initial date","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createDatePicker"],"fullName":" Modal and Input Element Tests createDatePicker should validate date format","status":"passed","title":"should validate date format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createDatePicker"],"fullName":" Modal and Input Element Tests createDatePicker should create date picker with confirmation","status":"passed","title":"should create date picker with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createTimePicker"],"fullName":" Modal and Input Element Tests createTimePicker should create a valid time picker","status":"passed","title":"should create a valid time picker","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createTimePicker"],"fullName":" Modal and Input Element Tests createTimePicker should create time picker with placeholder","status":"passed","title":"should create time picker with placeholder","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createTimePicker"],"fullName":" Modal and Input Element Tests createTimePicker should create time picker with initial time","status":"passed","title":"should create time picker with initial time","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createTimePicker"],"fullName":" Modal and Input Element Tests createTimePicker should validate time format","status":"passed","title":"should validate time format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createTimePicker"],"fullName":" Modal and Input Element Tests createTimePicker should create time picker with confirmation","status":"passed","title":"should create time picker with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRadioButtons"],"fullName":" Modal and Input Element Tests createRadioButtons should create valid radio buttons","status":"passed","title":"should create valid radio buttons","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRadioButtons"],"fullName":" Modal and Input Element Tests createRadioButtons should create radio buttons with initial option","status":"passed","title":"should create radio buttons with initial option","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRadioButtons"],"fullName":" Modal and Input Element Tests createRadioButtons should create radio buttons with descriptions","status":"passed","title":"should create radio buttons with descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createRadioButtons"],"fullName":" Modal and Input Element Tests createRadioButtons should create radio buttons with confirmation","status":"passed","title":"should create radio buttons with confirmation","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createCheckboxes"],"fullName":" Modal and Input Element Tests createCheckboxes should create valid checkboxes","status":"passed","title":"should create valid checkboxes","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createCheckboxes"],"fullName":" Modal and Input Element Tests createCheckboxes should create checkboxes with initial options","status":"passed","title":"should create checkboxes with initial options","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createCheckboxes"],"fullName":" Modal and Input Element Tests createCheckboxes should create checkboxes with descriptions","status":"passed","title":"should create checkboxes with descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createCheckboxes"],"fullName":" Modal and Input Element Tests createCheckboxes should create checkboxes with confirmation","status":"passed","title":"should create checkboxes with confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createInputBlock"],"fullName":" Modal and Input Element Tests createInputBlock should create a valid input block","status":"passed","title":"should create a valid input block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createInputBlock"],"fullName":" Modal and Input Element Tests createInputBlock should create input block with hint","status":"passed","title":"should create input block with hint","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createInputBlock"],"fullName":" Modal and Input Element Tests createInputBlock should create optional input block","status":"passed","title":"should create optional input block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","createInputBlock"],"fullName":" Modal and Input Element Tests createInputBlock should create input block with dispatch action","status":"passed","title":"should create input block with dispatch action","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Modal Integration Tests"],"fullName":" Modal and Input Element Tests Modal Integration Tests should create a complete modal with various input types","status":"passed","title":"should create a complete modal with various input types","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Modal Integration Tests"],"fullName":" Modal and Input Element Tests Modal Integration Tests should handle complex modal with all features","status":"passed","title":"should handle complex modal with all features","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle empty options gracefully","status":"passed","title":"should handle empty options gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle invalid action IDs","status":"passed","title":"should handle invalid action IDs","duration":1,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle invalid block IDs","status":"passed","title":"should handle invalid block IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle malformed dates and times","status":"passed","title":"should handle malformed dates and times","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle very long text in inputs","status":"passed","title":"should handle very long text in inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Modal and Input Element Tests","Error Handling and Edge Cases"],"fullName":" Modal and Input Element Tests Error Handling and Edge Cases should handle special characters in options","status":"passed","title":"should handle special characters in options","duration":0,"failureMessages":[]}],"startTime":1763484005015,"endTime":1763484005027,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-input-elements.test.ts"},{"assertionResults":[{"ancestorTitles":["","ModalWizard","Wizard Configuration"],"fullName":" ModalWizard Wizard Configuration should validate wizard configuration","status":"failed","title":"should validate wizard configuration","duration":2,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Wizard Configuration"],"fullName":" ModalWizard Wizard Configuration should accept valid wizard configuration","status":"failed","title":"should accept valid wizard configuration","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Wizard Configuration"],"fullName":" ModalWizard Wizard Configuration should handle wizard with metadata","status":"failed","title":"should handle wizard with metadata","duration":1,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Multi-Step Workflows"],"fullName":" ModalWizard Multi-Step Workflows should handle two-step wizard","status":"failed","title":"should handle two-step wizard","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Multi-Step Workflows"],"fullName":" ModalWizard Multi-Step Workflows should handle wizard with optional steps","status":"failed","title":"should handle wizard with optional steps","duration":1,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Multi-Step Workflows"],"fullName":" ModalWizard Multi-Step Workflows should handle wizard with validation","status":"failed","title":"should handle wizard with validation","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Step Navigation"],"fullName":" ModalWizard Step Navigation should show next button on non-final steps","status":"failed","title":"should show next button on non-final steps","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Step Navigation"],"fullName":" ModalWizard Step Navigation should show previous button on steps after first","status":"failed","title":"should show previous button on steps after first","duration":8,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Step Navigation"],"fullName":" ModalWizard Step Navigation should show submit button on final step","status":"failed","title":"should show submit button on final step","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Data Collection"],"fullName":" ModalWizard Data Collection should collect data from each step","status":"failed","title":"should collect data from each step","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Data Collection"],"fullName":" ModalWizard Data Collection should preserve data across steps","status":"failed","title":"should preserve data across steps","duration":1,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Error Handling"],"fullName":" ModalWizard Error Handling should handle view submission errors","status":"failed","title":"should handle view submission errors","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Error Handling"],"fullName":" ModalWizard Error Handling should handle state persistence failures","status":"failed","title":"should handle state persistence failures","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Error Handling"],"fullName":" ModalWizard Error Handling should handle modal opening failures","status":"failed","title":"should handle modal opening failures","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Wizard Cancellation"],"fullName":" ModalWizard Wizard Cancellation should handle wizard cancellation","status":"failed","title":"should handle wizard cancellation","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Wizard Cancellation"],"fullName":" ModalWizard Wizard Cancellation should cleanup state on cancellation","status":"failed","title":"should cleanup state on cancellation","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Progress Indication"],"fullName":" ModalWizard Progress Indication should show progress in modal title","status":"failed","title":"should show progress in modal title","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Progress Indication"],"fullName":" ModalWizard Progress Indication should update progress on navigation","status":"failed","title":"should update progress on navigation","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Complex Input Types"],"fullName":" ModalWizard Complex Input Types should handle various input types","status":"failed","title":"should handle various input types","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","ModalWizard","Conditional Steps"],"fullName":" ModalWizard Conditional Steps should handle conditional step logic","status":"failed","title":"should handle conditional step logic","duration":0,"failureMessages":["Cannot find module '../lib/services/slack-messaging'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"],"location":{"line":322,"column":14}}],"startTime":1763484005953,"endTime":1763484005967,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/modal-wizard.test.ts"},{"assertionResults":[{"ancestorTitles":["","sanitizeModelConfig"],"fullName":" sanitizeModelConfig normalises unsupported sampling knobs for GPT-5 models","status":"passed","title":"normalises unsupported sampling knobs for GPT-5 models","duration":3,"failureMessages":[]},{"ancestorTitles":["","sanitizeModelConfig"],"fullName":" sanitizeModelConfig leaves sampling knobs untouched for non GPT-5 models","status":"passed","title":"leaves sampling knobs untouched for non GPT-5 models","duration":0,"failureMessages":[]}],"startTime":1763484016032,"endTime":1763484016035,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/model-capabilities.test.ts"},{"assertionResults":[{"ancestorTitles":["","Model Provider"],"fullName":" Model Provider uses Anthropic model when API key is available","status":"failed","title":"uses Anthropic model when API key is available","duration":378,"failureMessages":["expected 'claude-sonnet-4-5' to be 'claude-3-sonnet-20240229' // Object.is equality"],"location":{"line":31,"column":21}},{"ancestorTitles":["","Model Provider"],"fullName":" Model Provider throws an error when no Anthropic API key is configured","status":"passed","title":"throws an error when no Anthropic API key is configured","duration":8,"failureMessages":[]}],"startTime":1763484015905,"endTime":1763484016291,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/model-provider.test.ts"},{"assertionResults":[{"ancestorTitles":["","MuscleMemoryRepository","saveExemplar"],"fullName":" MuscleMemoryRepository saveExemplar should save a new exemplar with embedding","status":"passed","title":"should save a new exemplar with embedding","duration":3,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","saveExemplar"],"fullName":" MuscleMemoryRepository saveExemplar should throw error when database is not available","status":"failed","title":"should throw error when database is not available","duration":3,"failureMessages":["promise resolved \"undefined\" instead of rejecting"],"location":{"line":80,"column":7}},{"ancestorTitles":["","MuscleMemoryRepository","findSimilarExemplars"],"fullName":" MuscleMemoryRepository findSimilarExemplars should find exemplars within similarity threshold","status":"passed","title":"should find exemplars within similarity threshold","duration":1,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","findSimilarExemplars"],"fullName":" MuscleMemoryRepository findSimilarExemplars should filter by interaction type when provided","status":"passed","title":"should filter by interaction type when provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","findDuplicateExemplar"],"fullName":" MuscleMemoryRepository findDuplicateExemplar should detect duplicates above 95% similarity threshold","status":"passed","title":"should detect duplicates above 95% similarity threshold","duration":1,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","findDuplicateExemplar"],"fullName":" MuscleMemoryRepository findDuplicateExemplar should return null when no duplicates found","status":"failed","title":"should return null when no duplicates found","duration":0,"failureMessages":["expected undefined to be null"],"location":{"line":183,"column":22}},{"ancestorTitles":["","MuscleMemoryRepository","quality signal tracking"],"fullName":" MuscleMemoryRepository quality signal tracking should save quality signals for an exemplar","status":"passed","title":"should save quality signals for an exemplar","duration":0,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","quality signal tracking"],"fullName":" MuscleMemoryRepository quality signal tracking should retrieve quality signals for an exemplar","status":"passed","title":"should retrieve quality signals for an exemplar","duration":0,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","updateExemplarQuality"],"fullName":" MuscleMemoryRepository updateExemplarQuality should update quality score and signals summary","status":"passed","title":"should update quality score and signals summary","duration":0,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","analytics"],"fullName":" MuscleMemoryRepository analytics should get exemplar count by type","status":"passed","title":"should get exemplar count by type","duration":1,"failureMessages":[]},{"ancestorTitles":["","MuscleMemoryRepository","analytics"],"fullName":" MuscleMemoryRepository analytics should get distinct interaction types","status":"failed","title":"should get distinct interaction types","duration":3,"failureMessages":["expected [] to deeply equal [ 'triage', 'kb_generation', …(1) ]"],"location":{"line":298,"column":21}}],"startTime":1763484012532,"endTime":1763484012546,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/muscle-memory-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","AddToContextAction","addMessageToCase"],"fullName":" AddToContextAction addMessageToCase should add a message to the context manager","status":"passed","title":"should add a message to the context manager","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","addMessageToCase"],"fullName":" AddToContextAction addMessageToCase should handle message without thread_ts","status":"passed","title":"should handle message without thread_ts","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","addMessageFromEvent"],"fullName":" AddToContextAction addMessageFromEvent should extract message info from event and add to context","status":"passed","title":"should extract message info from event and add to context","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","addMessageFromEvent"],"fullName":" AddToContextAction addMessageFromEvent should use ts as threadTs when thread_ts is not present","status":"passed","title":"should use ts as threadTs when thread_ts is not present","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","addMessageFromEvent"],"fullName":" AddToContextAction addMessageFromEvent should handle event with missing user","status":"passed","title":"should handle event with missing user","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","addMessageFromEvent"],"fullName":" AddToContextAction addMessageFromEvent should handle event with missing text","status":"passed","title":"should handle event with missing text","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","updateChannelInfo"],"fullName":" AddToContextAction updateChannelInfo should update channel name","status":"passed","title":"should update channel name","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","updateChannelInfo"],"fullName":" AddToContextAction updateChannelInfo should update channel topic","status":"passed","title":"should update channel topic","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","updateChannelInfo"],"fullName":" AddToContextAction updateChannelInfo should update channel purpose","status":"passed","title":"should update channel purpose","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","updateChannelInfo"],"fullName":" AddToContextAction updateChannelInfo should update multiple channel properties","status":"passed","title":"should update multiple channel properties","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","updateChannelInfo"],"fullName":" AddToContextAction updateChannelInfo should warn when context not found","status":"passed","title":"should warn when context not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","markAssistancePosted"],"fullName":" AddToContextAction markAssistancePosted should mark assistance as posted","status":"passed","title":"should mark assistance as posted","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","markAssistancePosted"],"fullName":" AddToContextAction markAssistancePosted should handle context not found gracefully","status":"passed","title":"should handle context not found gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","markResolutionNotified"],"fullName":" AddToContextAction markResolutionNotified should mark resolution as notified","status":"passed","title":"should mark resolution as notified","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","markResolutionNotified"],"fullName":" AddToContextAction markResolutionNotified should handle context not found gracefully","status":"passed","title":"should handle context not found gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","resetResolutionFlag"],"fullName":" AddToContextAction resetResolutionFlag should reset resolution flag to false","status":"passed","title":"should reset resolution flag to false","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","resetResolutionFlag"],"fullName":" AddToContextAction resetResolutionFlag should handle context not found gracefully","status":"passed","title":"should handle context not found gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","getContext"],"fullName":" AddToContextAction getContext should return context from context manager","status":"passed","title":"should return context from context manager","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","getContext"],"fullName":" AddToContextAction getContext should return null when context not found","status":"passed","title":"should return null when context not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","findContextsForThread"],"fullName":" AddToContextAction findContextsForThread should find all contexts for a thread","status":"passed","title":"should find all contexts for a thread","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","findContextsForThread"],"fullName":" AddToContextAction findContextsForThread should filter by channel ID","status":"passed","title":"should filter by channel ID","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","findContextsForThread"],"fullName":" AddToContextAction findContextsForThread should filter by thread timestamp","status":"passed","title":"should filter by thread timestamp","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","findContextsForThread"],"fullName":" AddToContextAction findContextsForThread should return empty array when no contexts match","status":"passed","title":"should return empty array when no contexts match","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","Singleton pattern"],"fullName":" AddToContextAction Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","Singleton pattern"],"fullName":" AddToContextAction Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","AddToContextAction","Singleton pattern"],"fullName":" AddToContextAction Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":0,"failureMessages":[]}],"startTime":1763484008788,"endTime":1763484008799,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-add-to-context.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract SCS numbers","status":"passed","title":"should extract SCS numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract INC numbers","status":"passed","title":"should extract INC numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract CASE numbers","status":"passed","title":"should extract CASE numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract RITM numbers","status":"passed","title":"should extract RITM numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract multiple case numbers from same text","status":"passed","title":"should extract multiple case numbers from same text","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should normalize case numbers to uppercase","status":"passed","title":"should normalize case numbers to uppercase","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should deduplicate case numbers","status":"passed","title":"should deduplicate case numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should handle mixed case duplicates","status":"passed","title":"should handle mixed case duplicates","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should return empty array for empty string","status":"passed","title":"should return empty array for empty string","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should return empty array for null/undefined input","status":"passed","title":"should return empty array for null/undefined input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should return empty array for text without case numbers","status":"passed","title":"should return empty array for text without case numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should not extract partial matches","status":"passed","title":"should not extract partial matches","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract case numbers from URLs","status":"passed","title":"should extract case numbers from URLs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should handle case numbers with special characters around them","status":"passed","title":"should handle case numbers with special characters around them","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should extract case numbers from multiline text","status":"passed","title":"should extract case numbers from multiline text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should normalize shorthand case references like 'case 49764'","status":"passed","title":"should normalize shorthand case references like 'case 49764'","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should normalize shorthand incident references like 'incident 167980'","status":"passed","title":"should normalize shorthand incident references like 'incident 167980'","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbers"],"fullName":" Case Number Extractor extractCaseNumbers should handle prefixed references with spaces such as 'SCS 49764'","status":"passed","title":"should handle prefixed references with spaces such as 'SCS 49764'","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","hasCaseNumbers"],"fullName":" Case Number Extractor hasCaseNumbers should return true when case numbers are present","status":"passed","title":"should return true when case numbers are present","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","hasCaseNumbers"],"fullName":" Case Number Extractor hasCaseNumbers should return false when no case numbers are present","status":"passed","title":"should return false when no case numbers are present","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","hasCaseNumbers"],"fullName":" Case Number Extractor hasCaseNumbers should handle null/undefined input","status":"passed","title":"should handle null/undefined input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should extract case numbers with positions","status":"passed","title":"should extract case numbers with positions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should extract multiple case numbers with positions","status":"passed","title":"should extract multiple case numbers with positions","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should normalize case numbers to uppercase","status":"passed","title":"should normalize case numbers to uppercase","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should sort results by position","status":"passed","title":"should sort results by position","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should deduplicate same case number at same position","status":"passed","title":"should deduplicate same case number at same position","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should return empty array for empty string","status":"passed","title":"should return empty array for empty string","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should return empty array for null/undefined input","status":"passed","title":"should return empty array for null/undefined input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should handle case numbers in complex text","status":"passed","title":"should handle case numbers in complex text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should handle case numbers in URLs","status":"passed","title":"should handle case numbers in URLs","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Extractor","extractCaseNumbersWithPositions"],"fullName":" Case Number Extractor extractCaseNumbersWithPositions should handle mixed case input","status":"passed","title":"should handle mixed case input","duration":0,"failureMessages":[]}],"startTime":1763484012354,"endTime":1763484012363,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-case-number-extractor.test.ts"},{"assertionResults":[{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should skip bot messages","status":"failed","title":"should skip bot messages","duration":5,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should skip messages from bot user","status":"failed","title":"should skip messages from bot user","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should skip empty messages","status":"failed","title":"should skip empty messages","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should skip messages that @mention the bot","status":"failed","title":"should skip messages that @mention the bot","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should extract and process case numbers","status":"failed","title":"should extract and process case numbers","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should add message to context for detected cases","status":"failed","title":"should add message to context for detected cases","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should fetch and update channel info for new cases","status":"failed","title":"should fetch and update channel info for new cases","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should handle channel info fetch errors gracefully","status":"failed","title":"should handle channel info fetch errors gracefully","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should post assistance for new cases","status":"failed","title":"should post assistance for new cases","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should mark assistance as posted after posting","status":"failed","title":"should mark assistance as posted after posting","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should not mark assistance posted if posting failed","status":"failed","title":"should not mark assistance posted if posting failed","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should process multiple case numbers in one message","status":"failed","title":"should process multiple case numbers in one message","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should process thread messages for existing contexts","status":"failed","title":"should process thread messages for existing contexts","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should handle user responses in GATHERING state","status":"failed","title":"should handle user responses in GATHERING state","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should check for resolution in thread messages","status":"failed","title":"should check for resolution in thread messages","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should trigger KB workflow when case is resolved","status":"failed","title":"should trigger KB workflow when case is resolved","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","handlePassiveMessage"],"fullName":" Passive Handler handlePassiveMessage should reset resolution flag when ServiceNow doesn't confirm","status":"failed","title":"should reset resolution flag when ServiceNow doesn't confirm","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","notifyResolution"],"fullName":" Passive Handler notifyResolution should trigger KB workflow","status":"failed","title":"should trigger KB workflow","duration":0,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}},{"ancestorTitles":["","Passive Handler","cleanupTimedOutGathering"],"fullName":" Passive Handler cleanupTimedOutGathering should call cleanup on KB workflow action","status":"failed","title":"should call cleanup on KB workflow action","duration":1,"failureMessages":["Failed to load url ../lib/passive/detectors/case-number-extractor (resolved id: ../lib/passive/detectors/case-number-extractor) in /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts. Does the file exist?"],"location":{"line":51968,"column":17}}],"startTime":1763484008207,"endTime":1763484008224,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-handler.test.ts"},{"assertionResults":[{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should skip posting if assistance already posted","status":"passed","title":"should skip posting if assistance already posted","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should post intelligent assistance for active cases","status":"failed","title":"should post intelligent assistance for active cases","duration":6,"failureMessages":["expected \"spy\" to be called with arguments: [ { channel: 'C123456', …(3) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[31m+     \"blocks\": undefined,\u001b[90m\n\u001b[2m      \"channel\": \"C123456\",\u001b[22m\n\u001b[32m-     \"text\": \"🤖 Intelligent assistance message\",\u001b[90m\n\u001b[31m+     \"text\": undefined,\u001b[90m\n\u001b[2m      \"threadTs\": \"1234567890.123456\",\u001b[22m\n\u001b[2m      \"unfurlLinks\": false,\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":143,"column":47}},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should post minimal message for inactive cases","status":"passed","title":"should post minimal message for inactive cases","duration":2,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should handle missing context gracefully","status":"passed","title":"should handle missing context gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should fetch and use channel info","status":"passed","title":"should fetch and use channel info","duration":0,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should continue without channel info on error","status":"passed","title":"should continue without channel info on error","duration":2,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should log Azure Search status","status":"passed","title":"should log Azure Search status","duration":0,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should log when Azure Search is disabled","status":"passed","title":"should log when Azure Search is disabled","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should handle intelligent assistance build error with fallback","status":"passed","title":"should handle intelligent assistance build error with fallback","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should use event.ts as threadTs (implementation uses ts not thread_ts)","status":"passed","title":"should use event.ts as threadTs (implementation uses ts not thread_ts)","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should use ts as threadTs when thread_ts not present","status":"passed","title":"should use ts as threadTs when thread_ts not present","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","execute"],"fullName":" PostAssistanceAction execute should handle null case details from ServiceNow","status":"passed","title":"should handle null case details from ServiceNow","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","Singleton pattern"],"fullName":" PostAssistanceAction Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","Singleton pattern"],"fullName":" PostAssistanceAction Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","PostAssistanceAction","Singleton pattern"],"fullName":" PostAssistanceAction Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":0,"failureMessages":[]}],"startTime":1763484009464,"endTime":1763484009482,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-post-assistance.test.ts"},{"assertionResults":[{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should return false when not marked as resolved in conversation","status":"passed","title":"should return false when not marked as resolved in conversation","duration":2,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should return false when already notified","status":"passed","title":"should return false when already notified","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should return true when ServiceNow not configured","status":"passed","title":"should return true when ServiceNow not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should validate against ServiceNow when configured","status":"passed","title":"should validate against ServiceNow when configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should accept closed state from ServiceNow","status":"passed","title":"should accept closed state from ServiceNow","duration":1,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should accept case-insensitive resolved state","status":"passed","title":"should accept case-insensitive resolved state","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should accept case-insensitive closed state","status":"passed","title":"should accept case-insensitive closed state","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should return false when ServiceNow shows non-resolved state","status":"passed","title":"should return false when ServiceNow shows non-resolved state","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should fallback to conversation when ServiceNow check fails","status":"passed","title":"should fallback to conversation when ServiceNow check fails","duration":2,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should return false when case not found in ServiceNow","status":"passed","title":"should return false when case not found in ServiceNow","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should handle case with no state field","status":"passed","title":"should handle case with no state field","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","shouldTriggerKBWorkflow"],"fullName":" ResolutionDetector shouldTriggerKBWorkflow should handle partial match in state field","status":"passed","title":"should handle partial match in state field","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return true for resolved case","status":"passed","title":"should return true for resolved case","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return true for closed case","status":"passed","title":"should return true for closed case","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return false for active case","status":"passed","title":"should return false for active case","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return false when ServiceNow not configured","status":"passed","title":"should return false when ServiceNow not configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return false on error","status":"passed","title":"should return false on error","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","isResolved"],"fullName":" ResolutionDetector isResolved should return false when case not found","status":"passed","title":"should return false when case not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","Singleton pattern"],"fullName":" ResolutionDetector Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","Singleton pattern"],"fullName":" ResolutionDetector Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","ResolutionDetector","Singleton pattern"],"fullName":" ResolutionDetector Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":1,"failureMessages":[]}],"startTime":1763484010901,"endTime":1763484010910,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive-resolution-detector.test.ts"},{"assertionResults":[{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should cache data to reduce API calls","status":"failed","title":"should cache data to reduce API calls","duration":4,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should handle concurrent requests efficiently","status":"failed","title":"should handle concurrent requests efficiently","duration":1,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should respect TTL and refresh when expired","status":"failed","title":"should respect TTL and refresh when expired","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should limit cache size to prevent memory issues","status":"failed","title":"should limit cache size to prevent memory issues","duration":1,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should handle cache invalidation properly","status":"failed","title":"should handle cache invalidation properly","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should handle fetch errors gracefully","status":"failed","title":"should handle fetch errors gracefully","duration":1,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","AssignmentGroupCache Performance"],"fullName":" Performance and Caching AssignmentGroupCache Performance should provide cache statistics","status":"failed","title":"should provide cache statistics","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","InteractiveStateManager Performance"],"fullName":" Performance and Caching InteractiveStateManager Performance should handle bulk state operations efficiently","status":"failed","title":"should handle bulk state operations efficiently","duration":4,"failureMessages":["expected undefined to be 'kb_approval' // Object.is equality"],"location":{"line":220,"column":30}},{"ancestorTitles":["","Performance and Caching","InteractiveStateManager Performance"],"fullName":" Performance and Caching InteractiveStateManager Performance should efficiently cleanup expired states","status":"passed","title":"should efficiently cleanup expired states","duration":0,"failureMessages":[]},{"ancestorTitles":["","Performance and Caching","InteractiveStateManager Performance"],"fullName":" Performance and Caching InteractiveStateManager Performance should handle concurrent state operations","status":"passed","title":"should handle concurrent state operations","duration":1,"failureMessages":[]},{"ancestorTitles":["","Performance and Caching","Memory Management"],"fullName":" Performance and Caching Memory Management should not leak memory with repeated operations","status":"failed","title":"should not leak memory with repeated operations","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","Memory Management"],"fullName":" Performance and Caching Memory Management should handle large payloads efficiently","status":"passed","title":"should handle large payloads efficiently","duration":0,"failureMessages":[]},{"ancestorTitles":["","Performance and Caching","Rate Limiting and Throttling"],"fullName":" Performance and Caching Rate Limiting and Throttling should handle rapid successive requests","status":"failed","title":"should handle rapid successive requests","duration":1,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","Rate Limiting and Throttling"],"fullName":" Performance and Caching Rate Limiting and Throttling should implement backoff for failed requests","status":"failed","title":"should implement backoff for failed requests","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","Resource Cleanup"],"fullName":" Performance and Caching Resource Cleanup should cleanup expired states periodically","status":"passed","title":"should cleanup expired states periodically","duration":4001,"failureMessages":[]},{"ancestorTitles":["","Performance and Caching","Resource Cleanup"],"fullName":" Performance and Caching Resource Cleanup should handle cache cleanup gracefully","status":"failed","title":"should handle cache cleanup gracefully","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","Performance Monitoring"],"fullName":" Performance and Caching Performance Monitoring should track operation metrics","status":"failed","title":"should track operation metrics","duration":1,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}},{"ancestorTitles":["","Performance and Caching","Performance Monitoring"],"fullName":" Performance and Caching Performance Monitoring should handle performance degradation gracefully","status":"failed","title":"should handle performance degradation gracefully","duration":0,"failureMessages":["Cannot find module '../lib/infrastructure/servicenow/repositories'\nRequire stack:\n- /Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"],"location":{"line":322,"column":14}}],"startTime":1763484007216,"endTime":1763484011231,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance-caching.test.ts"},{"assertionResults":[{"ancestorTitles":["","QStash Client","createQStashClient"],"fullName":" QStash Client createQStashClient should create client when QSTASH_TOKEN is configured","status":"passed","title":"should create client when QSTASH_TOKEN is configured","duration":40,"failureMessages":[]},{"ancestorTitles":["","QStash Client","createQStashClient"],"fullName":" QStash Client createQStashClient should return null when QSTASH_TOKEN is not configured","status":"passed","title":"should return null when QSTASH_TOKEN is not configured","duration":2,"failureMessages":[]},{"ancestorTitles":["","QStash Client","createQStashClient"],"fullName":" QStash Client createQStashClient should log warning when QSTASH_TOKEN is not configured","status":"passed","title":"should log warning when QSTASH_TOKEN is not configured","duration":2,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should construct URL with VERCEL_URL","status":"passed","title":"should construct URL with VERCEL_URL","duration":2,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should handle VERCEL_URL with https prefix","status":"passed","title":"should handle VERCEL_URL with https prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should use localhost when VERCEL_URL is not set","status":"passed","title":"should use localhost when VERCEL_URL is not set","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should handle path without leading slash","status":"passed","title":"should handle path without leading slash","duration":1,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should handle empty path","status":"passed","title":"should handle empty path","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getWorkerUrl"],"fullName":" QStash Client getWorkerUrl should handle root path","status":"passed","title":"should handle root path","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should return true when signature and signing key are provided","status":"passed","title":"should return true when signature and signing key are provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should return false when signature is null","status":"passed","title":"should return false when signature is null","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should return false when signature is empty","status":"passed","title":"should return false when signature is empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should return false when signing key is empty","status":"passed","title":"should return false when signing key is empty","duration":1,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should return false when both signature and signing key are missing","status":"passed","title":"should return false when both signature and signing key are missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","verifyQStashSignature"],"fullName":" QStash Client verifyQStashSignature should work with different body contents","status":"passed","title":"should work with different body contents","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getSigningKeys"],"fullName":" QStash Client getSigningKeys should return both keys when configured","status":"passed","title":"should return both keys when configured","duration":3,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getSigningKeys"],"fullName":" QStash Client getSigningKeys should return undefined when keys are not configured","status":"passed","title":"should return undefined when keys are not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getSigningKeys"],"fullName":" QStash Client getSigningKeys should return partial keys when only one is configured","status":"passed","title":"should return partial keys when only one is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","isQStashEnabled"],"fullName":" QStash Client isQStashEnabled should return true when QSTASH_TOKEN is configured","status":"passed","title":"should return true when QSTASH_TOKEN is configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","QStash Client","isQStashEnabled"],"fullName":" QStash Client isQStashEnabled should return false when QSTASH_TOKEN is not configured","status":"passed","title":"should return false when QSTASH_TOKEN is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","isQStashEnabled"],"fullName":" QStash Client isQStashEnabled should return false when QSTASH_TOKEN is empty","status":"passed","title":"should return false when QSTASH_TOKEN is empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getQStashClient (Singleton)"],"fullName":" QStash Client getQStashClient (Singleton) should return null when QSTASH_TOKEN is not configured","status":"passed","title":"should return null when QSTASH_TOKEN is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getQStashClient (Singleton)"],"fullName":" QStash Client getQStashClient (Singleton) should create client on first call when QSTASH_TOKEN is configured","status":"passed","title":"should create client on first call when QSTASH_TOKEN is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getQStashClient (Singleton)"],"fullName":" QStash Client getQStashClient (Singleton) should return same instance on subsequent calls","status":"passed","title":"should return same instance on subsequent calls","duration":1,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getQStashClient (Singleton)"],"fullName":" QStash Client getQStashClient (Singleton) should not create new instance if already created","status":"passed","title":"should not create new instance if already created","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","getQStashClient (Singleton)"],"fullName":" QStash Client getQStashClient (Singleton) should handle multiple calls without token","status":"passed","title":"should handle multiple calls without token","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","Integration scenarios"],"fullName":" QStash Client Integration scenarios should work together for complete QStash setup","status":"passed","title":"should work together for complete QStash setup","duration":0,"failureMessages":[]},{"ancestorTitles":["","QStash Client","Integration scenarios"],"fullName":" QStash Client Integration scenarios should handle disabled QStash gracefully","status":"passed","title":"should handle disabled QStash gracefully","duration":3,"failureMessages":[]}],"startTime":1763484008822,"endTime":1763484008881,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/qstash-client.test.ts"},{"assertionResults":[{"ancestorTitles":["","QualityDetector","detectSupervisorSignal"],"fullName":" QualityDetector detectSupervisorSignal should detect approved supervisor signal","status":"passed","title":"should detect approved supervisor signal","duration":1,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectSupervisorSignal"],"fullName":" QualityDetector detectSupervisorSignal should detect blocked supervisor signal with negative weight","status":"failed","title":"should detect blocked supervisor signal with negative weight","duration":4,"failureMessages":["expected null not to be null"],"location":{"line":32,"column":26}},{"ancestorTitles":["","QualityDetector","detectSupervisorSignal"],"fullName":" QualityDetector detectSupervisorSignal should return null for decisions without clear approval/rejection","status":"passed","title":"should return null for decisions without clear approval/rejection","duration":0,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectHumanFeedbackSignal"],"fullName":" QualityDetector detectHumanFeedbackSignal should detect positive feedback from approved state","status":"passed","title":"should detect positive feedback from approved state","duration":2,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectHumanFeedbackSignal"],"fullName":" QualityDetector detectHumanFeedbackSignal should detect negative feedback from rejected state","status":"passed","title":"should detect negative feedback from rejected state","duration":0,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectHumanFeedbackSignal"],"fullName":" QualityDetector detectHumanFeedbackSignal should return null for pending state","status":"passed","title":"should return null for pending state","duration":0,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectOutcomeSignal"],"fullName":" QualityDetector detectOutcomeSignal should detect successful outcome","status":"failed","title":"should detect successful outcome","duration":1,"failureMessages":["expected null not to be null"],"location":{"line":115,"column":26}},{"ancestorTitles":["","QualityDetector","detectOutcomeSignal"],"fullName":" QualityDetector detectOutcomeSignal should detect partial success","status":"failed","title":"should detect partial success","duration":0,"failureMessages":["expected null not to be null"],"location":{"line":125,"column":26}},{"ancestorTitles":["","QualityDetector","detectOutcomeSignal"],"fullName":" QualityDetector detectOutcomeSignal should return null for failure outcome","status":"passed","title":"should return null for failure outcome","duration":0,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectOutcomeSignal"],"fullName":" QualityDetector detectOutcomeSignal should handle user_corrected outcome","status":"failed","title":"should handle user_corrected outcome","duration":0,"failureMessages":["expected null not to be null"],"location":{"line":140,"column":26}},{"ancestorTitles":["","QualityDetector","detectImplicitSignals"],"fullName":" QualityDetector detectImplicitSignals should detect clean interaction (no escalations, no corrections)","status":"passed","title":"should detect clean interaction (no escalations, no corrections)","duration":1,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","detectImplicitSignals"],"fullName":" QualityDetector detectImplicitSignals should return null when escalations present","status":"failed","title":"should return null when escalations present","duration":1,"failureMessages":["expected { type: 'implicit', …(4) } to be null"],"location":{"line":172,"column":22}},{"ancestorTitles":["","QualityDetector","detectImplicitSignals"],"fullName":" QualityDetector detectImplicitSignals should return null when user corrections present","status":"failed","title":"should return null when user corrections present","duration":0,"failureMessages":["expected { type: 'implicit', …(4) } to be null"],"location":{"line":184,"column":22}},{"ancestorTitles":["","QualityDetector","aggregateSignals"],"fullName":" QualityDetector aggregateSignals should calculate weighted average from multiple signals","status":"failed","title":"should calculate weighted average from multiple signals","duration":1,"failureMessages":["expected undefined to be 0.7 // Object.is equality"],"location":{"line":198,"column":32}},{"ancestorTitles":["","QualityDetector","aggregateSignals"],"fullName":" QualityDetector aggregateSignals should handle negative signals correctly","status":"failed","title":"should handle negative signals correctly","duration":0,"failureMessages":["expected undefined to be 0.1 // Object.is equality"],"location":{"line":211,"column":32}},{"ancestorTitles":["","QualityDetector","aggregateSignals"],"fullName":" QualityDetector aggregateSignals should normalize scores between 0 and 1","status":"failed","title":"should normalize scores between 0 and 1","duration":1,"failureMessages":["expected undefined to be 1 // Object.is equality"],"location":{"line":226,"column":32}},{"ancestorTitles":["","QualityDetector","aggregateSignals"],"fullName":" QualityDetector aggregateSignals should floor negative totals at 0","status":"failed","title":"should floor negative totals at 0","duration":1,"failureMessages":["expected undefined to be +0 // Object.is equality"],"location":{"line":239,"column":32}},{"ancestorTitles":["","QualityDetector","calculateQualityScore"],"fullName":" QualityDetector calculateQualityScore should calculate score from boolean indicators","status":"failed","title":"should calculate score from boolean indicators","duration":1,"failureMessages":["expected 0.20000000000000004 to be 0.9 // Object.is equality"],"location":{"line":254,"column":21}},{"ancestorTitles":["","QualityDetector","calculateQualityScore"],"fullName":" QualityDetector calculateQualityScore should handle partial indicators","status":"failed","title":"should handle partial indicators","duration":0,"failureMessages":["expected +0 to be 0.4 // Object.is equality"],"location":{"line":265,"column":21}},{"ancestorTitles":["","QualityDetector","calculateQualityScore"],"fullName":" QualityDetector calculateQualityScore should handle negative feedback","status":"failed","title":"should handle negative feedback","duration":1,"failureMessages":["expected +0 to be 0.1 // Object.is equality"],"location":{"line":276,"column":21}},{"ancestorTitles":["","QualityDetector","quality threshold constant"],"fullName":" QualityDetector quality threshold constant should have default threshold of 0.6","status":"passed","title":"should have default threshold of 0.6","duration":0,"failureMessages":[]},{"ancestorTitles":["","QualityDetector","quality threshold constant"],"fullName":" QualityDetector quality threshold constant should require both supervisor and outcome for threshold","status":"failed","title":"should require both supervisor and outcome for threshold","duration":1,"failureMessages":["expected 0.20000000000000004 to be greater than or equal to 0.6"],"location":{"line":297,"column":36}}],"startTime":1763484011039,"endTime":1763484011055,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/quality-detector.test.ts"},{"assertionResults":[{"ancestorTitles":["","relay endpoint"],"fullName":" relay endpoint relays a message to a specified channel","status":"passed","title":"relays a message to a specified channel","duration":6,"failureMessages":[]},{"ancestorTitles":["","relay endpoint"],"fullName":" relay endpoint opens a DM when targeting a user and falls back to source label when text omitted","status":"passed","title":"opens a DM when targeting a user and falls back to source label when text omitted","duration":1,"failureMessages":[]},{"ancestorTitles":["","relay endpoint"],"fullName":" relay endpoint rejects requests without a valid signature","status":"passed","title":"rejects requests without a valid signature","duration":2,"failureMessages":[]}],"startTime":1763484014740,"endTime":1763484014749,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/relay-endpoint.test.ts"},{"assertionResults":[{"ancestorTitles":["","validateResponseFormat","when no tools return formatted summaries"],"fullName":" validateResponseFormat when no tools return formatted summaries should return valid with no warnings","status":"passed","title":"should return valid with no warnings","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when no tools return formatted summaries"],"fullName":" validateResponseFormat when no tools return formatted summaries should return valid when tools return data without formatted summaries","status":"passed","title":"should return valid when tools return data without formatted summaries","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when ServiceNow tools return caseSummary"],"fullName":" validateResponseFormat when ServiceNow tools return caseSummary should pass validation when response uses summary content","status":"passed","title":"should pass validation when response uses summary content","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when ServiceNow tools return caseSummary"],"fullName":" validateResponseFormat when ServiceNow tools return caseSummary should fail validation when response doesn't use summary content","status":"passed","title":"should fail validation when response doesn't use summary content","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when ServiceNow tools return caseSummary"],"fullName":" validateResponseFormat when ServiceNow tools return caseSummary should detect missing expected sections in overview responses","status":"passed","title":"should detect missing expected sections in overview responses","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when ServiceNow tools return caseSummary"],"fullName":" validateResponseFormat when ServiceNow tools return caseSummary should pass when response has all expected sections","status":"passed","title":"should pass when response has all expected sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when Microsoft Learn Search returns key_points"],"fullName":" validateResponseFormat when Microsoft Learn Search returns key_points should pass validation when response uses key points","status":"passed","title":"should pass validation when response uses key points","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when Microsoft Learn Search returns key_points"],"fullName":" validateResponseFormat when Microsoft Learn Search returns key_points should warn when key points are not used","status":"passed","title":"should warn when key points are not used","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when Similar Cases Search returns pattern_summary"],"fullName":" validateResponseFormat when Similar Cases Search returns pattern_summary should pass when pattern summary content is referenced","status":"passed","title":"should pass when pattern summary content is referenced","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when multiple tools return summaries"],"fullName":" validateResponseFormat when multiple tools return summaries should validate all tool summaries","status":"passed","title":"should validate all tool summaries","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","when multiple tools return summaries"],"fullName":" validateResponseFormat when multiple tools return summaries should pass when all summaries are used","status":"passed","title":"should pass when all summaries are used","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should pass validation for short field-specific responses","status":"passed","title":"should pass validation for short field-specific responses","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should pass validation for responses using raw field data","status":"passed","title":"should pass validation for responses using raw field data","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should not require sections for short responses","status":"passed","title":"should not require sections for short responses","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should detect field query patterns in medium-length responses","status":"passed","title":"should detect field query patterns in medium-length responses","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should detect overview responses and require sections","status":"passed","title":"should detect overview responses and require sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should pass for overview responses with proper sections","status":"passed","title":"should pass for overview responses with proper sections","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should use lenient threshold for field queries","status":"passed","title":"should use lenient threshold for field queries","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","field query responses (hybrid approach)"],"fullName":" validateResponseFormat field query responses (hybrid approach) should require higher threshold for overview responses","status":"passed","title":"should require higher threshold for overview responses","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","edge cases"],"fullName":" validateResponseFormat edge cases should handle null/undefined tool results gracefully","status":"passed","title":"should handle null/undefined tool results gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","edge cases"],"fullName":" validateResponseFormat edge cases should handle empty tool results","status":"passed","title":"should handle empty tool results","duration":0,"failureMessages":[]},{"ancestorTitles":["","validateResponseFormat","edge cases"],"fullName":" validateResponseFormat edge cases should fail very short responses that ignore summary","status":"passed","title":"should fail very short responses that ignore summary","duration":1,"failureMessages":[]}],"startTime":1763484005552,"endTime":1763484005563,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/response-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["","SearchFacadeService","isAzureSearchConfigured"],"fullName":" SearchFacadeService isAzureSearchConfigured should return true when Azure Search is configured","status":"passed","title":"should return true when Azure Search is configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","isAzureSearchConfigured"],"fullName":" SearchFacadeService isAzureSearchConfigured should return false when Azure Search is not configured","status":"passed","title":"should return false when Azure Search is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","isWebSearchConfigured"],"fullName":" SearchFacadeService isWebSearchConfigured should check if Exa is configured","status":"passed","title":"should check if Exa is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCases"],"fullName":" SearchFacadeService searchSimilarCases should search for similar cases","status":"passed","title":"should search for similar cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCases"],"fullName":" SearchFacadeService searchSimilarCases should pass options to Azure Search","status":"passed","title":"should pass options to Azure Search","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCases"],"fullName":" SearchFacadeService searchSimilarCases should return empty array when Azure Search not configured","status":"passed","title":"should return empty array when Azure Search not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCases"],"fullName":" SearchFacadeService searchSimilarCases should return empty array on error","status":"passed","title":"should return empty array on error","duration":2,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchKnowledgeBase"],"fullName":" SearchFacadeService searchKnowledgeBase should search knowledge base","status":"passed","title":"should search knowledge base","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchKnowledgeBase"],"fullName":" SearchFacadeService searchKnowledgeBase should return empty array when Azure Search not configured","status":"passed","title":"should return empty array when Azure Search not configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchKnowledgeBase"],"fullName":" SearchFacadeService searchKnowledgeBase should return empty array on error","status":"passed","title":"should return empty array on error","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchWeb"],"fullName":" SearchFacadeService searchWeb should return empty array when Exa not configured","status":"passed","title":"should return empty array when Exa not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCasesForClient"],"fullName":" SearchFacadeService searchSimilarCasesForClient should search similar cases with client filter","status":"passed","title":"should search similar cases with client filter","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchSimilarCasesForClient"],"fullName":" SearchFacadeService searchSimilarCasesForClient should handle client-specific searches","status":"passed","title":"should handle client-specific searches","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchTopSimilarCases"],"fullName":" SearchFacadeService searchTopSimilarCases should search top N cases with default N=5","status":"passed","title":"should search top N cases with default N=5","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchTopSimilarCases"],"fullName":" SearchFacadeService searchTopSimilarCases should respect custom topN parameter","status":"passed","title":"should respect custom topN parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchTopSimilarCases"],"fullName":" SearchFacadeService searchTopSimilarCases should include clientId when provided","status":"passed","title":"should include clientId when provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchTopSimilarCases"],"fullName":" SearchFacadeService searchTopSimilarCases should return results","status":"passed","title":"should return results","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchAndFormatAsMarkdown"],"fullName":" SearchFacadeService searchAndFormatAsMarkdown should format search results as markdown","status":"passed","title":"should format search results as markdown","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchAndFormatAsMarkdown"],"fullName":" SearchFacadeService searchAndFormatAsMarkdown should handle empty results","status":"passed","title":"should handle empty results","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","searchAndFormatAsMarkdown"],"fullName":" SearchFacadeService searchAndFormatAsMarkdown should truncate long content","status":"passed","title":"should truncate long content","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","hasAnySearchProvider"],"fullName":" SearchFacadeService hasAnySearchProvider should return true when Azure Search is configured","status":"passed","title":"should return true when Azure Search is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","hasAnySearchProvider"],"fullName":" SearchFacadeService hasAnySearchProvider should return false when no provider is configured","status":"passed","title":"should return false when no provider is configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","getCapabilities"],"fullName":" SearchFacadeService getCapabilities should return capabilities summary","status":"passed","title":"should return capabilities summary","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","getCapabilities"],"fullName":" SearchFacadeService getCapabilities should show false capabilities when Azure Search not configured","status":"passed","title":"should show false capabilities when Azure Search not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","Singleton pattern"],"fullName":" SearchFacadeService Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","Singleton pattern"],"fullName":" SearchFacadeService Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","SearchFacadeService","Singleton pattern"],"fullName":" SearchFacadeService Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":0,"failureMessages":[]}],"startTime":1763484011170,"endTime":1763484011182,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/search-facade.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = OFF (default)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = OFF (default) should use OLD path when feature flag is disabled (0%)","status":"passed","title":"should use OLD path when feature flag is disabled (0%)","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should use NEW path when feature flag is force-enabled","status":"passed","title":"should use NEW path when feature flag is force-enabled","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should convert domain model to legacy format correctly","status":"passed","title":"should convert domain model to legacy format correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should handle case not found in NEW path","status":"passed","title":"should handle case not found in NEW path","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should use CMDB repository for searchConfigurationItems on NEW path","status":"failed","title":"should use CMDB repository for searchConfigurationItems on NEW path","duration":4,"failureMessages":["expected \"spy\" to be called with arguments: [ { name: 'server01', …(3) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[31m+     \"className\": undefined,\u001b[90m\n\u001b[31m+     \"company\": undefined,\u001b[90m\n\u001b[31m+     \"environment\": undefined,\u001b[90m\n\u001b[2m      \"ipAddress\": undefined,\u001b[22m\n\u001b[32m-     \"limit\": 5,\u001b[90m\n\u001b[31m+     \"limit\": 10,\u001b[90m\n\u001b[31m+     \"location\": undefined,\u001b[90m\n\u001b[2m      \"name\": \"server01\",\u001b[22m\n\u001b[31m+     \"operationalStatus\": undefined,\u001b[90m\n\u001b[31m+     \"ownerGroup\": undefined,\u001b[90m\n\u001b[2m      \"sysId\": undefined,\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":237,"column":41}},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should use CustomerAccount repository on NEW path","status":"passed","title":"should use CustomerAccount repository on NEW path","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should use Choice repository on NEW path","status":"passed","title":"should use Choice repository on NEW path","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Feature Flag = ON (100%)"],"fullName":" ServiceNow Adapter - Feature Flag Routing Feature Flag = ON (100%) should use Problem repository on NEW path","status":"passed","title":"should use Problem repository on NEW path","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Error Handling & Fallback"],"fullName":" ServiceNow Adapter - Feature Flag Routing Error Handling & Fallback should fall back to OLD path if NEW path throws error","status":"passed","title":"should fall back to OLD path if NEW path throws error","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","User/Channel Context"],"fullName":" ServiceNow Adapter - Feature Flag Routing User/Channel Context should pass user context to feature flag check","status":"passed","title":"should pass user context to feature flag check","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","User/Channel Context"],"fullName":" ServiceNow Adapter - Feature Flag Routing User/Channel Context should use OLD path for non-allowlisted user","status":"passed","title":"should use OLD path for non-allowlisted user","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Adapter - Feature Flag Routing","Percentage-based Rollout"],"fullName":" ServiceNow Adapter - Feature Flag Routing Percentage-based Rollout should route based on percentage when set to 50%","status":"passed","title":"should route based on percentage when set to 50%","duration":1,"failureMessages":[]}],"startTime":1763484007200,"endTime":1763484007215,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-adapter.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Hybrid Client Matching"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Hybrid Client Matching should use exact sys_id match when accountSysId provided","status":"failed","title":"should use exact sys_id match when accountSysId provided","duration":6,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account=abc123'"],"location":{"line":55,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Hybrid Client Matching"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Hybrid Client Matching should use exact name match when accountName provided without sys_id","status":"failed","title":"should use exact name match when accountName provided without sys_id","duration":2,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account.name=Altus Community Healthca…'"],"location":{"line":73,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Hybrid Client Matching"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Hybrid Client Matching should prioritize sys_id over name when both provided","status":"failed","title":"should prioritize sys_id over name when both provided","duration":0,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account=abc123'"],"location":{"line":94,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Assignment Group Filtering (Igor's Use Case)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Assignment Group Filtering (Igor's Use Case) should filter by assignment group company","status":"failed","title":"should filter by assignment group company","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account.name=Altus Community Healthca…'"],"location":{"line":115,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Assignment Group Filtering (Igor's Use Case)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Assignment Group Filtering (Igor's Use Case) should filter by assignment group name","status":"passed","title":"should filter by assignment group name","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Assignment Group Filtering (Igor's Use Case)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Assignment Group Filtering (Igor's Use Case) should filter by assignment group sys_id","status":"failed","title":"should filter by assignment group sys_id","duration":0,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'assignment_group=group123'"],"location":{"line":150,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Assignment Group Filtering (Igor's Use Case)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Assignment Group Filtering (Igor's Use Case) should filter by assigned person","status":"failed","title":"should filter by assigned person","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'assigned_to.name=John Smith'"],"location":{"line":167,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Assignment Group Filtering (Igor's Use Case)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Assignment Group Filtering (Igor's Use Case) should prioritize sys_id over name for assignment groups","status":"failed","title":"should prioritize sys_id over name for assignment groups","duration":2,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'assignment_group=group123'"],"location":{"line":185,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Date Range Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Date Range Filtering should filter cases opened after specific date","status":"passed","title":"should filter cases opened after specific date","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Date Range Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Date Range Filtering should filter cases opened before specific date","status":"passed","title":"should filter cases opened before specific date","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Date Range Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Date Range Filtering should support date range with both openedAfter and openedBefore","status":"passed","title":"should support date range with both openedAfter and openedBefore","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Status Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Status Filtering should filter by priority","status":"passed","title":"should filter by priority","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Status Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Status Filtering should filter by state","status":"passed","title":"should filter by state","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Status Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Status Filtering should filter by category","status":"failed","title":"should filter by category","duration":0,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'category=Hardware'"],"location":{"line":294,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Status Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Status Filtering should filter by subcategory","status":"failed","title":"should filter by subcategory","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'subcategory=Printer'"],"location":{"line":311,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Status Filtering"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Status Filtering should filter active cases only","status":"passed","title":"should filter active cases only","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Combined Filters (Igor's Scenario)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Combined Filters (Igor's Scenario) should handle complex multi-filter query (full Igor scenario)","status":"failed","title":"should handle complex multi-filter query (full Igor scenario)","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account.name=Altus Community Healthca…'"],"location":{"line":370,"column":26}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Combined Filters (Igor's Scenario)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Combined Filters (Igor's Scenario) should handle priority and state filters with client filtering","status":"failed","title":"should handle priority and state filters with client filtering","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account.name=Altus'"],"location":{"line":403,"column":26}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Response Field Expansion"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Response Field Expansion should request expanded field set including assignment info","status":"failed","title":"should request expanded field set including assignment info","duration":0,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'sysparm_fields='"],"location":{"line":426,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Domain Filtering (Issue #73)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Domain Filtering (Issue #73) should filter by exact domain match","status":"passed","title":"should filter by exact domain match","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Domain Filtering (Issue #73)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Domain Filtering (Issue #73) should filter by hierarchical domain search (with children)","status":"passed","title":"should filter by hierarchical domain search (with children)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Domain Filtering (Issue #73)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Domain Filtering (Issue #73) should combine domain filtering with other filters","status":"failed","title":"should combine domain filtering with other filters","duration":1,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'account.name=Altus Community Healthca…'"],"location":{"line":493,"column":26}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Domain Filtering (Issue #73)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Domain Filtering (Issue #73) should not include domain filter when sysDomain is not provided","status":"passed","title":"should not include domain filter when sysDomain is not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Domain Filtering (Issue #73)"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Domain Filtering (Issue #73) should ignore includeChildDomains when sysDomain is not provided","status":"passed","title":"should ignore includeChildDomains when sysDomain is not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Backward Compatibility"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Backward Compatibility should still support legacy fuzzy search with query parameter","status":"passed","title":"should still support legacy fuzzy search with query parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Backward Compatibility"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Backward Compatibility should support legacy companyName parameter","status":"failed","title":"should support legacy companyName parameter","duration":0,"failureMessages":["expected 'https://example.service-now.com/api/n…' to contain 'company.name=Mobiz Inc'"],"location":{"line":574,"column":39}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Error Handling"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Error Handling should handle ServiceNow API errors gracefully","status":"failed","title":"should handle ServiceNow API errors gracefully","duration":2018,"failureMessages":["expected [Function] to throw error including 'ServiceNow request failed' but got 'Cannot read properties of undefined (…'"],"location":{"line":586,"column":7}},{"ancestorTitles":["","ServiceNow Case Search - Enhanced Filtering (Issue #47)","Error Handling"],"fullName":" ServiceNow Case Search - Enhanced Filtering (Issue #47) Error Handling should handle network errors gracefully","status":"failed","title":"should handle network errors gracefully","duration":1,"failureMessages":["expected [Function] to throw error including 'Network error' but got 'Cannot read properties of undefined (…'"],"location":{"line":597,"column":7}}],"startTime":1763484006539,"endTime":1763484008581,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-case-search-filters.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Basic Functionality"],"fullName":" ServiceNow Case Search searchCustomerCases - Basic Functionality should search all open cases with no filters","status":"passed","title":"should search all open cases with no filters","duration":15,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Basic Functionality"],"fullName":" ServiceNow Case Search searchCustomerCases - Basic Functionality should use default limit of 25","status":"passed","title":"should use default limit of 25","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Basic Functionality"],"fullName":" ServiceNow Case Search searchCustomerCases - Basic Functionality should respect custom limit parameter","status":"passed","title":"should respect custom limit parameter","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by company name","status":"passed","title":"should filter by company name","duration":13,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by account name","status":"passed","title":"should filter by account name","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by priority","status":"passed","title":"should filter by priority","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by state","status":"passed","title":"should filter by state","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by assignment group","status":"passed","title":"should filter by assignment group","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by assigned user","status":"passed","title":"should filter by assigned user","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by keyword in short_description and description","status":"passed","title":"should filter by keyword in short_description and description","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by opened after date","status":"passed","title":"should filter by opened after date","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by opened before date","status":"passed","title":"should filter by opened before date","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by active only (true)","status":"passed","title":"should filter by active only (true)","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should filter by active only (false)","status":"passed","title":"should filter by active only (false)","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Filtering"],"fullName":" ServiceNow Case Search searchCustomerCases - Filtering should combine multiple filters","status":"passed","title":"should combine multiple filters","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Sorting"],"fullName":" ServiceNow Case Search searchCustomerCases - Sorting should sort by opened_at descending by default","status":"passed","title":"should sort by opened_at descending by default","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Sorting"],"fullName":" ServiceNow Case Search searchCustomerCases - Sorting should sort by priority descending","status":"passed","title":"should sort by priority descending","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Sorting"],"fullName":" ServiceNow Case Search searchCustomerCases - Sorting should sort by updated_on ascending","status":"passed","title":"should sort by updated_on ascending","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Sorting"],"fullName":" ServiceNow Case Search searchCustomerCases - Sorting should sort by state descending","status":"passed","title":"should sort by state descending","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Edge Cases"],"fullName":" ServiceNow Case Search searchCustomerCases - Edge Cases should return empty array when no results found","status":"passed","title":"should return empty array when no results found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Edge Cases"],"fullName":" ServiceNow Case Search searchCustomerCases - Edge Cases should handle missing display values gracefully","status":"passed","title":"should handle missing display values gracefully","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Edge Cases"],"fullName":" ServiceNow Case Search searchCustomerCases - Edge Cases should extract values from object fields correctly","status":"passed","title":"should extract values from object fields correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Default Behaviors"],"fullName":" ServiceNow Case Search searchCustomerCases - Default Behaviors should default to active cases when no filters specified","status":"passed","title":"should default to active cases when no filters specified","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Default Behaviors"],"fullName":" ServiceNow Case Search searchCustomerCases - Default Behaviors should not add default active filter when state is specified","status":"passed","title":"should not add default active filter when state is specified","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","searchCustomerCases - Default Behaviors"],"fullName":" ServiceNow Case Search searchCustomerCases - Default Behaviors should not add default active filter when other filters are present","status":"passed","title":"should not add default active filter when other filters are present","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","Domain Model Enhancements"],"fullName":" ServiceNow Case Search Domain Model Enhancements should map sys_updated_on to updatedOn field","status":"passed","title":"should map sys_updated_on to updatedOn field","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Case Search","Domain Model Enhancements"],"fullName":" ServiceNow Case Search Domain Model Enhancements should handle missing openedAt for ageDays","status":"passed","title":"should handle missing openedAt for ageDays","duration":1,"failureMessages":[]}],"startTime":1763484005337,"endTime":1763484005404,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-case-search.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should return null for null or undefined values","status":"passed","title":"should return null for null or undefined values","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should strip HTML br tags and replace with spaces","status":"passed","title":"should strip HTML br tags and replace with spaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should strip HTML p tags and replace with spaces","status":"passed","title":"should strip HTML p tags and replace with spaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should strip strong and em tags without adding spaces","status":"passed","title":"should strip strong and em tags without adding spaces","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should strip all other HTML tags","status":"passed","title":"should strip all other HTML tags","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should normalize multiple spaces to single space","status":"passed","title":"should normalize multiple spaces to single space","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should trim leading and trailing whitespace","status":"passed","title":"should trim leading and trailing whitespace","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should handle complex HTML with mixed formatting","status":"passed","title":"should handle complex HTML with mixed formatting","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should handle special characters","status":"passed","title":"should handle special characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeCaseText"],"fullName":" ServiceNow Formatters sanitizeCaseText should return null for strings that become empty after cleaning","status":"passed","title":"should return null for strings that become empty after cleaning","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalTimestamp"],"fullName":" ServiceNow Formatters formatJournalTimestamp should return null for null or undefined values","status":"passed","title":"should return null for null or undefined values","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalTimestamp"],"fullName":" ServiceNow Formatters formatJournalTimestamp should return null for invalid date strings","status":"passed","title":"should return null for invalid date strings","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalTimestamp"],"fullName":" ServiceNow Formatters formatJournalTimestamp should format valid ISO timestamps correctly","status":"passed","title":"should format valid ISO timestamps correctly","duration":13,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalTimestamp"],"fullName":" ServiceNow Formatters formatJournalTimestamp should use 24-hour format","status":"passed","title":"should use 24-hour format","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalTimestamp"],"fullName":" ServiceNow Formatters formatJournalTimestamp should handle different months","status":"passed","title":"should handle different months","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should not truncate text shorter than maxLength","status":"passed","title":"should not truncate text shorter than maxLength","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should not truncate text equal to maxLength","status":"passed","title":"should not truncate text equal to maxLength","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should truncate text longer than maxLength","status":"passed","title":"should truncate text longer than maxLength","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should truncate at word boundaries when possible","status":"passed","title":"should truncate at word boundaries when possible","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should handle text with no spaces gracefully","status":"passed","title":"should handle text with no spaces gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","truncateWithEllipsis"],"fullName":" ServiceNow Formatters truncateWithEllipsis should use default maxLength of 8000 when not specified","status":"passed","title":"should use default maxLength of 8000 when not specified","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeJournalEntry"],"fullName":" ServiceNow Formatters sanitizeJournalEntry should sanitize and format a complete journal entry","status":"passed","title":"should sanitize and format a complete journal entry","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeJournalEntry"],"fullName":" ServiceNow Formatters sanitizeJournalEntry should handle missing or null values gracefully","status":"passed","title":"should handle missing or null values gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeJournalEntry"],"fullName":" ServiceNow Formatters sanitizeJournalEntry should truncate long journal entries","status":"passed","title":"should truncate long journal entries","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","sanitizeJournalEntry"],"fullName":" ServiceNow Formatters sanitizeJournalEntry should handle invalid timestamps","status":"passed","title":"should handle invalid timestamps","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","deduplicateJournalEntries"],"fullName":" ServiceNow Formatters deduplicateJournalEntries should return empty array for empty input","status":"passed","title":"should return empty array for empty input","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","deduplicateJournalEntries"],"fullName":" ServiceNow Formatters deduplicateJournalEntries should return single entry unchanged","status":"passed","title":"should return single entry unchanged","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","deduplicateJournalEntries"],"fullName":" ServiceNow Formatters deduplicateJournalEntries should remove consecutive duplicate entries","status":"passed","title":"should remove consecutive duplicate entries","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","deduplicateJournalEntries"],"fullName":" ServiceNow Formatters deduplicateJournalEntries should keep non-consecutive duplicates","status":"passed","title":"should keep non-consecutive duplicates","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","deduplicateJournalEntries"],"fullName":" ServiceNow Formatters deduplicateJournalEntries should handle null values correctly","status":"passed","title":"should handle null values correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should format complete case with all sections","status":"passed","title":"should format complete case with all sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should show up to 20 journal entries in Latest Activity","status":"passed","title":"should show up to 20 journal entries in Latest Activity","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should handle missing optional fields gracefully","status":"passed","title":"should handle missing optional fields gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should use account/requester in Context when description is missing","status":"passed","title":"should use account/requester in Context when description is missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should deduplicate journal entries","status":"passed","title":"should deduplicate journal entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatCaseSummaryText"],"fullName":" ServiceNow Formatters formatCaseSummaryText should return null for completely empty case","status":"passed","title":"should return null for completely empty case","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatIncidentForLLM"],"fullName":" ServiceNow Formatters formatIncidentForLLM should format complete incident with all sections","status":"passed","title":"should format complete incident with all sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatIncidentForLLM"],"fullName":" ServiceNow Formatters formatIncidentForLLM should handle missing state","status":"passed","title":"should handle missing state","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatIncidentForLLM"],"fullName":" ServiceNow Formatters formatIncidentForLLM should return result even for completely empty incident","status":"passed","title":"should return result even for completely empty incident","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatIncidentForLLM"],"fullName":" ServiceNow Formatters formatIncidentForLLM should format reference as link when URL is present","status":"passed","title":"should format reference as link when URL is present","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should format journal entries with summary and activity","status":"passed","title":"should format journal entries with summary and activity","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should return null for empty entries","status":"passed","title":"should return null for empty entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should show all entries when less than MAX_JOURNAL_ENTRIES","status":"passed","title":"should show all entries when less than MAX_JOURNAL_ENTRIES","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should not show context section when all entries fit","status":"passed","title":"should not show context section when all entries fit","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should work without case name","status":"passed","title":"should work without case name","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatJournalEntriesForLLM"],"fullName":" ServiceNow Formatters formatJournalEntriesForLLM should include truncation indicators for long entries","status":"passed","title":"should include truncation indicators for long entries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should format search results with all sections","status":"passed","title":"should format search results with all sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should return message for no results","status":"passed","title":"should return message for no results","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should limit to 10 results in Latest Activity","status":"passed","title":"should limit to 10 results in Latest Activity","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should handle cases without URLs","status":"passed","title":"should handle cases without URLs","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should handle missing priority and state","status":"passed","title":"should handle missing priority and state","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatSearchResultsForLLM"],"fullName":" ServiceNow Formatters formatSearchResultsForLLM should not show Current State section when no filters applied","status":"passed","title":"should not show Current State section when no filters applied","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should format configuration items with all sections","status":"passed","title":"should format configuration items with all sections","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should return message for no items","status":"passed","title":"should return message for no items","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should limit to 10 items in Latest Activity","status":"passed","title":"should limit to 10 items in Latest Activity","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should handle items without URLs","status":"passed","title":"should handle items without URLs","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should handle items with minimal metadata","status":"passed","title":"should handle items with minimal metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Formatters","formatConfigurationItemsForLLM"],"fullName":" ServiceNow Formatters formatConfigurationItemsForLLM should handle empty IP addresses array","status":"passed","title":"should handle empty IP addresses array","duration":0,"failureMessages":[]}],"startTime":1763484005016,"endTime":1763484005044,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-formatters.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowCaseUrl"],"fullName":" ServiceNow Integration Tests getServiceNowCaseUrl should generate correct URL for valid case number","status":"passed","title":"should generate correct URL for valid case number","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowCaseUrl"],"fullName":" ServiceNow Integration Tests getServiceNowCaseUrl should handle different case number formats","status":"passed","title":"should handle different case number formats","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowCaseUrl"],"fullName":" ServiceNow Integration Tests getServiceNowCaseUrl should handle edge cases gracefully","status":"passed","title":"should handle edge cases gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowCaseUrl"],"fullName":" ServiceNow Integration Tests getServiceNowCaseUrl should handle special characters in case numbers","status":"passed","title":"should handle special characters in case numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowCaseUrl"],"fullName":" ServiceNow Integration Tests getServiceNowCaseUrl should handle string conversion for non-string inputs","status":"passed","title":"should handle string conversion for non-string inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowTableUrl"],"fullName":" ServiceNow Integration Tests getServiceNowTableUrl should generate correct URL for standard tables","status":"passed","title":"should generate correct URL for standard tables","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowTableUrl"],"fullName":" ServiceNow Integration Tests getServiceNowTableUrl should handle custom tables","status":"passed","title":"should handle custom tables","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowTableUrl"],"fullName":" ServiceNow Integration Tests getServiceNowTableUrl should handle edge cases gracefully","status":"passed","title":"should handle edge cases gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowTableUrl"],"fullName":" ServiceNow Integration Tests getServiceNowTableUrl should handle special characters in inputs","status":"passed","title":"should handle special characters in inputs","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","getServiceNowTableUrl"],"fullName":" ServiceNow Integration Tests getServiceNowTableUrl should handle very long table names and sysIds","status":"passed","title":"should handle very long table names and sysIds","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","URL Format Consistency"],"fullName":" ServiceNow Integration Tests URL Format Consistency should use consistent base URL across all functions","status":"passed","title":"should use consistent base URL across all functions","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","URL Format Consistency"],"fullName":" ServiceNow Integration Tests URL Format Consistency should use consistent URL structure","status":"passed","title":"should use consistent URL structure","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","URL Format Consistency"],"fullName":" ServiceNow Integration Tests URL Format Consistency should handle different ServiceNow record types consistently","status":"passed","title":"should handle different ServiceNow record types consistently","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Integration Edge Cases"],"fullName":" ServiceNow Integration Tests Integration Edge Cases should handle malformed input gracefully","status":"passed","title":"should handle malformed input gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Integration Edge Cases"],"fullName":" ServiceNow Integration Tests Integration Edge Cases should handle whitespace in inputs","status":"passed","title":"should handle whitespace in inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Integration Edge Cases"],"fullName":" ServiceNow Integration Tests Integration Edge Cases should handle Unicode characters","status":"passed","title":"should handle Unicode characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Performance Considerations"],"fullName":" ServiceNow Integration Tests Performance Considerations should generate URLs efficiently","status":"passed","title":"should generate URLs efficiently","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Performance Considerations"],"fullName":" ServiceNow Integration Tests Performance Considerations should handle memory efficiently with large inputs","status":"passed","title":"should handle memory efficiently with large inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Performance Considerations"],"fullName":" ServiceNow Integration Tests Performance Considerations should maintain consistent behavior under stress","status":"passed","title":"should maintain consistent behavior under stress","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Function Signatures and Type Safety"],"fullName":" ServiceNow Integration Tests Function Signatures and Type Safety should accept string inputs without errors","status":"passed","title":"should accept string inputs without errors","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Function Signatures and Type Safety"],"fullName":" ServiceNow Integration Tests Function Signatures and Type Safety should handle empty string inputs","status":"passed","title":"should handle empty string inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Function Signatures and Type Safety"],"fullName":" ServiceNow Integration Tests Function Signatures and Type Safety should return string type consistently","status":"passed","title":"should return string type consistently","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Integration Tests","Function Signatures and Type Safety"],"fullName":" ServiceNow Integration Tests Function Signatures and Type Safety should handle object and array inputs gracefully","status":"passed","title":"should handle object and array inputs gracefully","duration":0,"failureMessages":[]}],"startTime":1763484008089,"endTime":1763484008098,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should validate a complete webhook payload","status":"passed","title":"should validate a complete webhook payload","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should validate a minimal webhook payload (required fields only)","status":"passed","title":"should validate a minimal webhook payload (required fields only)","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should reject payload missing required fields","status":"passed","title":"should reject payload missing required fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should accept additional fields not in schema (passthrough)","status":"passed","title":"should accept additional fields not in schema (passthrough)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should validate datetime format for opened_at","status":"passed","title":"should validate datetime format for opened_at","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","validateServiceNowWebhook"],"fullName":" ServiceNow Webhook Schema Validation validateServiceNowWebhook should reject invalid datetime format","status":"passed","title":"should reject invalid datetime format","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","webhookToClassificationRequest"],"fullName":" ServiceNow Webhook Schema Validation webhookToClassificationRequest should convert complete webhook to classification request","status":"passed","title":"should convert complete webhook to classification request","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","webhookToClassificationRequest"],"fullName":" ServiceNow Webhook Schema Validation webhookToClassificationRequest should handle minimal webhook payload","status":"passed","title":"should handle minimal webhook payload","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","Schema Field Parity with Python Pydantic"],"fullName":" ServiceNow Webhook Schema Validation Schema Field Parity with Python Pydantic should have all required fields from original ServiceNowCaseWebhook","status":"passed","title":"should have all required fields from original ServiceNowCaseWebhook","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","Real-world Payload Examples"],"fullName":" ServiceNow Webhook Schema Validation Real-world Payload Examples should validate payload from original Python tests","status":"passed","title":"should validate payload from original Python tests","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook Schema Validation","Real-world Payload Examples"],"fullName":" ServiceNow Webhook Schema Validation Real-world Payload Examples should handle payload with omitted optional fields","status":"passed","title":"should handle payload with omitted optional fields","duration":0,"failureMessages":[]}],"startTime":1763484012104,"endTime":1763484012110,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-webhook-schema.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook returns 503 when classification is disabled","status":"passed","title":"returns 503 when classification is disabled","duration":39,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook processes a valid webhook synchronously","status":"failed","title":"processes a valid webhook synchronously","duration":15,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook returns 422 when payload fails validation","status":"passed","title":"returns 422 when payload fails validation","duration":8,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook returns 400 for invalid JSON body","status":"passed","title":"returns 400 for invalid JSON body","duration":8,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook parses payload containing control characters","status":"failed","title":"parses payload containing control characters","duration":12,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook parses base64 encoded payloads","status":"failed","title":"parses base64 encoded payloads","duration":17,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook parses x-www-form-urlencoded payloads","status":"failed","title":"parses x-www-form-urlencoded payloads","duration":9,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook validates secrets when configured","status":"failed","title":"validates secrets when configured","duration":27,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook rejects unauthenticated requests when secret is set","status":"passed","title":"rejects unauthenticated requests when secret is set","duration":13,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook queues cases when async triage is enabled","status":"passed","title":"queues cases when async triage is enabled","duration":13,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook"],"fullName":" ServiceNow Webhook reports healthy status from GET endpoint","status":"passed","title":"reports healthy status from GET endpoint","duration":14,"failureMessages":[]}],"startTime":1763484012403,"endTime":1763484012578,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/servicenow-webhook.test.ts"},{"assertionResults":[{"ancestorTitles":["","SlackMessaging Integration","Rate Limiting"],"fullName":" SlackMessaging Integration Rate Limiting should handle rate limiting gracefully","status":"failed","title":"should handle rate limiting gracefully","duration":2,"failureMessages":[null]},{"ancestorTitles":["","SlackMessaging Integration","Rate Limiting"],"fullName":" SlackMessaging Integration Rate Limiting should implement exponential backoff for retries","status":"failed","title":"should implement exponential backoff for retries","duration":6,"failureMessages":["Network timeout"],"location":{"line":102,"column":28}},{"ancestorTitles":["","SlackMessaging Integration","Rate Limiting"],"fullName":" SlackMessaging Integration Rate Limiting should give up after max retries","status":"failed","title":"should give up after max retries","duration":2,"failureMessages":["expected \"spy\" to be called 3 times, but got 1 times"],"location":{"line":138,"column":44}},{"ancestorTitles":["","SlackMessaging Integration","Interactive Message Handling"],"fullName":" SlackMessaging Integration Interactive Message Handling should post messages with interactive components","status":"passed","title":"should post messages with interactive components","duration":3,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Interactive Message Handling"],"fullName":" SlackMessaging Integration Interactive Message Handling should handle modal interactions","status":"passed","title":"should handle modal interactions","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Thread Management"],"fullName":" SlackMessaging Integration Thread Management should post messages in threads","status":"passed","title":"should post messages in threads","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Thread Management"],"fullName":" SlackMessaging Integration Thread Management should fetch thread replies correctly","status":"passed","title":"should fetch thread replies correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Thread Management"],"fullName":" SlackMessaging Integration Thread Management should format thread messages as CoreMessage array","status":"passed","title":"should format thread messages as CoreMessage array","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Status Updates"],"fullName":" SlackMessaging Integration Status Updates should create status updater function","status":"passed","title":"should create status updater function","duration":3,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Status Updates"],"fullName":" SlackMessaging Integration Status Updates should disable status updates after missing_scope error","status":"passed","title":"should disable status updates after missing_scope error","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","File Uploads"],"fullName":" SlackMessaging Integration File Uploads should upload files successfully","status":"passed","title":"should upload files successfully","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","File Uploads"],"fullName":" SlackMessaging Integration File Uploads should handle file upload errors gracefully","status":"passed","title":"should handle file upload errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","User and Channel Management"],"fullName":" SlackMessaging Integration User and Channel Management should lookup users by email","status":"passed","title":"should lookup users by email","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","User and Channel Management"],"fullName":" SlackMessaging Integration User and Channel Management should get conversation info","status":"passed","title":"should get conversation info","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","User and Channel Management"],"fullName":" SlackMessaging Integration User and Channel Management should open direct message conversations","status":"passed","title":"should open direct message conversations","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Message Formatting and Styling"],"fullName":" SlackMessaging Integration Message Formatting and Styling should format markdown correctly","status":"passed","title":"should format markdown correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Message Formatting and Styling"],"fullName":" SlackMessaging Integration Message Formatting and Styling should handle message updates","status":"passed","title":"should handle message updates","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Message Formatting and Styling"],"fullName":" SlackMessaging Integration Message Formatting and Styling should delete messages","status":"passed","title":"should delete messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Assistant Features"],"fullName":" SlackMessaging Integration Assistant Features should set suggested prompts","status":"passed","title":"should set suggested prompts","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Assistant Features"],"fullName":" SlackMessaging Integration Assistant Features should handle missing_scope errors for suggested prompts","status":"passed","title":"should handle missing_scope errors for suggested prompts","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Error Handling and Edge Cases"],"fullName":" SlackMessaging Integration Error Handling and Edge Cases should handle authentication errors","status":"failed","title":"should handle authentication errors","duration":3,"failureMessages":["Cannot read properties of undefined (reading 'indexOf')"],"location":{"line":83,"column":29}},{"ancestorTitles":["","SlackMessaging Integration","Error Handling and Edge Cases"],"fullName":" SlackMessaging Integration Error Handling and Edge Cases should handle invalid channel errors","status":"failed","title":"should handle invalid channel errors","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'indexOf')"],"location":{"line":83,"column":29}},{"ancestorTitles":["","SlackMessaging Integration","Error Handling and Edge Cases"],"fullName":" SlackMessaging Integration Error Handling and Edge Cases should handle message too long errors","status":"failed","title":"should handle message too long errors","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'indexOf')"],"location":{"line":83,"column":29}},{"ancestorTitles":["","SlackMessaging Integration","Error Handling and Edge Cases"],"fullName":" SlackMessaging Integration Error Handling and Edge Cases should handle malformed responses","status":"failed","title":"should handle malformed responses","duration":3,"failureMessages":["Cannot read properties of null (reading 'ok')"],"location":{"line":63,"column":20}},{"ancestorTitles":["","SlackMessaging Integration","Singleton Pattern"],"fullName":" SlackMessaging Integration Singleton Pattern should return the same instance","status":"passed","title":"should return the same instance","duration":3,"failureMessages":[]},{"ancestorTitles":["","SlackMessaging Integration","Singleton Pattern"],"fullName":" SlackMessaging Integration Singleton Pattern should reset instance","status":"passed","title":"should reset instance","duration":1,"failureMessages":[]}],"startTime":1763484006579,"endTime":1763484006622,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/slack-messaging-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","SlackMessagingService","postMessage"],"fullName":" SlackMessagingService postMessage should post a message to a channel","status":"passed","title":"should post a message to a channel","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","postMessage"],"fullName":" SlackMessagingService postMessage should post a message to a thread","status":"passed","title":"should post a message to a thread","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","postMessage"],"fullName":" SlackMessagingService postMessage should respect unfurlLinks option","status":"passed","title":"should respect unfurlLinks option","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","postMessage"],"fullName":" SlackMessagingService postMessage should handle errors and rethrow","status":"passed","title":"should handle errors and rethrow","duration":7,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","postToThread"],"fullName":" SlackMessagingService postToThread should post a message to a thread (convenience method)","status":"passed","title":"should post a message to a thread (convenience method)","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","updateMessage"],"fullName":" SlackMessagingService updateMessage should update an existing message","status":"passed","title":"should update an existing message","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","updateMessage"],"fullName":" SlackMessagingService updateMessage should handle update errors","status":"passed","title":"should handle update errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","updateMessage"],"fullName":" SlackMessagingService updateMessage trims fallback text that exceeds Slack's hard limit","status":"passed","title":"trims fallback text that exceeds Slack's hard limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThreadReplies"],"fullName":" SlackMessagingService getThreadReplies should fetch thread replies","status":"passed","title":"should fetch thread replies","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThreadReplies"],"fullName":" SlackMessagingService getThreadReplies should respect limit parameter","status":"passed","title":"should respect limit parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThreadReplies"],"fullName":" SlackMessagingService getThreadReplies should return empty array when no messages","status":"passed","title":"should return empty array when no messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThread"],"fullName":" SlackMessagingService getThread should format thread messages as CoreMessage array","status":"passed","title":"should format thread messages as CoreMessage array","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThread"],"fullName":" SlackMessagingService getThread should remove bot mentions from user messages","status":"passed","title":"should remove bot mentions from user messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThread"],"fullName":" SlackMessagingService getThread should filter out messages without text","status":"passed","title":"should filter out messages without text","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getThread"],"fullName":" SlackMessagingService getThread should throw error when no messages found","status":"passed","title":"should throw error when no messages found","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","createStatusUpdater"],"fullName":" SlackMessagingService createStatusUpdater should create a status updater function","status":"passed","title":"should create a status updater function","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","createStatusUpdater"],"fullName":" SlackMessagingService createStatusUpdater should disable status updates after missing_scope error","status":"passed","title":"should disable status updates after missing_scope error","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","createStatusUpdater"],"fullName":" SlackMessagingService createStatusUpdater should disable status updates after method_not_supported error","status":"passed","title":"should disable status updates after method_not_supported error","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","createStatusUpdater"],"fullName":" SlackMessagingService createStatusUpdater should rethrow non-scope errors","status":"passed","title":"should rethrow non-scope errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getBotUserId"],"fullName":" SlackMessagingService getBotUserId should return bot user ID","status":"passed","title":"should return bot user ID","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getBotUserId"],"fullName":" SlackMessagingService getBotUserId should throw error if user_id is undefined","status":"passed","title":"should throw error if user_id is undefined","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getBotUserId"],"fullName":" SlackMessagingService getBotUserId should handle auth errors","status":"passed","title":"should handle auth errors","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","formatMarkdown"],"fullName":" SlackMessagingService formatMarkdown should pass through text as-is","status":"passed","title":"should pass through text as-is","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","uploadFile"],"fullName":" SlackMessagingService uploadFile should upload a file successfully","status":"passed","title":"should upload a file successfully","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","uploadFile"],"fullName":" SlackMessagingService uploadFile should handle missing_scope error gracefully","status":"passed","title":"should handle missing_scope error gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getConversationInfo"],"fullName":" SlackMessagingService getConversationInfo should get conversation info","status":"passed","title":"should get conversation info","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getConversationInfo"],"fullName":" SlackMessagingService getConversationInfo should handle errors","status":"passed","title":"should handle errors","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","getConversationHistory"],"fullName":" SlackMessagingService getConversationHistory should get conversation history","status":"passed","title":"should get conversation history","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","openView"],"fullName":" SlackMessagingService openView should open a modal view","status":"passed","title":"should open a modal view","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","openView"],"fullName":" SlackMessagingService openView should handle errors","status":"passed","title":"should handle errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","lookupUserByEmail"],"fullName":" SlackMessagingService lookupUserByEmail should lookup user by email","status":"passed","title":"should lookup user by email","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","lookupUserByEmail"],"fullName":" SlackMessagingService lookupUserByEmail should handle user not found","status":"passed","title":"should handle user not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","openConversation"],"fullName":" SlackMessagingService openConversation should open a direct message conversation","status":"passed","title":"should open a direct message conversation","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","openConversation"],"fullName":" SlackMessagingService openConversation should handle errors","status":"passed","title":"should handle errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","deleteMessage"],"fullName":" SlackMessagingService deleteMessage should delete a message","status":"passed","title":"should delete a message","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","deleteMessage"],"fullName":" SlackMessagingService deleteMessage should handle errors","status":"passed","title":"should handle errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","setAssistantSuggestedPrompts"],"fullName":" SlackMessagingService setAssistantSuggestedPrompts should set assistant suggested prompts","status":"passed","title":"should set assistant suggested prompts","duration":1,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","setAssistantSuggestedPrompts"],"fullName":" SlackMessagingService setAssistantSuggestedPrompts should handle missing_scope error gracefully","status":"passed","title":"should handle missing_scope error gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","setAssistantSuggestedPrompts"],"fullName":" SlackMessagingService setAssistantSuggestedPrompts should rethrow non-scope errors","status":"passed","title":"should rethrow non-scope errors","duration":3,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","Singleton pattern"],"fullName":" SlackMessagingService Singleton pattern should return the same instance","status":"passed","title":"should return the same instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","Singleton pattern"],"fullName":" SlackMessagingService Singleton pattern should reset instance","status":"passed","title":"should reset instance","duration":0,"failureMessages":[]},{"ancestorTitles":["","SlackMessagingService","Singleton pattern"],"fullName":" SlackMessagingService Singleton pattern should allow setting custom instance","status":"passed","title":"should allow setting custom instance","duration":0,"failureMessages":[]}],"startTime":1763484004854,"endTime":1763484004899,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/slack-messaging.test.ts"},{"assertionResults":[{"ancestorTitles":["","specialist registry"],"fullName":" specialist registry prioritizes ServiceNow orchestration when triage intent is detected","status":"passed","title":"prioritizes ServiceNow orchestration when triage intent is detected","duration":3,"failureMessages":[]},{"ancestorTitles":["","specialist registry"],"fullName":" specialist registry selects KB tooling for knowledge base requests","status":"passed","title":"selects KB tooling for knowledge base requests","duration":1,"failureMessages":[]},{"ancestorTitles":["","specialist registry"],"fullName":" specialist registry falls back to full toolset when no specialist match occurs","status":"passed","title":"falls back to full toolset when no specialist match occurs","duration":0,"failureMessages":[]},{"ancestorTitles":["","specialist registry"],"fullName":" specialist registry returns match metadata for telemetry","status":"passed","title":"returns match metadata for telemetry","duration":0,"failureMessages":[]}],"startTime":1763484015806,"endTime":1763484015810,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/specialist-registry.test.ts"},{"assertionResults":[{"ancestorTitles":["","Status and Error Handling Tests","addProcessingStatus"],"fullName":" Status and Error Handling Tests addProcessingStatus should add processing status before actions block","status":"passed","title":"should add processing status before actions block","duration":2,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addProcessingStatus"],"fullName":" Status and Error Handling Tests addProcessingStatus should add processing status at end when no actions block","status":"passed","title":"should add processing status at end when no actions block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addProcessingStatus"],"fullName":" Status and Error Handling Tests addProcessingStatus should handle empty blocks array","status":"passed","title":"should handle empty blocks array","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addProcessingStatus"],"fullName":" Status and Error Handling Tests addProcessingStatus should handle multiple actions blocks (use first)","status":"passed","title":"should handle multiple actions blocks (use first)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addProcessingStatus"],"fullName":" Status and Error Handling Tests addProcessingStatus should preserve original blocks order","status":"passed","title":"should preserve original blocks order","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addCompletedStatus"],"fullName":" Status and Error Handling Tests addCompletedStatus should add completed status and disable buttons","status":"passed","title":"should add completed status and disable buttons","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addCompletedStatus"],"fullName":" Status and Error Handling Tests addCompletedStatus should remove existing processing status blocks","status":"passed","title":"should remove existing processing status blocks","duration":1,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addCompletedStatus"],"fullName":" Status and Error Handling Tests addCompletedStatus should add completed status at end when no actions block","status":"passed","title":"should add completed status at end when no actions block","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addCompletedStatus"],"fullName":" Status and Error Handling Tests addCompletedStatus should handle empty blocks array","status":"passed","title":"should handle empty blocks array","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","addCompletedStatus"],"fullName":" Status and Error Handling Tests addCompletedStatus should preserve non-processing blocks","status":"passed","title":"should preserve non-processing blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createErrorBlocks"],"fullName":" Status and Error Handling Tests createErrorBlocks should create basic error blocks","status":"passed","title":"should create basic error blocks","duration":1,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createErrorBlocks"],"fullName":" Status and Error Handling Tests createErrorBlocks should create error blocks with retry action","status":"passed","title":"should create error blocks with retry action","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createErrorBlocks"],"fullName":" Status and Error Handling Tests createErrorBlocks should handle special characters in action labels","status":"passed","title":"should handle special characters in action labels","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createErrorBlocks"],"fullName":" Status and Error Handling Tests createErrorBlocks should handle empty guidance","status":"passed","title":"should handle empty guidance","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createErrorBlocks"],"fullName":" Status and Error Handling Tests createErrorBlocks should handle very long error messages","status":"passed","title":"should handle very long error messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should return specific guidance for known actions","status":"passed","title":"should return specific guidance for known actions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should return specific guidance for KB approval","status":"passed","title":"should return specific guidance for KB approval","duration":1,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should return specific guidance for case resolution","status":"passed","title":"should return specific guidance for case resolution","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should return technical details for unknown actions","status":"passed","title":"should return technical details for unknown actions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should handle non-Error objects","status":"passed","title":"should handle non-Error objects","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","getErrorGuidance"],"fullName":" Status and Error Handling Tests getErrorGuidance should handle null/undefined errors","status":"passed","title":"should handle null/undefined errors","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createLoadingBlocks"],"fullName":" Status and Error Handling Tests createLoadingBlocks should create simple loading blocks","status":"passed","title":"should create simple loading blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createLoadingBlocks"],"fullName":" Status and Error Handling Tests createLoadingBlocks should handle empty status text","status":"passed","title":"should handle empty status text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createLoadingBlocks"],"fullName":" Status and Error Handling Tests createLoadingBlocks should handle special characters in status","status":"passed","title":"should handle special characters in status","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createProgressiveLoadingBlocks"],"fullName":" Status and Error Handling Tests createProgressiveLoadingBlocks should create progressive loading blocks with details","status":"passed","title":"should create progressive loading blocks with details","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createProgressiveLoadingBlocks"],"fullName":" Status and Error Handling Tests createProgressiveLoadingBlocks should handle empty details array","status":"passed","title":"should handle empty details array","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createProgressiveLoadingBlocks"],"fullName":" Status and Error Handling Tests createProgressiveLoadingBlocks should handle undefined details","status":"passed","title":"should handle undefined details","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createProgressiveLoadingBlocks"],"fullName":" Status and Error Handling Tests createProgressiveLoadingBlocks should handle special characters in details","status":"passed","title":"should handle special characters in details","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","createProgressiveLoadingBlocks"],"fullName":" Status and Error Handling Tests createProgressiveLoadingBlocks should handle very long detail items","status":"passed","title":"should handle very long detail items","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Status Update Integration"],"fullName":" Status and Error Handling Tests Status Update Integration should handle complete workflow: processing -> completed","status":"passed","title":"should handle complete workflow: processing -> completed","duration":1,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Status Update Integration"],"fullName":" Status and Error Handling Tests Status Update Integration should handle error scenario","status":"passed","title":"should handle error scenario","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Status Update Integration"],"fullName":" Status and Error Handling Tests Status Update Integration should handle complex multi-step process","status":"passed","title":"should handle complex multi-step process","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Error Handling Edge Cases"],"fullName":" Status and Error Handling Tests Error Handling Edge Cases should handle malformed blocks gracefully","status":"passed","title":"should handle malformed blocks gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Error Handling Edge Cases"],"fullName":" Status and Error Handling Tests Error Handling Edge Cases should handle very long status messages","status":"passed","title":"should handle very long status messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Error Handling Edge Cases"],"fullName":" Status and Error Handling Tests Error Handling Edge Cases should handle unicode and emoji in status messages","status":"passed","title":"should handle unicode and emoji in status messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","Status and Error Handling Tests","Error Handling Edge Cases"],"fullName":" Status and Error Handling Tests Error Handling Edge Cases should preserve block metadata","status":"passed","title":"should preserve block metadata","duration":1,"failureMessages":[]}],"startTime":1763484005656,"endTime":1763484005665,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/status-error-handling.test.ts"},{"assertionResults":[{"ancestorTitles":["","Supervisor Policy QA"],"fullName":" Supervisor Policy QA approves artifacts when supervisor disabled","status":"passed","title":"approves artifacts when supervisor disabled","duration":1,"failureMessages":[]},{"ancestorTitles":["","Supervisor Policy QA"],"fullName":" Supervisor Policy QA blocks duplicate Slack messages when enforcement enabled","status":"passed","title":"blocks duplicate Slack messages when enforcement enabled","duration":1,"failureMessages":[]},{"ancestorTitles":["","Supervisor Policy QA"],"fullName":" Supervisor Policy QA requires structured sections when metadata requests it","status":"passed","title":"requires structured sections when metadata requests it","duration":1,"failureMessages":[]},{"ancestorTitles":["","Supervisor Policy QA"],"fullName":" Supervisor Policy QA detects duplicate ServiceNow work notes","status":"passed","title":"detects duplicate ServiceNow work notes","duration":0,"failureMessages":[]},{"ancestorTitles":["","Supervisor Policy QA"],"fullName":" Supervisor Policy QA attaches llm review metadata when enabled","status":"passed","title":"attaches llm review metadata when enabled","duration":1,"failureMessages":[]}],"startTime":1763484014721,"endTime":1763484014725,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/supervisor.test.ts"},{"assertionResults":[{"ancestorTitles":["","authenticateWebhookRequest","with API key header"],"fullName":" authenticateWebhookRequest with API key header authenticates with x-api-key header","status":"passed","title":"authenticates with x-api-key header","duration":2,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with API key header"],"fullName":" authenticateWebhookRequest with API key header authenticates with x-functions-key header","status":"passed","title":"authenticates with x-functions-key header","duration":0,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with API key header"],"fullName":" authenticateWebhookRequest with API key header rejects invalid api-key header","status":"passed","title":"rejects invalid api-key header","duration":0,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with API key query parameter"],"fullName":" authenticateWebhookRequest with API key query parameter authenticates with ?code=... query parameter","status":"passed","title":"authenticates with ?code=... query parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with API key query parameter"],"fullName":" authenticateWebhookRequest with API key query parameter rejects invalid query parameter","status":"passed","title":"rejects invalid query parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature authenticates with hex HMAC signature","status":"passed","title":"authenticates with hex HMAC signature","duration":2,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature authenticates with base64 HMAC signature","status":"passed","title":"authenticates with base64 HMAC signature","duration":2,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature authenticates with sha256= prefixed hex signature","status":"passed","title":"authenticates with sha256= prefixed hex signature","duration":2,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature authenticates with signature header instead of x-servicenow-signature","status":"passed","title":"authenticates with signature header instead of x-servicenow-signature","duration":2,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature rejects invalid HMAC signature","status":"passed","title":"rejects invalid HMAC signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","with HMAC signature"],"fullName":" authenticateWebhookRequest with HMAC signature rejects signature with mismatched length","status":"passed","title":"rejects signature with mismatched length","duration":1,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","without secret (development mode)"],"fullName":" authenticateWebhookRequest without secret (development mode) allows all requests when no secret configured","status":"passed","title":"allows all requests when no secret configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","authenticateWebhookRequest","authentication priority"],"fullName":" authenticateWebhookRequest authentication priority prefers API key header over query parameter","status":"passed","title":"prefers API key header over query parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload parses valid JSON payload","status":"passed","title":"parses valid JSON payload","duration":1,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload parses empty JSON object","status":"failed","title":"parses empty JSON object","duration":8,"failureMessages":["expected false to be true // Object.is equality"],"location":{"line":233,"column":28}},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload handles JSON with smart quotes","status":"passed","title":"handles JSON with smart quotes","duration":2,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload handles JSON with control characters","status":"passed","title":"handles JSON with control characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload handles base64-encoded JSON","status":"passed","title":"handles base64-encoded JSON","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload handles form-encoded payloads","status":"passed","title":"handles form-encoded payloads","duration":1,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload returns error for invalid JSON","status":"passed","title":"returns error for invalid JSON","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload includes error position in metadata","status":"failed","title":"includes error position in metadata","duration":1,"failureMessages":["expected true to be false // Object.is equality"],"location":{"line":275,"column":28}},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload includes original and sanitized length in metadata","status":"passed","title":"includes original and sanitized length in metadata","duration":1,"failureMessages":[]},{"ancestorTitles":["","parseWebhookPayload"],"fullName":" parseWebhookPayload returns warnings when present","status":"passed","title":"returns warnings when present","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildTriageSuccessResponse"],"fullName":" buildTriageSuccessResponse builds success response with all fields","status":"passed","title":"builds success response with all fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","buildTriageSuccessResponse"],"fullName":" buildTriageSuccessResponse includes classification details","status":"passed","title":"includes classification details","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildTriageSuccessResponse"],"fullName":" buildTriageSuccessResponse includes incident fields","status":"passed","title":"includes incident fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildTriageSuccessResponse"],"fullName":" buildTriageSuccessResponse includes problem fields","status":"passed","title":"includes problem fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","buildTriageSuccessResponse"],"fullName":" buildTriageSuccessResponse includes catalog redirect fields","status":"passed","title":"includes catalog redirect fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildQueuedResponse"],"fullName":" buildQueuedResponse returns 202 Accepted status","status":"passed","title":"returns 202 Accepted status","duration":1,"failureMessages":[]},{"ancestorTitles":["","buildQueuedResponse"],"fullName":" buildQueuedResponse includes case number in response","status":"passed","title":"includes case number in response","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildQueuedResponse"],"fullName":" buildQueuedResponse indicates async processing","status":"passed","title":"indicates async processing","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse builds parse error with 400 status","status":"passed","title":"builds parse error with 400 status","duration":1,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse builds validation error with 422 status","status":"passed","title":"builds validation error with 422 status","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse builds authentication error with 401 status","status":"passed","title":"builds authentication error with 401 status","duration":1,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse builds internal error with 500 status","status":"passed","title":"builds internal error with 500 status","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse includes error message","status":"passed","title":"includes error message","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse includes error details when provided","status":"passed","title":"includes error details when provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","buildErrorResponse"],"fullName":" buildErrorResponse omits details when not provided","status":"passed","title":"omits details when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","Authentication and Parsing Flow"],"fullName":" Authentication and Parsing Flow accepts authenticated and valid payload","status":"failed","title":"accepts authenticated and valid payload","duration":1,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":491,"column":38}},{"ancestorTitles":["","Authentication and Parsing Flow"],"fullName":" Authentication and Parsing Flow rejects invalid signature even with valid payload","status":"failed","title":"rejects invalid signature even with valid payload","duration":1,"failureMessages":["expected undefined to be false // Object.is equality"],"location":{"line":503,"column":38}},{"ancestorTitles":["","Authentication and Parsing Flow"],"fullName":" Authentication and Parsing Flow rejects malformed payload even with valid signature","status":"failed","title":"rejects malformed payload even with valid signature","duration":2,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":516,"column":38}}],"startTime":1763484005715,"endTime":1763484005752,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/webhook-helpers.test.ts"},{"assertionResults":[{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should process case successfully with valid QStash signature","status":"failed","title":"should process case successfully with valid QStash signature","duration":465,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":96,"column":31}},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should reject requests with invalid QStash signature","status":"passed","title":"should reject requests with invalid QStash signature","duration":14,"failureMessages":[]},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should process case when QStash is disabled","status":"failed","title":"should process case when QStash is disabled","duration":17,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":159,"column":31}},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should handle ServiceNow webhook validation","status":"failed","title":"should handle ServiceNow webhook validation","duration":26,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":189,"column":31}},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should reject invalid ServiceNow webhook signatures","status":"passed","title":"should reject invalid ServiceNow webhook signatures","duration":14,"failureMessages":[]},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should handle malformed JSON requests","status":"passed","title":"should handle malformed JSON requests","duration":17,"failureMessages":[]},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should handle case triage errors","status":"passed","title":"should handle case triage errors","duration":13,"failureMessages":[]},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should handle missing request body","status":"passed","title":"should handle missing request body","duration":12,"failureMessages":[]},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should work with different HTTP methods","status":"failed","title":"should work with different HTTP methods","duration":10,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":312,"column":31}},{"ancestorTitles":["","Workers API","POST /api/workers/process-case"],"fullName":" Workers API POST /api/workers/process-case should handle empty case data","status":"failed","title":"should handle empty case data","duration":22,"failureMessages":["expected 500 to be 200 // Object.is equality"],"location":{"line":335,"column":31}}],"startTime":1763484010333,"endTime":1763484010943,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/workers-api.test.ts"},{"assertionResults":[{"ancestorTitles":["","XSS Sanitization Security Tests","Script Tag Injection"],"fullName":" XSS Sanitization Security Tests Script Tag Injection should remove basic script tags","status":"passed","title":"should remove basic script tags","duration":3,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Script Tag Injection"],"fullName":" XSS Sanitization Security Tests Script Tag Injection should remove script tags with attributes","status":"passed","title":"should remove script tags with attributes","duration":2,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Script Tag Injection"],"fullName":" XSS Sanitization Security Tests Script Tag Injection should handle multiple script tags","status":"failed","title":"should handle multiple script tags","duration":3,"failureMessages":["expected 'alert(1)Textalert(2)' to be 'Text' // Object.is equality"],"location":{"line":30,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Script Tag Injection"],"fullName":" XSS Sanitization Security Tests Script Tag Injection should handle malformed script tags","status":"failed","title":"should handle malformed script tags","duration":1,"failureMessages":["expected '<script>alert(1)<script>' to be 'alert(1)' // Object.is equality"],"location":{"line":36,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Script Tag Injection"],"fullName":" XSS Sanitization Security Tests Script Tag Injection should handle script tags in different cases","status":"passed","title":"should handle script tags in different cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Event Handler Injection"],"fullName":" XSS Sanitization Security Tests Event Handler Injection should remove onclick handlers","status":"passed","title":"should remove onclick handlers","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Event Handler Injection"],"fullName":" XSS Sanitization Security Tests Event Handler Injection should remove onload handlers","status":"passed","title":"should remove onload handlers","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Event Handler Injection"],"fullName":" XSS Sanitization Security Tests Event Handler Injection should remove onmouseover handlers","status":"passed","title":"should remove onmouseover handlers","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Event Handler Injection"],"fullName":" XSS Sanitization Security Tests Event Handler Injection should remove multiple event handlers","status":"passed","title":"should remove multiple event handlers","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Event Handler Injection"],"fullName":" XSS Sanitization Security Tests Event Handler Injection should handle case variations in event handlers","status":"passed","title":"should handle case variations in event handlers","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","JavaScript Protocol Injection"],"fullName":" XSS Sanitization Security Tests JavaScript Protocol Injection should remove javascript: URLs","status":"failed","title":"should remove javascript: URLs","duration":0,"failureMessages":["expected '<a href=\"javascript:alert(\\'xss\\')\">C…' to be '<a href=\"\">Click</a>' // Object.is equality"],"location":{"line":82,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","JavaScript Protocol Injection"],"fullName":" XSS Sanitization Security Tests JavaScript Protocol Injection should handle javascript with encoding","status":"failed","title":"should handle javascript with encoding","duration":0,"failureMessages":["expected '<a href=\"javascript:%61lert(\\'xss\\')\"…' to be '<a href=\"\">Click</a>' // Object.is equality"],"location":{"line":88,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","JavaScript Protocol Injection"],"fullName":" XSS Sanitization Security Tests JavaScript Protocol Injection should handle data URLs with scripts","status":"failed","title":"should handle data URLs with scripts","duration":1,"failureMessages":["expected '' to be '<iframe src=\"\"></iframe>' // Object.is equality"],"location":{"line":94,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","CSS Expression Injection"],"fullName":" XSS Sanitization Security Tests CSS Expression Injection should remove CSS expressions","status":"failed","title":"should remove CSS expressions","duration":0,"failureMessages":["expected '<div style=\"width:expression(alert(\\'…' to be '<div style=\"\">Test</div>' // Object.is equality"],"location":{"line":102,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","CSS Expression Injection"],"fullName":" XSS Sanitization Security Tests CSS Expression Injection should remove @import with javascript","status":"failed","title":"should remove @import with javascript","duration":1,"failureMessages":["expected '@import \"javascript:alert(\\'xss\\')\";' to be '<style>@import \"\";</style>' // Object.is equality"],"location":{"line":108,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Meta Tag Injection"],"fullName":" XSS Sanitization Security Tests Meta Tag Injection should remove meta refresh with javascript","status":"failed","title":"should remove meta refresh with javascript","duration":0,"failureMessages":["expected '<meta http-equiv=\"refresh\" content=\"0…' to be '<meta http-equiv=\"refresh\" content=\"\">' // Object.is equality"],"location":{"line":116,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Form Action Injection"],"fullName":" XSS Sanitization Security Tests Form Action Injection should remove form actions with javascript","status":"failed","title":"should remove form actions with javascript","duration":0,"failureMessages":["expected 'Submit' to be '<form action=\"\"><button type=\"submit\"…' // Object.is equality"],"location":{"line":124,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","IFrame Injection"],"fullName":" XSS Sanitization Security Tests IFrame Injection should remove iframes with malicious sources","status":"failed","title":"should remove iframes with malicious sources","duration":0,"failureMessages":["expected '' to be '<iframe src=\"\"></iframe>' // Object.is equality"],"location":{"line":132,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","IFrame Injection"],"fullName":" XSS Sanitization Security Tests IFrame Injection should remove iframe srcdoc with scripts","status":"failed","title":"should remove iframe srcdoc with scripts","duration":0,"failureMessages":["expected '' to be '<iframe srcdoc=\"\"></iframe>' // Object.is equality"],"location":{"line":138,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Object and Embed Injection"],"fullName":" XSS Sanitization Security Tests Object and Embed Injection should remove object tags with malicious data","status":"failed","title":"should remove object tags with malicious data","duration":0,"failureMessages":["expected '' to be '<object data=\"\"></object>' // Object.is equality"],"location":{"line":146,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Object and Embed Injection"],"fullName":" XSS Sanitization Security Tests Object and Embed Injection should remove embed tags with malicious src","status":"failed","title":"should remove embed tags with malicious src","duration":0,"failureMessages":["expected '<embed src=\"javascript:alert(\\'xss\\')…' to be '<embed src=\"\">' // Object.is equality"],"location":{"line":152,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","Link Target Injection"],"fullName":" XSS Sanitization Security Tests Link Target Injection should handle target attributes safely","status":"failed","title":"should handle target attributes safely","duration":0,"failureMessages":["expected '<a href=\"https://example.com\" target=…' to be '<a href=\"https://example.com\">Link</a>' // Object.is equality"],"location":{"line":160,"column":22}},{"ancestorTitles":["","XSS Sanitization Security Tests","SVG Injection"],"fullName":" XSS Sanitization Security Tests SVG Injection should remove script tags in SVG","status":"passed","title":"should remove script tags in SVG","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","SVG Injection"],"fullName":" XSS Sanitization Security Tests SVG Injection should remove event handlers in SVG","status":"passed","title":"should remove event handlers in SVG","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","MathML Injection"],"fullName":" XSS Sanitization Security Tests MathML Injection should remove script tags in MathML","status":"passed","title":"should remove script tags in MathML","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Plain Text Sanitization"],"fullName":" XSS Sanitization Security Tests Plain Text Sanitization should remove HTML from plain text","status":"passed","title":"should remove HTML from plain text","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Plain Text Sanitization"],"fullName":" XSS Sanitization Security Tests Plain Text Sanitization should handle null/undefined inputs","status":"passed","title":"should handle null/undefined inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Plain Text Sanitization"],"fullName":" XSS Sanitization Security Tests Plain Text Sanitization should remove control characters","status":"passed","title":"should remove control characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Plain Text Sanitization"],"fullName":" XSS Sanitization Security Tests Plain Text Sanitization should remove zero-width characters","status":"passed","title":"should remove zero-width characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Plain Text Sanitization"],"fullName":" XSS Sanitization Security Tests Plain Text Sanitization should truncate long text","status":"passed","title":"should truncate long text","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","URL Sanitization"],"fullName":" XSS Sanitization Security Tests URL Sanitization should allow safe protocols","status":"passed","title":"should allow safe protocols","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","URL Sanitization"],"fullName":" XSS Sanitization Security Tests URL Sanitization should block dangerous protocols","status":"passed","title":"should block dangerous protocols","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","URL Sanitization"],"fullName":" XSS Sanitization Security Tests URL Sanitization should handle malformed URLs","status":"passed","title":"should handle malformed URLs","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","URL Sanitization"],"fullName":" XSS Sanitization Security Tests URL Sanitization should prevent URL injection in attributes","status":"passed","title":"should prevent URL injection in attributes","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Real-World Attack Vectors"],"fullName":" XSS Sanitization Security Tests Real-World Attack Vectors should handle XSS from OWASP examples","status":"failed","title":"should handle XSS from OWASP examples","duration":1,"failureMessages":["expected '<IMG SRC=\"javascript:alert(\\'XSS\\')\">' not to contain 'javascript:'"],"location":{"line":267,"column":28}},{"ancestorTitles":["","XSS Sanitization Security Tests","Real-World Attack Vectors"],"fullName":" XSS Sanitization Security Tests Real-World Attack Vectors should handle encoded attacks","status":"passed","title":"should handle encoded attacks","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Real-World Attack Vectors"],"fullName":" XSS Sanitization Security Tests Real-World Attack Vectors should handle DOM-based XSS patterns","status":"failed","title":"should handle DOM-based XSS patterns","duration":1,"failureMessages":["expected 'javascript:alert(\\'XSS\\')' not to contain 'javascript:'"],"location":{"line":297,"column":28}},{"ancestorTitles":["","XSS Sanitization Security Tests","Performance and Edge Cases"],"fullName":" XSS Sanitization Security Tests Performance and Edge Cases should handle very large inputs efficiently","status":"failed","title":"should handle very large inputs efficiently","duration":1,"failureMessages":["expected '<script><script><script><script><scri…' not to contain '<script>'"],"location":{"line":310,"column":26}},{"ancestorTitles":["","XSS Sanitization Security Tests","Performance and Edge Cases"],"fullName":" XSS Sanitization Security Tests Performance and Edge Cases should handle deeply nested HTML","status":"passed","title":"should handle deeply nested HTML","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Performance and Edge Cases"],"fullName":" XSS Sanitization Security Tests Performance and Edge Cases should handle mixed encoding","status":"passed","title":"should handle mixed encoding","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Performance and Edge Cases"],"fullName":" XSS Sanitization Security Tests Performance and Edge Cases should handle Unicode attacks","status":"passed","title":"should handle Unicode attacks","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Slack-Specific Context"],"fullName":" XSS Sanitization Security Tests Slack-Specific Context should preserve Slack formatting while removing XSS","status":"passed","title":"should preserve Slack formatting while removing XSS","duration":0,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Slack-Specific Context"],"fullName":" XSS Sanitization Security Tests Slack-Specific Context should preserve mentions while removing XSS","status":"passed","title":"should preserve mentions while removing XSS","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Slack-Specific Context"],"fullName":" XSS Sanitization Security Tests Slack-Specific Context should preserve emoji while removing XSS","status":"passed","title":"should preserve emoji while removing XSS","duration":1,"failureMessages":[]},{"ancestorTitles":["","XSS Sanitization Security Tests","Slack-Specific Context"],"fullName":" XSS Sanitization Security Tests Slack-Specific Context should preserve code blocks while removing XSS","status":"passed","title":"should preserve code blocks while removing XSS","duration":0,"failureMessages":[]}],"startTime":1763484007661,"endTime":1763484007686,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/xss-sanitization.test.ts"},{"assertionResults":[{"ancestorTitles":["","Context Loader","Auto CMDB Prefetch"],"fullName":" Context Loader Auto CMDB Prefetch should append CMDB prefetch message when infrastructure keywords detected","status":"passed","title":"should append CMDB prefetch message when infrastructure keywords detected","duration":4,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Number Extraction"],"fullName":" Context Loader Case Number Extraction should extract case numbers from messages","status":"passed","title":"should extract case numbers from messages","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Number Extraction"],"fullName":" Context Loader Case Number Extraction should use explicit case numbers when provided","status":"passed","title":"should use explicit case numbers when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Number Extraction"],"fullName":" Context Loader Case Number Extraction should handle multiple case numbers","status":"passed","title":"should handle multiple case numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Number Extraction"],"fullName":" Context Loader Case Number Extraction should handle messages with no case numbers","status":"passed","title":"should handle messages with no case numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Context Loading"],"fullName":" Context Loader Case Context Loading should load case context when case number is found","status":"passed","title":"should load case context when case number is found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Case Context Loading"],"fullName":" Context Loader Case Context Loading should handle when case context is not found","status":"passed","title":"should handle when case context is not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Company Name Resolution"],"fullName":" Context Loader Company Name Resolution should resolve company name from case context","status":"passed","title":"should resolve company name from case context","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Company Name Resolution"],"fullName":" Context Loader Company Name Resolution should detect company name from message text when not in case context","status":"passed","title":"should detect company name from message text when not in case context","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Company Name Resolution"],"fullName":" Context Loader Company Name Resolution should match company aliases case-insensitively","status":"passed","title":"should match company aliases case-insensitively","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Company Name Resolution"],"fullName":" Context Loader Company Name Resolution should handle when no company is detected","status":"passed","title":"should handle when no company is detected","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Company Name Resolution"],"fullName":" Context Loader Company Name Resolution should handle errors in company detection gracefully","status":"passed","title":"should handle errors in company detection gracefully","duration":4,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Discovery case artifacts"],"fullName":" Context Loader Discovery case artifacts fetches case details and journals when discovery is enabled","status":"passed","title":"fetches case details and journals when discovery is enabled","duration":2,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Discovery Context Pack Integration"],"fullName":" Context Loader Discovery Context Pack Integration should attach discovery pack when feature enabled","status":"passed","title":"should attach discovery pack when feature enabled","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Business Context Enrichment"],"fullName":" Context Loader Business Context Enrichment should load business context when company is identified","status":"passed","title":"should load business context when company is identified","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Business Context Enrichment"],"fullName":" Context Loader Business Context Enrichment should handle when business context is not found","status":"passed","title":"should handle when business context is not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Business Context Enrichment"],"fullName":" Context Loader Business Context Enrichment should handle business context service errors gracefully","status":"passed","title":"should handle business context service errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Similar Cases Search"],"fullName":" Context Loader Similar Cases Search should search for similar cases when Azure Search is configured","status":"passed","title":"should search for similar cases when Azure Search is configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Similar Cases Search"],"fullName":" Context Loader Similar Cases Search should not search when Azure Search is not configured","status":"passed","title":"should not search when Azure Search is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Similar Cases Search"],"fullName":" Context Loader Similar Cases Search should not include similarCases in metadata when no results found","status":"passed","title":"should not include similarCases in metadata when no results found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Similar Cases Search"],"fullName":" Context Loader Similar Cases Search should truncate user transcript to 500 characters","status":"passed","title":"should truncate user transcript to 500 characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Similar Cases Search"],"fullName":" Context Loader Similar Cases Search should only use user messages for search transcript","status":"passed","title":"should only use user messages for search transcript","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Thread History Loading"],"fullName":" Context Loader Thread History Loading should load thread history when threadTs and channelId are provided","status":"passed","title":"should load thread history when threadTs and channelId are provided","duration":2,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Thread History Loading"],"fullName":" Context Loader Thread History Loading should not load thread history when threadTs is missing","status":"passed","title":"should not load thread history when threadTs is missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Thread History Loading"],"fullName":" Context Loader Thread History Loading should not load thread history when channelId is missing","status":"passed","title":"should not load thread history when channelId is missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Thread History Loading"],"fullName":" Context Loader Thread History Loading should handle thread loading errors gracefully","status":"passed","title":"should handle thread loading errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Thread History Loading"],"fullName":" Context Loader Thread History Loading should not include threadHistory in metadata when thread is empty","status":"passed","title":"should not include threadHistory in metadata when thread is empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Message Normalization"],"fullName":" Context Loader Message Normalization should handle string content","status":"passed","title":"should handle string content","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Message Normalization"],"fullName":" Context Loader Message Normalization should handle array content","status":"passed","title":"should handle array content","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Message Normalization"],"fullName":" Context Loader Message Normalization should handle object content with text property","status":"passed","title":"should handle object content with text property","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Loader","Message Normalization"],"fullName":" Context Loader Message Normalization should handle empty messages array","status":"passed","title":"should handle empty messages array","duration":1,"failureMessages":[]}],"startTime":1763484005249,"endTime":1763484005273,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/context-loader.test.ts"},{"assertionResults":[{"ancestorTitles":["","Message Formatter","Markdown to Slack Conversion"],"fullName":" Message Formatter Markdown to Slack Conversion converts headers to bold text","status":"passed","title":"converts headers to bold text","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Markdown to Slack Conversion"],"fullName":" Message Formatter Markdown to Slack Conversion converts markdown bold to Slack bold","status":"passed","title":"converts markdown bold to Slack bold","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Markdown to Slack Conversion"],"fullName":" Message Formatter Markdown to Slack Conversion converts markdown links to Slack format","status":"passed","title":"converts markdown links to Slack format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Markdown to Slack Conversion"],"fullName":" Message Formatter Markdown to Slack Conversion handles combined formatting (headers + bold + links)","status":"passed","title":"handles combined formatting (headers + bold + links)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Markdown to Slack Conversion"],"fullName":" Message Formatter Markdown to Slack Conversion handles multiple lines with various formatting","status":"passed","title":"handles multiple lines with various formatting","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles empty text","status":"passed","title":"handles empty text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles whitespace-only text","status":"passed","title":"handles whitespace-only text","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles text with no markdown formatting","status":"passed","title":"handles text with no markdown formatting","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles partial markdown patterns that shouldn't match","status":"passed","title":"handles partial markdown patterns that shouldn't match","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases preserves text without trailing/leading spaces when trimming","status":"passed","title":"preserves text without trailing/leading spaces when trimming","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles special characters in link text without parentheses","status":"passed","title":"handles special characters in link text without parentheses","duration":1,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Edge Cases"],"fullName":" Message Formatter Edge Cases handles simple URLs with query parameters","status":"passed","title":"handles simple URLs with query parameters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Message Formatter","Status Updates"],"fullName":" Message Formatter Status Updates calls updateStatus with 'formatting' then 'sent'","status":"failed","title":"calls updateStatus with 'formatting' then 'sent'","duration":4,"failureMessages":["expected \"spy\" to be called 2 times, but got 0 times"],"location":{"line":114,"column":28}},{"ancestorTitles":["","Message Formatter","Status Updates"],"fullName":" Message Formatter Status Updates handles missing updateStatus callback gracefully","status":"passed","title":"handles missing updateStatus callback gracefully","duration":0,"failureMessages":[]}],"startTime":1763484014407,"endTime":1763484014416,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/message-formatter.test.ts"},{"assertionResults":[{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration runs the full refactored pipeline in correct order","status":"passed","title":"runs the full refactored pipeline in correct order","duration":2,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration passes messages and options to context loader","status":"passed","title":"passes messages and options to context loader","duration":3,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration passes context to prompt builder","status":"passed","title":"passes context to prompt builder","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration creates agent messages with system prompt","status":"passed","title":"creates agent messages with system prompt","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration extracts and passes case numbers to runner","status":"passed","title":"extracts and passes case numbers to runner","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Pipeline Integration"],"fullName":" Agent Orchestrator Pipeline Integration passes runner output to message formatter","status":"passed","title":"passes runner output to message formatter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Status Updates"],"fullName":" Agent Orchestrator Status Updates propagates updateStatus callback through all layers","status":"passed","title":"propagates updateStatus callback through all layers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Status Updates"],"fullName":" Agent Orchestrator Status Updates handles missing updateStatus callback gracefully","status":"passed","title":"handles missing updateStatus callback gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Options Passthrough"],"fullName":" Agent Orchestrator Options Passthrough passes channelId through pipeline","status":"passed","title":"passes channelId through pipeline","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Options Passthrough"],"fullName":" Agent Orchestrator Options Passthrough passes all options (channelId, channelName, threadTs)","status":"passed","title":"passes all options (channelId, channelName, threadTs)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling falls back to legacy executor when context loader fails","status":"passed","title":"falls back to legacy executor when context loader fails","duration":3,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling falls back to legacy executor when prompt builder fails","status":"passed","title":"falls back to legacy executor when prompt builder fails","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling falls back to legacy executor when runner fails","status":"passed","title":"falls back to legacy executor when runner fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling falls back to legacy executor when formatter fails","status":"passed","title":"falls back to legacy executor when formatter fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling throws error when no legacy executor is provided and pipeline fails","status":"passed","title":"throws error when no legacy executor is provided and pipeline fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Error Handling"],"fullName":" Agent Orchestrator Error Handling passes all parameters to legacy executor on fallback","status":"passed","title":"passes all parameters to legacy executor on fallback","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Edge Cases"],"fullName":" Agent Orchestrator Edge Cases handles empty messages array","status":"passed","title":"handles empty messages array","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Edge Cases"],"fullName":" Agent Orchestrator Edge Cases handles empty case numbers in metadata","status":"passed","title":"handles empty case numbers in metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Edge Cases"],"fullName":" Agent Orchestrator Edge Cases handles non-array case numbers in metadata","status":"passed","title":"handles non-array case numbers in metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Orchestrator","Edge Cases"],"fullName":" Agent Orchestrator Edge Cases handles multi-turn conversation messages","status":"passed","title":"handles multi-turn conversation messages","duration":0,"failureMessages":[]}],"startTime":1763484010164,"endTime":1763484010181,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/orchestrator.test.ts"},{"assertionResults":[{"ancestorTitles":["","Prompt Builder","Basic Prompt Assembly"],"fullName":" Prompt Builder Basic Prompt Assembly should build prompt with base system prompt","status":"passed","title":"should build prompt with base system prompt","duration":1,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Basic Prompt Assembly"],"fullName":" Prompt Builder Basic Prompt Assembly should include conversation messages","status":"passed","title":"should include conversation messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Basic Prompt Assembly"],"fullName":" Prompt Builder Basic Prompt Assembly should use current date when requestTimestamp not provided","status":"passed","title":"should use current date when requestTimestamp not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Basic Prompt Assembly"],"fullName":" Prompt Builder Basic Prompt Assembly should use provided requestTimestamp","status":"passed","title":"should use provided requestTimestamp","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should enhance prompt with business context from metadata","status":"failed","title":"should enhance prompt with business context from metadata","duration":3,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Acme Corp\",\u001b[22m\n\u001b[2m    \"Technical Support\",\u001b[22m\n\u001b[2m    \"Customer assistance\",\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":101,"column":67}},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should use companyName from businessContext.entityName when available","status":"failed","title":"should use companyName from businessContext.entityName when available","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Globex Corporation\",\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":120,"column":67}},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should fallback to metadata.companyName when businessContext has no entityName","status":"failed","title":"should fallback to metadata.companyName when businessContext has no entityName","duration":0,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Initech\",\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":139,"column":67}},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should handle missing business context gracefully","status":"failed","title":"should handle missing business context gracefully","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":155,"column":67}},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should extract channel topic from case context","status":"failed","title":"should extract channel topic from case context","duration":0,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Acme Corp\",\u001b[22m\n\u001b[2m    \"Network Issues\",\u001b[22m\n\u001b[2m    \"Network troubleshooting\",\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":178,"column":67}},{"ancestorTitles":["","Prompt Builder","Business Context Enhancement"],"fullName":" Prompt Builder Business Context Enhancement should handle partial case context data","status":"failed","title":"should handle partial case context data","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Acme Corp\",\u001b[22m\n\u001b[2m    \"Support\",\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":199,"column":67}},{"ancestorTitles":["","Prompt Builder","Edge Cases"],"fullName":" Prompt Builder Edge Cases should handle empty messages array","status":"passed","title":"should handle empty messages array","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Edge Cases"],"fullName":" Prompt Builder Edge Cases should handle multi-turn conversations","status":"passed","title":"should handle multi-turn conversations","duration":1,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Edge Cases"],"fullName":" Prompt Builder Edge Cases should handle metadata with only caseNumbers","status":"passed","title":"should handle metadata with only caseNumbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Edge Cases"],"fullName":" Prompt Builder Edge Cases should handle metadata with similar cases","status":"passed","title":"should handle metadata with similar cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Edge Cases"],"fullName":" Prompt Builder Edge Cases should handle metadata with thread history","status":"passed","title":"should handle metadata with thread history","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Date Formatting"],"fullName":" Prompt Builder Date Formatting should format full ISO timestamp to date only","status":"passed","title":"should format full ISO timestamp to date only","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Date Formatting"],"fullName":" Prompt Builder Date Formatting should accept date-only format","status":"passed","title":"should accept date-only format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Prompt Builder","Complex Scenarios"],"fullName":" Prompt Builder Complex Scenarios should handle full context with all metadata types","status":"failed","title":"should handle full context with all metadata types","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Acme Corp\",\u001b[22m\n\u001b[2m    \"Technical Support\",\u001b[22m\n\u001b[2m    \"Customer assistance\",\u001b[22m\n\u001b[31m+   Array [\u001b[90m\n\u001b[31m+     Object {\u001b[90m\n\u001b[31m+       \"case_number\": \"SCS0005555\",\u001b[90m\n\u001b[31m+       \"score\": 0.88,\u001b[90m\n\u001b[31m+     },\u001b[90m\n\u001b[31m+   ],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":352,"column":67}},{"ancestorTitles":["","Prompt Builder","Complex Scenarios"],"fullName":" Prompt Builder Complex Scenarios should prioritize businessContext.entityName over metadata.companyName","status":"failed","title":"should prioritize businessContext.entityName over metadata.companyName","duration":0,"failureMessages":["expected \"spy\" to be called with arguments: [ 'BASE_SYSTEM_PROMPT', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"BASE_SYSTEM_PROMPT\",\u001b[22m\n\u001b[2m    \"Correct Name\",\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[2m    undefined,\u001b[22m\n\u001b[31m+   Array [],\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":375,"column":67}}],"startTime":1763484010669,"endTime":1763484010682,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/prompt-builder.test.ts"},{"assertionResults":[{"ancestorTitles":["","Agent Runner - Multimodal Content Blocks","Content Block Handling from Tools"],"fullName":" Agent Runner - Multimodal Content Blocks Content Block Handling from Tools should convert _attachmentBlocks to contentBlocks in ExecuteToolResult","status":"failed","title":"should convert _attachmentBlocks to contentBlocks in ExecuteToolResult","duration":5,"failureMessages":["expected [] to have a length of 1 but got +0"],"location":{"line":120,"column":42}},{"ancestorTitles":["","Agent Runner - Multimodal Content Blocks","Content Block Handling from Tools"],"fullName":" Agent Runner - Multimodal Content Blocks Content Block Handling from Tools should handle tools without _attachmentBlocks (backward compatibility)","status":"failed","title":"should handle tools without _attachmentBlocks (backward compatibility)","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'contentBlocks')"],"location":{"line":175,"column":44}},{"ancestorTitles":["","Agent Runner - Multimodal Content Blocks","Content Block Handling from Tools"],"fullName":" Agent Runner - Multimodal Content Blocks Content Block Handling from Tools should handle parallel tools with mixed attachments","status":"failed","title":"should handle parallel tools with mixed attachments","duration":1,"failureMessages":["expected [] to have a length of 2 but got +0"],"location":{"line":241,"column":42}},{"ancestorTitles":["","Agent Runner - Multimodal Content Blocks","Content Block Handling from Tools"],"fullName":" Agent Runner - Multimodal Content Blocks Content Block Handling from Tools should strip _attachmentBlocks from output while adding to contentBlocks","status":"failed","title":"should strip _attachmentBlocks from output while adding to contentBlocks","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'output')"],"location":{"line":292,"column":25}}],"startTime":1763484012133,"endTime":1763484012142,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/runner-multimodal.test.ts"},{"assertionResults":[{"ancestorTitles":["","Agent Runner","Basic Text Responses"],"fullName":" Agent Runner Basic Text Responses returns text response when no tool calls","status":"passed","title":"returns text response when no tool calls","duration":4,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Basic Text Responses"],"fullName":" Agent Runner Basic Text Responses extracts text from message content blocks when outputText is missing","status":"passed","title":"extracts text from message content blocks when outputText is missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Basic Text Responses"],"fullName":" Agent Runner Basic Text Responses throws error when no text output is available","status":"passed","title":"throws error when no text output is available","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Tool Execution"],"fullName":" Agent Runner Tool Execution executes tool call and returns final response","status":"passed","title":"executes tool call and returns final response","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Tool Execution"],"fullName":" Agent Runner Tool Execution executes multiple tool calls in sequence","status":"passed","title":"executes multiple tool calls in sequence","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Tool Execution"],"fullName":" Agent Runner Tool Execution handles unknown tool gracefully","status":"passed","title":"handles unknown tool gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Tool Execution"],"fullName":" Agent Runner Tool Execution handles tool execution errors gracefully","status":"passed","title":"handles tool execution errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Status Updates"],"fullName":" Agent Runner Status Updates calls updateStatus with 'thinking' at start","status":"passed","title":"calls updateStatus with 'thinking' at start","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Status Updates"],"fullName":" Agent Runner Status Updates calls updateStatus with 'calling-tool' when tools are invoked","status":"passed","title":"calls updateStatus with 'calling-tool' when tools are invoked","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Status Updates"],"fullName":" Agent Runner Status Updates calls updateStatus with 'complete' at end","status":"failed","title":"calls updateStatus with 'complete' at end","duration":3,"failureMessages":["expected last \"spy\" call to have been called with [ 'complete' ]"],"location":{"line":289,"column":28}},{"ancestorTitles":["","Agent Runner","Status Updates"],"fullName":" Agent Runner Status Updates handles missing updateStatus gracefully","status":"passed","title":"handles missing updateStatus gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Iteration Limits"],"fullName":" Agent Runner Iteration Limits throws if tool iterations exceed max (6 steps)","status":"passed","title":"throws if tool iterations exceed max (6 steps)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Iteration Limits"],"fullName":" Agent Runner Iteration Limits completes successfully within iteration limit","status":"passed","title":"completes successfully within iteration limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","Agent Runner","Message and Tool Context"],"fullName":" Agent Runner Message and Tool Context passes all parameters to tool registry createTools","status":"failed","title":"passes all parameters to tool registry createTools","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ { caseNumbers: [ …(2) ], …(3) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[31m+     \"allowedTools\": undefined,\u001b[90m\n\u001b[2m      \"caseNumbers\": Array [\u001b[22m\n\u001b[2m        \"SCS123\",\u001b[22m\n\u001b[2m        \"SCS456\",\u001b[22m\n\u001b[2m      ],\u001b[22m\n\u001b[31m+     \"contextMetadata\": Object {\u001b[90m\n\u001b[31m+       \"pendingRequirements\": undefined,\u001b[90m\n\u001b[31m+       \"specialistShortlist\": Array [],\u001b[90m\n\u001b[31m+     },\u001b[90m\n\u001b[2m      \"messages\": Array [\u001b[22m\n\u001b[2m        Object {\u001b[22m\n\u001b[2m          \"content\": \"Test\",\u001b[22m\n\u001b[2m          \"role\": \"user\",\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[2m      ],\u001b[22m\n\u001b[2m      \"options\": Object {\u001b[22m\n\u001b[2m        \"channelId\": \"C123\",\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"updateStatus\": [Function spy],\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":378,"column":36}},{"ancestorTitles":["","Agent Runner","Message and Tool Context"],"fullName":" Agent Runner Message and Tool Context handles system messages in conversation","status":"passed","title":"handles system messages in conversation","duration":1,"failureMessages":[]}],"startTime":1763484010043,"endTime":1763484010057,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/runner.test.ts"},{"assertionResults":[{"ancestorTitles":["","Agent Tool Registry"],"fullName":" Agent Tool Registry creates legacy toolset with expected keys","status":"passed","title":"creates legacy toolset with expected keys","duration":2,"failureMessages":[]}],"startTime":1763484016629,"endTime":1763484016631,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tool-registry.test.ts"},{"assertionResults":[{"ancestorTitles":["","Business Contexts API","Authentication & Authorization"],"fullName":" Business Contexts API Authentication & Authorization should reject requests without authorization header","status":"passed","title":"should reject requests without authorization header","duration":4,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Authentication & Authorization"],"fullName":" Business Contexts API Authentication & Authorization should reject requests with invalid Bearer token","status":"passed","title":"should reject requests with invalid Bearer token","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Authentication & Authorization"],"fullName":" Business Contexts API Authentication & Authorization should reject requests with malformed authorization header","status":"passed","title":"should reject requests with malformed authorization header","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Authentication & Authorization"],"fullName":" Business Contexts API Authentication & Authorization should allow requests with valid Bearer token","status":"passed","title":"should allow requests with valid Bearer token","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","GET Operations"],"fullName":" Business Contexts API GET Operations should list all active business contexts","status":"passed","title":"should list all active business contexts","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","GET Operations"],"fullName":" Business Contexts API GET Operations should get single business context by ID","status":"passed","title":"should get single business context by ID","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","GET Operations"],"fullName":" Business Contexts API GET Operations should return 404 for non-existent context","status":"passed","title":"should return 404 for non-existent context","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","GET Operations"],"fullName":" Business Contexts API GET Operations should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":5,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","GET Operations"],"fullName":" Business Contexts API GET Operations should handle invalid ID parameter","status":"passed","title":"should handle invalid ID parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","POST Operations"],"fullName":" Business Contexts API POST Operations should create new business context with valid data","status":"passed","title":"should create new business context with valid data","duration":2,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","POST Operations"],"fullName":" Business Contexts API POST Operations should reject creation with missing required fields","status":"passed","title":"should reject creation with missing required fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","POST Operations"],"fullName":" Business Contexts API POST Operations should reject creation of duplicate entity","status":"passed","title":"should reject creation of duplicate entity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","POST Operations"],"fullName":" Business Contexts API POST Operations should handle invalid JSON in request body","status":"passed","title":"should handle invalid JSON in request body","duration":2,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","POST Operations"],"fullName":" Business Contexts API POST Operations should document lack of input sanitization","status":"passed","title":"should document lack of input sanitization","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","PUT Operations"],"fullName":" Business Contexts API PUT Operations should update existing business context","status":"passed","title":"should update existing business context","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","PUT Operations"],"fullName":" Business Contexts API PUT Operations should reject update without ID parameter","status":"passed","title":"should reject update without ID parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","PUT Operations"],"fullName":" Business Contexts API PUT Operations should return 404 when updating non-existent context","status":"passed","title":"should return 404 when updating non-existent context","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","PUT Operations"],"fullName":" Business Contexts API PUT Operations should handle invalid ID parameter","status":"passed","title":"should handle invalid ID parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","DELETE Operations"],"fullName":" Business Contexts API DELETE Operations should delete existing business context","status":"passed","title":"should delete existing business context","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","DELETE Operations"],"fullName":" Business Contexts API DELETE Operations should reject delete without ID parameter","status":"passed","title":"should reject delete without ID parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","DELETE Operations"],"fullName":" Business Contexts API DELETE Operations should return 404 when deleting non-existent context","status":"passed","title":"should return 404 when deleting non-existent context","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","DELETE Operations"],"fullName":" Business Contexts API DELETE Operations should handle database errors during deletion","status":"passed","title":"should handle database errors during deletion","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","CORS Support"],"fullName":" Business Contexts API CORS Support should handle OPTIONS preflight requests with default origin","status":"passed","title":"should handle OPTIONS preflight requests with default origin","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","CORS Support"],"fullName":" Business Contexts API CORS Support should handle OPTIONS preflight requests with matching origin","status":"passed","title":"should handle OPTIONS preflight requests with matching origin","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","CORS Support"],"fullName":" Business Contexts API CORS Support should include CORS headers in all responses","status":"passed","title":"should include CORS headers in all responses","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","CORS Support"],"fullName":" Business Contexts API CORS Support should use default origin for non-whitelisted origin","status":"passed","title":"should use default origin for non-whitelisted origin","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Input Validation & Security"],"fullName":" Business Contexts API Input Validation & Security should handle oversized payloads","status":"passed","title":"should handle oversized payloads","duration":7,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Input Validation & Security"],"fullName":" Business Contexts API Input Validation & Security should handle special characters in entity names","status":"passed","title":"should handle special characters in entity names","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Input Validation & Security"],"fullName":" Business Contexts API Input Validation & Security should document lack of entity type validation","status":"passed","title":"should document lack of entity type validation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Error Handling"],"fullName":" Business Contexts API Error Handling should handle repository errors consistently","status":"passed","title":"should handle repository errors consistently","duration":1,"failureMessages":[]},{"ancestorTitles":["","Business Contexts API","Error Handling"],"fullName":" Business Contexts API Error Handling should handle malformed query parameters","status":"passed","title":"should handle malformed query parameters","duration":1,"failureMessages":[]}],"startTime":1763484004465,"endTime":1763484004504,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/business-contexts.test.ts"},{"assertionResults":[{"ancestorTitles":["","Events API","Authentication"],"fullName":" Events API Authentication should reject requests without signature","status":"passed","title":"should reject requests without signature","duration":6,"failureMessages":[]},{"ancestorTitles":["","Events API","Authentication"],"fullName":" Events API Authentication should reject requests with invalid signature","status":"passed","title":"should reject requests with invalid signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Authentication"],"fullName":" Events API Authentication should accept requests with valid signature","status":"passed","title":"should accept requests with valid signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Authentication"],"fullName":" Events API Authentication should reject replay attacks","status":"passed","title":"should reject replay attacks","duration":2,"failureMessages":[]},{"ancestorTitles":["","Events API","URL Verification"],"fullName":" Events API URL Verification should handle URL verification challenge","status":"passed","title":"should handle URL verification challenge","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","URL Verification"],"fullName":" Events API URL Verification should reject URL verification without challenge","status":"passed","title":"should reject URL verification without challenge","duration":0,"failureMessages":[]},{"ancestorTitles":["","Events API","Event Handling"],"fullName":" Events API Event Handling should handle message events","status":"passed","title":"should handle message events","duration":2,"failureMessages":[]},{"ancestorTitles":["","Events API","Event Handling"],"fullName":" Events API Event Handling should handle app mention events","status":"passed","title":"should handle app mention events","duration":3,"failureMessages":[]},{"ancestorTitles":["","Events API","Event Handling"],"fullName":" Events API Event Handling should ignore bot messages","status":"passed","title":"should ignore bot messages","duration":8,"failureMessages":[]},{"ancestorTitles":["","Events API","Event Handling"],"fullName":" Events API Event Handling should handle malformed events gracefully","status":"passed","title":"should handle malformed events gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Input Validation"],"fullName":" Events API Input Validation should reject empty request body","status":"passed","title":"should reject empty request body","duration":0,"failureMessages":[]},{"ancestorTitles":["","Events API","Input Validation"],"fullName":" Events API Input Validation should reject non-JSON content","status":"passed","title":"should reject non-JSON content","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Input Validation"],"fullName":" Events API Input Validation should reject oversized payloads","status":"passed","title":"should reject oversized payloads","duration":14,"failureMessages":[]},{"ancestorTitles":["","Events API","Error Handling"],"fullName":" Events API Error Handling should handle processing errors gracefully","status":"passed","title":"should handle processing errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Error Handling"],"fullName":" Events API Error Handling should respond quickly to avoid timeouts","status":"passed","title":"should respond quickly to avoid timeouts","duration":0,"failureMessages":[]},{"ancestorTitles":["","Events API","Security"],"fullName":" Events API Security should sanitize input data","status":"passed","title":"should sanitize input data","duration":1,"failureMessages":[]},{"ancestorTitles":["","Events API","Security"],"fullName":" Events API Security should handle concurrent requests","status":"passed","title":"should handle concurrent requests","duration":1,"failureMessages":[]}],"startTime":1763484007815,"endTime":1763484007867,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/events.test.ts"},{"assertionResults":[{"ancestorTitles":["","Interactivity API Security","Payload Validation"],"fullName":" Interactivity API Security Payload Validation should reject empty payload","status":"passed","title":"should reject empty payload","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Payload Validation"],"fullName":" Interactivity API Security Payload Validation should reject malformed JSON","status":"passed","title":"should reject malformed JSON","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Payload Validation"],"fullName":" Interactivity API Security Payload Validation should reject payload without type","status":"passed","title":"should reject payload without type","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Payload Validation"],"fullName":" Interactivity API Security Payload Validation should reject payload without user","status":"passed","title":"should reject payload without user","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Block Actions Security"],"fullName":" Interactivity API Security Block Actions Security should sanitize action IDs","status":"passed","title":"should sanitize action IDs","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Block Actions Security"],"fullName":" Interactivity API Security Block Actions Security should handle extremely long action IDs","status":"passed","title":"should handle extremely long action IDs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Block Actions Security"],"fullName":" Interactivity API Security Block Actions Security should validate action value types","status":"passed","title":"should validate action value types","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","View Submission Security"],"fullName":" Interactivity API Security View Submission Security should sanitize modal input values","status":"passed","title":"should sanitize modal input values","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","View Submission Security"],"fullName":" Interactivity API Security View Submission Security should handle deeply nested state objects","status":"passed","title":"should handle deeply nested state objects","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","View Submission Security"],"fullName":" Interactivity API Security View Submission Security should validate required fields in submissions","status":"passed","title":"should validate required fields in submissions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","User Authorization"],"fullName":" Interactivity API Security User Authorization should validate user ID format","status":"passed","title":"should validate user ID format","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","User Authorization"],"fullName":" Interactivity API Security User Authorization should handle missing user ID","status":"passed","title":"should handle missing user ID","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","User Authorization"],"fullName":" Interactivity API Security User Authorization should handle null user ID","status":"passed","title":"should handle null user ID","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Rate Limiting and Abuse Prevention"],"fullName":" Interactivity API Security Rate Limiting and Abuse Prevention should handle rapid successive requests","status":"passed","title":"should handle rapid successive requests","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Rate Limiting and Abuse Prevention"],"fullName":" Interactivity API Security Rate Limiting and Abuse Prevention should handle large payloads efficiently","status":"passed","title":"should handle large payloads efficiently","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Error Handling and Resilience"],"fullName":" Interactivity API Security Error Handling and Resilience should handle service failures gracefully","status":"passed","title":"should handle service failures gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Error Handling and Resilience"],"fullName":" Interactivity API Security Error Handling and Resilience should handle Slack API failures","status":"passed","title":"should handle Slack API failures","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Error Handling and Resilience"],"fullName":" Interactivity API Security Error Handling and Resilience should handle database connection failures","status":"passed","title":"should handle database connection failures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Content Type and Encoding"],"fullName":" Interactivity API Security Content Type and Encoding should reject non-JSON content types","status":"passed","title":"should reject non-JSON content types","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Content Type and Encoding"],"fullName":" Interactivity API Security Content Type and Encoding should handle UTF-8 encoding","status":"passed","title":"should handle UTF-8 encoding","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Content Type and Encoding"],"fullName":" Interactivity API Security Content Type and Encoding should handle malformed UTF-8","status":"passed","title":"should handle malformed UTF-8","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Integration Security"],"fullName":" Interactivity API Security Integration Security should validate escalation action parameters","status":"passed","title":"should validate escalation action parameters","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Integration Security"],"fullName":" Interactivity API Security Integration Security should validate KB approval parameters","status":"passed","title":"should validate KB approval parameters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Routes select_ci_* actions to handleIncidentEnrichmentAction","status":"passed","title":"✓ Routes select_ci_* actions to handleIncidentEnrichmentAction","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Routes skip_ci action to handleIncidentEnrichmentAction","status":"passed","title":"✓ Routes skip_ci action to handleIncidentEnrichmentAction","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Parses button JSON value correctly","status":"passed","title":"✓ Parses button JSON value correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Calls clarificationService.handleClarificationResponse for select","status":"passed","title":"✓ Calls clarificationService.handleClarificationResponse for select","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Calls clarificationService.handleSkipAction for skip","status":"passed","title":"✓ Calls clarificationService.handleSkipAction for skip","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Sends DM confirmation when CI is linked","status":"passed","title":"✓ Sends DM confirmation when CI is linked","duration":2,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Handles parse errors gracefully","status":"passed","title":"✓ Handles parse errors gracefully","duration":7,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Incident Enrichment Button Handlers"],"fullName":" Interactivity API Security Incident Enrichment Button Handlers ✓ Posts error message on failure","status":"passed","title":"✓ Posts error message on failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Performance and Resource Limits"],"fullName":" Interactivity API Security Performance and Resource Limits should handle concurrent requests","status":"passed","title":"should handle concurrent requests","duration":5,"failureMessages":[]},{"ancestorTitles":["","Interactivity API Security","Performance and Resource Limits"],"fullName":" Interactivity API Security Performance and Resource Limits should handle memory pressure","status":"passed","title":"should handle memory pressure","duration":3,"failureMessages":[]}],"startTime":1763484005724,"endTime":1763484005764,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/interactivity.test.ts"},{"assertionResults":[{"ancestorTitles":["","/review-latest command"],"fullName":" /review-latest command filters Slack artifacts and shows verdict summary","status":"passed","title":"filters Slack artifacts and shows verdict summary","duration":5,"failureMessages":[]},{"ancestorTitles":["","/review-latest command"],"fullName":" /review-latest command applies min age filter","status":"passed","title":"applies min age filter","duration":1,"failureMessages":[]},{"ancestorTitles":["","/review-latest command"],"fullName":" /review-latest command supports verdict and limit filters with key-value syntax","status":"passed","title":"supports verdict and limit filters with key-value syntax","duration":1,"failureMessages":[]}],"startTime":1763484013887,"endTime":1763484013894,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/review-latest.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Happy Path - Valid Request"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Happy Path - Valid Request should accept valid webhook with HMAC signature and queue for processing","status":"passed","title":"should accept valid webhook with HMAC signature and queue for processing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Happy Path - Valid Request"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Happy Path - Valid Request should handle valid payload without signature when secret is not configured","status":"passed","title":"should handle valid payload without signature when secret is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Happy Path - Valid Request"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Happy Path - Valid Request should queue change for async processing when QStash is enabled","status":"passed","title":"should queue change for async processing when QStash is enabled","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Authentication Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Authentication Failures should reject requests with invalid HMAC signature","status":"passed","title":"should reject requests with invalid HMAC signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Authentication Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Authentication Failures should reject requests without any authentication when secret is configured","status":"passed","title":"should reject requests without any authentication when secret is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Authentication Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Authentication Failures should support API key authentication as alternative to HMAC","status":"passed","title":"should support API key authentication as alternative to HMAC","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Authentication Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Authentication Failures should reject requests with wrong API key","status":"passed","title":"should reject requests with wrong API key","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should reject invalid JSON payload","status":"passed","title":"should reject invalid JSON payload","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should reject payload missing required fields (change_number)","status":"passed","title":"should reject payload missing required fields (change_number)","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should reject payload missing required fields (change_sys_id)","status":"passed","title":"should reject payload missing required fields (change_sys_id)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should reject payload with invalid state value","status":"passed","title":"should reject payload with invalid state value","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should reject payload with invalid component_type","status":"passed","title":"should reject payload with invalid component_type","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Validation Errors"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Validation Errors should provide helpful error details for validation failures","status":"passed","title":"should provide helpful error details for validation failures","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Database and Queue Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Database and Queue Failures should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Database and Queue Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Database and Queue Failures should handle QStash enqueue failures gracefully","status":"passed","title":"should handle QStash enqueue failures gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Database and Queue Failures"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Database and Queue Failures should continue processing if QStash is disabled","status":"passed","title":"should continue processing if QStash is disabled","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Configuration and Feature Flags"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Configuration and Feature Flags should reject requests when change validation is disabled","status":"passed","title":"should reject requests when change validation is disabled","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Configuration and Feature Flags"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Configuration and Feature Flags should use sync processing when async processing is disabled","status":"passed","title":"should use sync processing when async processing is disabled","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Configuration and Feature Flags"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Configuration and Feature Flags should log warning when webhook secret is missing in production","status":"passed","title":"should log warning when webhook secret is missing in production","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 202 Accepted when change is queued","status":"passed","title":"should return 202 Accepted when change is queued","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 202 Accepted for sync processing when QStash is disabled","status":"passed","title":"should return 202 Accepted for sync processing when QStash is disabled","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 401 Unauthorized for authentication failures","status":"passed","title":"should return 401 Unauthorized for authentication failures","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 422 Unprocessable Entity for schema validation failures","status":"passed","title":"should return 422 Unprocessable Entity for schema validation failures","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 400 Bad Request for JSON parsing failures","status":"passed","title":"should return 400 Bad Request for JSON parsing failures","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Response Formats"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Response Formats should return 500 Internal Server Error for unexpected errors","status":"passed","title":"should return 500 Internal Server Error for unexpected errors","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Edge Runtime Compatibility"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Edge Runtime Compatibility should use Web Crypto API for HMAC verification (no Node.js APIs)","status":"passed","title":"should use Web Crypto API for HMAC verification (no Node.js APIs)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Edge Runtime Compatibility"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Edge Runtime Compatibility should use TextEncoder/TextDecoder instead of Buffer","status":"passed","title":"should use TextEncoder/TextDecoder instead of Buffer","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Edge Runtime Compatibility"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Edge Runtime Compatibility should handle btoa/atob for base64 encoding","status":"passed","title":"should handle btoa/atob for base64 encoding","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Performance and Timeout"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Performance and Timeout should complete webhook processing within reasonable time","status":"passed","title":"should complete webhook processing within reasonable time","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Performance and Timeout"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Performance and Timeout should not block on QStash enqueue failures","status":"passed","title":"should not block on QStash enqueue failures","duration":5,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Observability and Logging"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Observability and Logging should capture request timing information","status":"passed","title":"should capture request timing information","duration":7,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Observability and Logging"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Observability and Logging should include request_id for tracing","status":"passed","title":"should include request_id for tracing","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Observability and Logging"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Observability and Logging should log authentication method used","status":"passed","title":"should log authentication method used","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Change Webhook (/api/servicenow-change-webhook)","Observability and Logging"],"fullName":" ServiceNow Change Webhook (/api/servicenow-change-webhook) Observability and Logging should include LangSmith tracing metadata","status":"passed","title":"should include LangSmith tracing metadata","duration":0,"failureMessages":[]}],"startTime":1763484006579,"endTime":1763484006604,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/servicenow-change-webhook.test.ts"},{"assertionResults":[{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should return cache MISS if no previous classification exists","status":"passed","title":"should return cache MISS if no previous classification exists","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should return cache MISS if classification is too old","status":"passed","title":"should return cache MISS if classification is too old","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should return cache HIT if classification is recent","status":"passed","title":"should return cache HIT if classification is recent","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should calculate age correctly in seconds","status":"passed","title":"should calculate age correctly in seconds","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should handle DB errors gracefully","status":"passed","title":"should handle DB errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkIdempotency() - Layer 1"],"fullName":" TriageCache checkIdempotency() - Layer 1 should preserve all classification data in cache hit","status":"passed","title":"should preserve all classification data in cache hit","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should return cache MISS if no previous classification","status":"passed","title":"should return cache MISS if no previous classification","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should return cache MISS if workflow changed","status":"passed","title":"should return cache MISS if workflow changed","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should return cache MISS if assignment group changed","status":"passed","title":"should return cache MISS if assignment group changed","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should return cache HIT if workflow and assignment unchanged","status":"passed","title":"should return cache HIT if workflow and assignment unchanged","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should handle null assignment group","status":"passed","title":"should handle null assignment group","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should handle DB errors gracefully","status":"passed","title":"should handle DB errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageCache","checkWorkflowCache() - Layer 2"],"fullName":" TriageCache checkWorkflowCache() - Layer 2 should set incident/problem creation flags to false in cached results","status":"passed","title":"should set incident/problem creation flags to false in cached results","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageCache","Two-Layer Integration"],"fullName":" TriageCache Two-Layer Integration should use idempotency for very recent classifications","status":"passed","title":"should use idempotency for very recent classifications","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageCache","Two-Layer Integration"],"fullName":" TriageCache Two-Layer Integration should use workflow cache for older classifications with same routing","status":"passed","title":"should use workflow cache for older classifications with same routing","duration":0,"failureMessages":[]}],"startTime":1763484008496,"endTime":1763484008508,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage/cache.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should return all defaults when no options provided","status":"passed","title":"should return all defaults when no options provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should override defaults with provided options","status":"passed","title":"should override defaults with provided options","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should handle all options being explicitly set","status":"passed","title":"should handle all options being explicitly set","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should use global config fallbacks for catalog and CMDB settings","status":"passed","title":"should use global config fallbacks for catalog and CMDB settings","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should handle missing global config gracefully","status":"passed","title":"should handle missing global config gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should prioritize options over global config","status":"passed","title":"should prioritize options over global config","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Constants","getClassificationConfig()"],"fullName":" Case Triage Constants getClassificationConfig() should handle undefined options parameter","status":"passed","title":"should handle undefined options parameter","duration":0,"failureMessages":[]}],"startTime":1763484014484,"endTime":1763484014487,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage/constants.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Triage Formatters","formatIncidentWorkNote()"],"fullName":" Case Triage Formatters formatIncidentWorkNote() should format standard incident work note","status":"passed","title":"should format standard incident work note","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatIncidentWorkNote()"],"fullName":" Case Triage Formatters formatIncidentWorkNote() should format major incident work note with warning","status":"passed","title":"should format major incident work note with warning","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatIncidentWorkNote()"],"fullName":" Case Triage Formatters formatIncidentWorkNote() should handle classification without subcategory","status":"passed","title":"should handle classification without subcategory","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatIncidentWorkNote()"],"fullName":" Case Triage Formatters formatIncidentWorkNote() should match expected format snapshot","status":"passed","title":"should match expected format snapshot","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatIncidentWorkNote()"],"fullName":" Case Triage Formatters formatIncidentWorkNote() should match major incident format snapshot","status":"passed","title":"should match major incident format snapshot","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatProblemWorkNote()"],"fullName":" Case Triage Formatters formatProblemWorkNote() should format problem work note","status":"passed","title":"should format problem work note","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatProblemWorkNote()"],"fullName":" Case Triage Formatters formatProblemWorkNote() should handle classification without subcategory","status":"passed","title":"should handle classification without subcategory","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Formatters","formatProblemWorkNote()"],"fullName":" Case Triage Formatters formatProblemWorkNote() should match expected format snapshot","status":"passed","title":"should match expected format snapshot","duration":0,"failureMessages":[]}],"startTime":1763484013178,"endTime":1763484013183,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage/formatters.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Triage Retrieval","fetchCategories()"],"fullName":" Case Triage Retrieval fetchCategories() should fetch categories with timing","status":"passed","title":"should fetch categories with timing","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchCategories()"],"fullName":" Case Triage Retrieval fetchCategories() should use default max age if not provided","status":"passed","title":"should use default max age if not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchCategories()"],"fullName":" Case Triage Retrieval fetchCategories() should warn if categories are stale","status":"passed","title":"should warn if categories are stale","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchCategories()"],"fullName":" Case Triage Retrieval fetchCategories() should log category counts","status":"passed","title":"should log category counts","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchApplicationServices()"],"fullName":" Case Triage Retrieval fetchApplicationServices() should return empty array if no company sys_id","status":"passed","title":"should return empty array if no company sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchApplicationServices()"],"fullName":" Case Triage Retrieval fetchApplicationServices() should fetch application services for company","status":"passed","title":"should fetch application services for company","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchApplicationServices()"],"fullName":" Case Triage Retrieval fetchApplicationServices() should log service count on success","status":"passed","title":"should log service count on success","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchApplicationServices()"],"fullName":" Case Triage Retrieval fetchApplicationServices() should log warning when no services found","status":"passed","title":"should log warning when no services found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","fetchApplicationServices()"],"fullName":" Case Triage Retrieval fetchApplicationServices() should return empty array on API error","status":"passed","title":"should return empty array on API error","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","enrichClassificationContext()"],"fullName":" Case Triage Retrieval enrichClassificationContext() should combine both fetches into single result","status":"passed","title":"should combine both fetches into single result","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","enrichClassificationContext()"],"fullName":" Case Triage Retrieval enrichClassificationContext() should handle case with no company (no app services)","status":"passed","title":"should handle case with no company (no app services)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Retrieval","enrichClassificationContext()"],"fullName":" Case Triage Retrieval enrichClassificationContext() should have timing metrics for both operations","status":"passed","title":"should have timing metrics for both operations","duration":0,"failureMessages":[]}],"startTime":1763484012101,"endTime":1763484012111,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage/retrieval.test.ts"},{"assertionResults":[{"ancestorTitles":["","TriageStorage","recordInbound()"],"fullName":" TriageStorage recordInbound() should save inbound payload and return ID","status":"passed","title":"should save inbound payload and return ID","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","recordInbound()"],"fullName":" TriageStorage recordInbound() should return null if getUnprocessedPayload returns null","status":"passed","title":"should return null if getUnprocessedPayload returns null","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","recordInbound()"],"fullName":" TriageStorage recordInbound() should return null and log error on save failure","status":"passed","title":"should return null and log error on save failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","recordInbound()"],"fullName":" TriageStorage recordInbound() should handle missing optional fields","status":"passed","title":"should handle missing optional fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveClassification()"],"fullName":" TriageStorage saveClassification() should save classification with all metadata","status":"failed","title":"should save classification with all metadata","duration":8,"failureMessages":["expected \"spy\" to be called with arguments: [ { caseNumber: 'SCS0012345', …(16) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[2m      \"applicationService\": \"Wireless Access\",\u001b[22m\n\u001b[2m      \"businessIntelligenceDetected\": true,\u001b[22m\n\u001b[2m      \"caseNumber\": \"SCS0012345\",\u001b[22m\n\u001b[2m      \"classificationJson\": Object {\u001b[22m\n\u001b[2m        \"application_service\": \"Wireless Access\",\u001b[22m\n\u001b[2m        \"business_intelligence\": Object {\u001b[22m\n\u001b[2m          \"compliance_impact\": false,\u001b[22m\n\u001b[2m          \"executive_visibility\": false,\u001b[22m\n\u001b[2m          \"financial_impact\": false,\u001b[22m\n\u001b[2m          \"project_scope_detected\": true,\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[2m        \"category\": \"Network\",\u001b[22m\n\u001b[2m        \"confidence_score\": 0.92,\u001b[22m\n\u001b[2m        \"kb_articles_count\": 2,\u001b[22m\n\u001b[2m        \"keywords\": Array [\u001b[22m\n\u001b[2m          \"wifi\",\u001b[22m\n\u001b[2m          \"connection\",\u001b[22m\n\u001b[2m          \"timeout\",\u001b[22m\n\u001b[2m        ],\u001b[22m\n\u001b[2m        \"llm_provider\": \"anthropic\",\u001b[22m\n\u001b[2m        \"model_used\": \"claude-sonnet-4-5\",\u001b[22m\n\u001b[2m        \"reasoning\": \"User reported Wi-Fi connectivity issues\",\u001b[22m\n\u001b[2m        \"service_offering\": \"Network Infrastructure\",\u001b[22m\n\u001b[2m        \"similar_cases_count\": 3,\u001b[22m\n\u001b[2m        \"subcategory\": \"Wi-Fi\",\u001b[22m\n\u001b[2m        \"token_usage_input\": 15000,\u001b[22m\n\u001b[2m        \"token_usage_output\": 1200,\u001b[22m\n\u001b[2m        \"total_tokens\": 16200,\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"confidenceScore\": 0.92,\u001b[22m\n\u001b[32m-     \"cost\": Any<Number>,\u001b[90m\n\u001b[31m+     \"cost\": 0.0498,\u001b[90m\n\u001b[2m      \"entitiesCount\": 0,\u001b[22m\n\u001b[2m      \"kbArticlesCount\": 2,\u001b[22m\n\u001b[32m-     \"model\": \"claude-3-5-sonnet-20241022\",\u001b[90m\n\u001b[31m+     \"model\": \"claude-sonnet-4-5\",\u001b[90m\n\u001b[2m      \"processingTimeMs\": 2500,\u001b[22m\n\u001b[2m      \"provider\": \"anthropic\",\u001b[22m\n\u001b[2m      \"retryCount\": 0,\u001b[22m\n\u001b[2m      \"serviceOffering\": \"Network Infrastructure\",\u001b[22m\n\u001b[2m      \"servicenowUpdated\": true,\u001b[22m\n\u001b[2m      \"similarCasesCount\": 3,\u001b[22m\n\u001b[2m      \"tokenUsage\": Object {\u001b[22m\n\u001b[2m        \"completionTokens\": 1200,\u001b[22m\n\u001b[2m        \"promptTokens\": 15000,\u001b[22m\n\u001b[2m        \"totalTokens\": 16200,\u001b[22m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"workflowId\": \"standard\",\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":135,"column":55}},{"ancestorTitles":["","TriageStorage","saveClassification()"],"fullName":" TriageStorage saveClassification() should detect business intelligence flags correctly","status":"passed","title":"should detect business intelligence flags correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveClassification()"],"fullName":" TriageStorage saveClassification() should handle missing token usage gracefully","status":"passed","title":"should handle missing token usage gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveClassification()"],"fullName":" TriageStorage saveClassification() should not throw on save failure","status":"passed","title":"should not throw on save failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should save all entity types correctly","status":"passed","title":"should save all entity types correctly","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should return 0 if no technical_entities present","status":"passed","title":"should return 0 if no technical_entities present","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should skip unknown entity types","status":"passed","title":"should skip unknown entity types","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should truncate long entity values to 500 chars","status":"passed","title":"should truncate long entity values to 500 chars","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should set default confidence score if missing","status":"passed","title":"should set default confidence score if missing","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should return 0 and not throw on save failure","status":"passed","title":"should return 0 and not throw on save failure","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should log entity type counts on success","status":"passed","title":"should log entity type counts on success","duration":0,"failureMessages":[]},{"ancestorTitles":["","TriageStorage","saveEntities()"],"fullName":" TriageStorage saveEntities() should skip non-array entity values","status":"passed","title":"should skip non-array entity values","duration":1,"failureMessages":[]}],"startTime":1763484008134,"endTime":1763484008155,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/case-triage/storage.test.ts"},{"assertionResults":[{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should return create_task action when no matches found","status":"passed","title":"should return create_task action when no matches found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should return link_ci action when exactly one match found","status":"passed","title":"should return link_ci action when exactly one match found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should return ambiguous action when multiple matches found","status":"passed","title":"should return ambiguous action when multiple matches found","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should calculate higher confidence for exact name matches","status":"passed","title":"should calculate higher confidence for exact name matches","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should calculate higher confidence for relevant CI classes","status":"passed","title":"should calculate higher confidence for relevant CI classes","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should calculate higher confidence for IP address matches","status":"failed","title":"should calculate higher confidence for IP address matches","duration":4,"failureMessages":["expected 0.8 to be greater than 0.8"],"location":{"line":98,"column":33}},{"ancestorTitles":["","CmdbMatchProcessor","processMatches"],"fullName":" CmdbMatchProcessor processMatches should handle partial name matches","status":"passed","title":"should handle partial name matches","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","shouldContinueProcessing"],"fullName":" CmdbMatchProcessor shouldContinueProcessing should return true for non-skip actions","status":"passed","title":"should return true for non-skip actions","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","shouldContinueProcessing"],"fullName":" CmdbMatchProcessor shouldContinueProcessing should return false for skip action","status":"passed","title":"should return false for skip action","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","validateMatchResult"],"fullName":" CmdbMatchProcessor validateMatchResult should validate correct match results","status":"passed","title":"should validate correct match results","duration":0,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","validateMatchResult"],"fullName":" CmdbMatchProcessor validateMatchResult should reject results with invalid actions","status":"passed","title":"should reject results with invalid actions","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","validateMatchResult"],"fullName":" CmdbMatchProcessor validateMatchResult should reject link_ci results without matches","status":"passed","title":"should reject link_ci results without matches","duration":1,"failureMessages":[]},{"ancestorTitles":["","CmdbMatchProcessor","validateMatchResult"],"fullName":" CmdbMatchProcessor validateMatchResult should reject results with invalid confidence scores","status":"passed","title":"should reject results with invalid confidence scores","duration":0,"failureMessages":[]}],"startTime":1763484012959,"endTime":1763484012967,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb/cmdb-match-processor.test.ts"},{"assertionResults":[{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should skip non-CI-worthy entities","status":"passed","title":"should skip non-CI-worthy entities","duration":1,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should return original value when no business context matches","status":"passed","title":"should return original value when no business context matches","duration":1,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should resolve entity using business context alias","status":"passed","title":"should resolve entity using business context alias","duration":0,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should resolve entity using exact name match","status":"passed","title":"should resolve entity using exact name match","duration":1,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should handle IP address entities","status":"passed","title":"should handle IP address entities","duration":0,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should handle software entities","status":"passed","title":"should handle software entities","duration":0,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should handle network device entities","status":"passed","title":"should handle network device entities","duration":0,"failureMessages":[]},{"ancestorTitles":["","EntityResolutionService","resolveEntity"],"fullName":" EntityResolutionService resolveEntity should skip error code entities","status":"passed","title":"should skip error code entities","duration":1,"failureMessages":[]}],"startTime":1763484014727,"endTime":1763484014731,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb/entity-resolution-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","ReconciliationOrchestrator","reconcileEntities"],"fullName":" ReconciliationOrchestrator reconcileEntities should process all entities and return reconciliation results","status":"failed","title":"should process all entities and return reconciliation results","duration":9,"failureMessages":["expected \"spy\" to be called 5 times, but got 8 times"],"location":{"line":93,"column":37}},{"ancestorTitles":["","ReconciliationOrchestrator","reconcileEntities"],"fullName":" ReconciliationOrchestrator reconcileEntities should handle errors gracefully and continue processing","status":"failed","title":"should handle errors gracefully and continue processing","duration":1,"failureMessages":["Database error"],"location":{"line":111,"column":51}},{"ancestorTitles":["","ReconciliationOrchestrator","getCaseStatistics"],"fullName":" ReconciliationOrchestrator getCaseStatistics should delegate to repository","status":"passed","title":"should delegate to repository","duration":1,"failureMessages":[]},{"ancestorTitles":["","ReconciliationOrchestrator","getRecentResults"],"fullName":" ReconciliationOrchestrator getRecentResults should delegate to repository","status":"passed","title":"should delegate to repository","duration":0,"failureMessages":[]},{"ancestorTitles":["","ReconciliationOrchestrator","getUnmatchedEntities"],"fullName":" ReconciliationOrchestrator getUnmatchedEntities should delegate to repository","status":"passed","title":"should delegate to repository","duration":1,"failureMessages":[]}],"startTime":1763484014233,"endTime":1763484014245,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/cmdb/reconciliation-orchestrator.test.ts"},{"assertionResults":[{"ancestorTitles":["","parseDemandRequest"],"fullName":" parseDemandRequest parses a fully populated command string","status":"passed","title":"parses a fully populated command string","duration":1,"failureMessages":[]},{"ancestorTitles":["","parseDemandRequest"],"fullName":" parseDemandRequest fails when required fields are missing","status":"passed","title":"fails when required fields are missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseDemandRequest"],"fullName":" parseDemandRequest fails when team size is not a positive number","status":"passed","title":"fails when team size is not a positive number","duration":0,"failureMessages":[]},{"ancestorTitles":["","parseDemandRequest"],"fullName":" parseDemandRequest fails when no strategic pillars are provided","status":"passed","title":"fails when no strategic pillars are provided","duration":0,"failureMessages":[]}],"startTime":1763484016038,"endTime":1763484016039,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/commands/project-evaluate.test.ts"},{"assertionResults":[{"ancestorTitles":["","Demand API smoke"],"fullName":" Demand API smoke DEMAND_API_BASE_URL and DEMAND_API_KEY must be set to run this smoke test","status":"skipped","title":"DEMAND_API_BASE_URL and DEMAND_API_KEY must be set to run this smoke test","failureMessages":[]}],"startTime":1763484004008,"endTime":1763484004008,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/demand/demand-api.smoke.test.ts"},{"assertionResults":[{"ancestorTitles":["","Demand Slack Workflow","openDemandRequestModal"],"fullName":" Demand Slack Workflow openDemandRequestModal opens modal populated with dynamic schema","status":"passed","title":"opens modal populated with dynamic schema","duration":2,"failureMessages":[]},{"ancestorTitles":["","Demand Slack Workflow","handleDemandModalSubmission"],"fullName":" Demand Slack Workflow handleDemandModalSubmission saves session state and posts initial analysis","status":"passed","title":"saves session state and posts initial analysis","duration":5,"failureMessages":[]},{"ancestorTitles":["","Demand Slack Workflow","handleDemandThreadReply"],"fullName":" Demand Slack Workflow handleDemandThreadReply sends clarification answer and posts next question","status":"passed","title":"sends clarification answer and posts next question","duration":2,"failureMessages":[]},{"ancestorTitles":["","Demand Slack Workflow","handleDemandThreadReply"],"fullName":" Demand Slack Workflow handleDemandThreadReply finalizes when clarification completes","status":"passed","title":"finalizes when clarification completes","duration":0,"failureMessages":[]}],"startTime":1763484012741,"endTime":1763484012751,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/demand/slack-workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should format complete case with all fields","status":"passed","title":"should format complete case with all fields","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should handle null/undefined fields gracefully","status":"passed","title":"should handle null/undefined fields gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should handle object-style reference fields","status":"passed","title":"should handle object-style reference fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should format journal entries correctly","status":"passed","title":"should format journal entries correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should limit journal entries to max 3","status":"passed","title":"should limit journal entries to max 3","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should truncate long descriptions","status":"passed","title":"should truncate long descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should not exceed 50 block limit","status":"passed","title":"should not exceed 50 block limit","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should include ServiceNow deep link in actions","status":"passed","title":"should include ServiceNow deep link in actions","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should handle journal entries with value as object","status":"passed","title":"should handle journal entries with value as object","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","formatCaseAsBlockKit"],"fullName":" ServiceNow Block Kit Formatter formatCaseAsBlockKit should truncate long journal entries at word boundary","status":"passed","title":"should truncate long journal entries at word boundary","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","generateCaseFallbackText"],"fullName":" ServiceNow Block Kit Formatter generateCaseFallbackText should generate complete fallback text","status":"passed","title":"should generate complete fallback text","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","generateCaseFallbackText"],"fullName":" ServiceNow Block Kit Formatter generateCaseFallbackText should handle missing fields in fallback","status":"passed","title":"should handle missing fields in fallback","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Block Kit Formatter","generateCaseFallbackText"],"fullName":" ServiceNow Block Kit Formatter generateCaseFallbackText should extract values from object-style fields","status":"passed","title":"should extract values from object-style fields","duration":0,"failureMessages":[]}],"startTime":1763484012114,"endTime":1763484012120,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/formatters/servicenow-block-kit.test.ts"},{"assertionResults":[{"ancestorTitles":["","Anthropic Best Practices Validation","Parallel Tool Execution"],"fullName":" Anthropic Best Practices Validation Parallel Tool Execution should execute multiple tool calls simultaneously with Promise.all","status":"passed","title":"should execute multiple tool calls simultaneously with Promise.all","duration":2,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Parallel Tool Execution"],"fullName":" Anthropic Best Practices Validation Parallel Tool Execution should batch all tool results in a single user message","status":"passed","title":"should batch all tool results in a single user message","duration":0,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Error Handling with is_error"],"fullName":" Anthropic Best Practices Validation Error Handling with is_error should detect error objects and set isError flag","status":"passed","title":"should detect error objects and set isError flag","duration":0,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Error Handling with is_error"],"fullName":" Anthropic Best Practices Validation Error Handling with is_error should send is_error: true to Anthropic API for failed tools","status":"passed","title":"should send is_error: true to Anthropic API for failed tools","duration":1,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Error Handling with is_error"],"fullName":" Anthropic Best Practices Validation Error Handling with is_error should have isError field in ExecuteToolResult interface","status":"passed","title":"should have isError field in ExecuteToolResult interface","duration":0,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","max_tokens Truncation Handling"],"fullName":" Anthropic Best Practices Validation max_tokens Truncation Handling should detect and retry truncated tool_use blocks","status":"passed","title":"should detect and retry truncated tool_use blocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","tool_choice Parameter Support"],"fullName":" Anthropic Best Practices Validation tool_choice Parameter Support should support all tool_choice modes in type system","status":"passed","title":"should support all tool_choice modes in type system","duration":1,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","tool_choice Parameter Support"],"fullName":" Anthropic Best Practices Validation tool_choice Parameter Support should pass tool_choice to Anthropic API when specified","status":"passed","title":"should pass tool_choice to Anthropic API when specified","duration":1,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","tool_choice Parameter Support"],"fullName":" Anthropic Best Practices Validation tool_choice Parameter Support should include toolChoice in ChatRequest interface","status":"passed","title":"should include toolChoice in ChatRequest interface","duration":1,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","pause_turn Stop Reason"],"fullName":" Anthropic Best Practices Validation pause_turn Stop Reason should handle pause_turn for server tools","status":"passed","title":"should handle pause_turn for server tools","duration":2,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Tool Descriptions"],"fullName":" Anthropic Best Practices Validation Tool Descriptions should have comprehensive descriptions (3-4+ sentences minimum)","status":"passed","title":"should have comprehensive descriptions (3-4+ sentences minimum)","duration":26,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Message Formatting Best Practices"],"fullName":" Anthropic Best Practices Validation Message Formatting Best Practices should format tool results correctly for parallel tool use","status":"passed","title":"should format tool results correctly for parallel tool use","duration":5,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","Message Formatting Best Practices"],"fullName":" Anthropic Best Practices Validation Message Formatting Best Practices should support multimodal content blocks in tool results","status":"passed","title":"should support multimodal content blocks in tool results","duration":2,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","System Prompt Guidance"],"fullName":" Anthropic Best Practices Validation System Prompt Guidance should include parallel tool execution guidance","status":"passed","title":"should include parallel tool execution guidance","duration":0,"failureMessages":[]},{"ancestorTitles":["","Anthropic Best Practices Validation","System Prompt Guidance"],"fullName":" Anthropic Best Practices Validation System Prompt Guidance should include token cost warnings for images","status":"passed","title":"should include token cost warnings for images","duration":1,"failureMessages":[]}],"startTime":1763484012367,"endTime":1763484012411,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/anthropic-best-practices.test.ts"},{"assertionResults":[{"ancestorTitles":["","CaseRepository Integration Tests","Authentication & Connection"],"fullName":" CaseRepository Integration Tests Authentication & Connection should authenticate successfully and connect to ServiceNow","status":"skipped","title":"should authenticate successfully and connect to ServiceNow","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","Authentication & Connection"],"fullName":" CaseRepository Integration Tests Authentication & Connection should handle authentication with proper headers","status":"skipped","title":"should handle authentication with proper headers","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","findBySysId"],"fullName":" CaseRepository Integration Tests findBySysId should return null for non-existent sys_id","status":"skipped","title":"should return null for non-existent sys_id","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","findBySysId"],"fullName":" CaseRepository Integration Tests findBySysId should find a case by sys_id if TEST_CASE_SYS_ID is provided","status":"skipped","title":"should find a case by sys_id if TEST_CASE_SYS_ID is provided","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","findByNumber"],"fullName":" CaseRepository Integration Tests findByNumber should return null for non-existent case number","status":"skipped","title":"should return null for non-existent case number","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","findByNumber"],"fullName":" CaseRepository Integration Tests findByNumber should find a case by number if TEST_CASE_NUMBER is provided","status":"skipped","title":"should find a case by number if TEST_CASE_NUMBER is provided","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","search"],"fullName":" CaseRepository Integration Tests search should search cases with limit","status":"skipped","title":"should search cases with limit","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","search"],"fullName":" CaseRepository Integration Tests search should search cases by criteria","status":"skipped","title":"should search cases by criteria","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","Response Mapping"],"fullName":" CaseRepository Integration Tests Response Mapping should correctly map ServiceNow API response to domain model","status":"skipped","title":"should correctly map ServiceNow API response to domain model","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","Error Handling"],"fullName":" CaseRepository Integration Tests Error Handling should handle invalid sys_id gracefully","status":"skipped","title":"should handle invalid sys_id gracefully","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","Error Handling"],"fullName":" CaseRepository Integration Tests Error Handling should handle network timeouts (if configured)","status":"skipped","title":"should handle network timeouts (if configured)","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","HTTP Client Retry Logic"],"fullName":" CaseRepository Integration Tests HTTP Client Retry Logic should successfully complete requests (validates retry doesn't interfere)","status":"skipped","title":"should successfully complete requests (validates retry doesn't interfere)","failureMessages":[]},{"ancestorTitles":["","CaseRepository Integration Tests","Full Stack Integration"],"fullName":" CaseRepository Integration Tests Full Stack Integration should demonstrate complete flow: search → findById → verify","status":"skipped","title":"should demonstrate complete flow: search → findById → verify","failureMessages":[]}],"startTime":1763484004008,"endTime":1763484004008,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/case-repository.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Search Workflow Integration","Search → Display Workflow"],"fullName":" Case Search Workflow Integration Search → Display Workflow should execute full search and display workflow","status":"passed","title":"should execute full search and display workflow","duration":7,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Workload Analysis Workflow"],"fullName":" Case Search Workflow Integration Workload Analysis Workflow should aggregate and display workload distribution","status":"passed","title":"should aggregate and display workload distribution","duration":3,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Oldest Case Workflow"],"fullName":" Case Search Workflow Integration Oldest Case Workflow should find and display oldest cases","status":"passed","title":"should find and display oldest cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Stale Case Detection Workflow"],"fullName":" Case Search Workflow Integration Stale Case Detection Workflow should detect and display stale cases","status":"passed","title":"should detect and display stale cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Stale Case Detection Workflow"],"fullName":" Case Search Workflow Integration Stale Case Detection Workflow should handle threshold change workflow","status":"passed","title":"should handle threshold change workflow","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Pagination Workflow"],"fullName":" Case Search Workflow Integration Pagination Workflow should handle multi-page search results","status":"passed","title":"should handle multi-page search results","duration":2,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Filter Prompt Workflow"],"fullName":" Case Search Workflow Integration Filter Prompt Workflow should prompt for clarification on vague queries","status":"passed","title":"should prompt for clarification on vague queries","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","XSS Protection in UI"],"fullName":" Case Search Workflow Integration XSS Protection in UI should sanitize malicious case descriptions","status":"passed","title":"should sanitize malicious case descriptions","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","XSS Protection in UI"],"fullName":" Case Search Workflow Integration XSS Protection in UI should sanitize malicious assignee names in workload","status":"passed","title":"should sanitize malicious assignee names in workload","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Performance & Scalability"],"fullName":" Case Search Workflow Integration Performance & Scalability should handle 50 cases efficiently","status":"passed","title":"should handle 50 cases efficiently","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Performance & Scalability"],"fullName":" Case Search Workflow Integration Performance & Scalability should handle block count limits with many cases","status":"failed","title":"should handle block count limits with many cases","duration":8,"failureMessages":["expected [Function] to throw an error"],"location":{"line":455,"column":55}},{"ancestorTitles":["","Case Search Workflow Integration","Edge Cases"],"fullName":" Case Search Workflow Integration Edge Cases should handle all cases unassigned","status":"passed","title":"should handle all cases unassigned","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Edge Cases"],"fullName":" Case Search Workflow Integration Edge Cases should handle all cases same priority","status":"passed","title":"should handle all cases same priority","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Edge Cases"],"fullName":" Case Search Workflow Integration Edge Cases should handle missing dates gracefully","status":"passed","title":"should handle missing dates gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Search Workflow Integration","Edge Cases"],"fullName":" Case Search Workflow Integration Edge Cases should handle empty case list in all workflows","status":"passed","title":"should handle empty case list in all workflows","duration":0,"failureMessages":[]}],"startTime":1763484006943,"endTime":1763484006967,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/case-search-workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Request Repository - REQ0043549"],"fullName":" Catalog Workflow Retrieval - Integration Tests Request Repository - REQ0043549 should retrieve Request by number","status":"failed","title":"should retrieve Request by number","duration":9,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Request Repository - REQ0043549"],"fullName":" Catalog Workflow Retrieval - Integration Tests Request Repository - REQ0043549 should handle non-existent request number","status":"failed","title":"should handle non-existent request number","duration":1,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Requested Item Repository - RITM0046210"],"fullName":" Catalog Workflow Retrieval - Integration Tests Requested Item Repository - RITM0046210 should retrieve Requested Item by number","status":"failed","title":"should retrieve Requested Item by number","duration":2,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Requested Item Repository - RITM0046210"],"fullName":" Catalog Workflow Retrieval - Integration Tests Requested Item Repository - RITM0046210 should resolve parent request relationship","status":"failed","title":"should resolve parent request relationship","duration":0,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Catalog Task Repository - SCTASK0049921"],"fullName":" Catalog Workflow Retrieval - Integration Tests Catalog Task Repository - SCTASK0049921 should retrieve Catalog Task by number","status":"failed","title":"should retrieve Catalog Task by number","duration":2,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Catalog Task Repository - SCTASK0049921"],"fullName":" Catalog Workflow Retrieval - Integration Tests Catalog Task Repository - SCTASK0049921 should resolve complete parent-child hierarchy","status":"failed","title":"should resolve complete parent-child hierarchy","duration":0,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Catalog Task Repository - SCTASK0049921"],"fullName":" Catalog Workflow Retrieval - Integration Tests Catalog Task Repository - SCTASK0049921 should find active catalog tasks","status":"failed","title":"should find active catalog tasks","duration":1,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Search Operations"],"fullName":" Catalog Workflow Retrieval - Integration Tests Search Operations should search requests by state","status":"failed","title":"should search requests by state","duration":1,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}},{"ancestorTitles":["","Catalog Workflow Retrieval - Integration Tests","Search Operations"],"fullName":" Catalog Workflow Retrieval - Integration Tests Search Operations should search requested items by catalog item","status":"failed","title":"should search requested items by catalog item","duration":1,"failureMessages":["Request failed: [MSW] Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option."],"location":{"line":234,"column":13}}],"startTime":1763484013205,"endTime":1763484013222,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/catalog-workflow-retrieval.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Change Validation Integration Tests","Full Validation Flow - Catalog Item"],"fullName":" Change Validation Integration Tests Full Validation Flow - Catalog Item should successfully validate a catalog item with all required fields","status":"passed","title":"should successfully validate a catalog item with all required fields","duration":10,"failureMessages":[]},{"ancestorTitles":["","Change Validation Integration Tests","Full Validation Flow - Catalog Item"],"fullName":" Change Validation Integration Tests Full Validation Flow - Catalog Item should fail validation when catalog item is missing required fields","status":"passed","title":"should fail validation when catalog item is missing required fields","duration":2,"failureMessages":[]},{"ancestorTitles":["","Change Validation Integration Tests","Timeout Handling"],"fullName":" Change Validation Integration Tests Timeout Handling should handle ServiceNow API timeouts gracefully","status":"passed","title":"should handle ServiceNow API timeouts gracefully","duration":3,"failureMessages":[]},{"ancestorTitles":["","Change Validation Integration Tests","LDAP Server Validation"],"fullName":" Change Validation Integration Tests LDAP Server Validation should validate LDAP server configuration","status":"passed","title":"should validate LDAP server configuration","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Integration Tests","Fallback to Rules-Based Validation"],"fullName":" Change Validation Integration Tests Fallback to Rules-Based Validation should use rules-based validation when Claude is unavailable","status":"passed","title":"should use rules-based validation when Claude is unavailable","duration":4,"failureMessages":[]},{"ancestorTitles":["","Change Validation Integration Tests","Error Recovery"],"fullName":" Change Validation Integration Tests Error Recovery should mark validation as failed when ServiceNow posting fails","status":"passed","title":"should mark validation as failed when ServiceNow posting fails","duration":2,"failureMessages":[]}],"startTime":1763484008774,"endTime":1763484008796,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/change-validation-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["","Image Optimization Integration"],"fullName":" Image Optimization Integration should optimize or pass-through a PNG image","status":"passed","title":"should optimize or pass-through a PNG image","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Optimization Integration"],"fullName":" Image Optimization Integration should handle WebP images","status":"passed","title":"should handle WebP images","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Optimization Integration"],"fullName":" Image Optimization Integration should handle GIF images","status":"passed","title":"should handle GIF images","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Optimization Integration"],"fullName":" Image Optimization Integration should handle small images efficiently","status":"passed","title":"should handle small images efficiently","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Optimization Integration"],"fullName":" Image Optimization Integration should perform batch optimization successfully","status":"passed","title":"should perform batch optimization successfully","duration":0,"failureMessages":[]}],"startTime":1763484014970,"endTime":1763484014973,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/image-optimization.test.ts"},{"assertionResults":[{"ancestorTitles":["","End-to-End Multimodal Tool Flow Integration (Requires Refactoring)"],"fullName":" End-to-End Multimodal Tool Flow Integration (Requires Refactoring) should run a complete flow for a ServiceNow tool with attachments","status":"skipped","title":"should run a complete flow for a ServiceNow tool with attachments","failureMessages":[]},{"ancestorTitles":["","End-to-End Multimodal Tool Flow Integration (Requires Refactoring)"],"fullName":" End-to-End Multimodal Tool Flow Integration (Requires Refactoring) should run a complete flow for the triage tool with screenshots","status":"skipped","title":"should run a complete flow for the triage tool with screenshots","failureMessages":[]}],"startTime":1763484004008,"endTime":1763484004008,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/multimodal-tool-e2e.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Attachment API Integration","getAttachments()"],"fullName":" ServiceNow Attachment API Integration getAttachments() should fetch attachments from a real case","status":"skipped","title":"should fetch attachments from a real case","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","getAttachments()"],"fullName":" ServiceNow Attachment API Integration getAttachments() should return empty array for invalid sys_id","status":"skipped","title":"should return empty array for invalid sys_id","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","getAttachments()"],"fullName":" ServiceNow Attachment API Integration getAttachments() should respect limit parameter","status":"skipped","title":"should respect limit parameter","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","downloadAttachment()"],"fullName":" ServiceNow Attachment API Integration downloadAttachment() should download a real attachment as Buffer","status":"skipped","title":"should download a real attachment as Buffer","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","downloadAttachment()"],"fullName":" ServiceNow Attachment API Integration downloadAttachment() should handle 404 errors for invalid attachment sys_id","status":"skipped","title":"should handle 404 errors for invalid attachment sys_id","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","Full attachment workflow"],"fullName":" ServiceNow Attachment API Integration Full attachment workflow should fetch, download, and optimize a real screenshot","status":"skipped","title":"should fetch, download, and optimize a real screenshot","failureMessages":[]},{"ancestorTitles":["","ServiceNow Attachment API Integration","Full attachment workflow"],"fullName":" ServiceNow Attachment API Integration Full attachment workflow should handle multiple attachments efficiently","status":"skipped","title":"should handle multiple attachments efficiently","failureMessages":[]}],"startTime":1763484004008,"endTime":1763484004008,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/servicenow-attachments.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Valid Payloads"],"fullName":" ServiceNowParser Payload Corpus Tests Valid Payloads should parse complete case payload successfully","status":"passed","title":"should parse complete case payload successfully","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Valid Payloads"],"fullName":" ServiceNowParser Payload Corpus Tests Valid Payloads should parse minimal case payload successfully","status":"passed","title":"should parse minimal case payload successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Valid Payloads"],"fullName":" ServiceNowParser Payload Corpus Tests Valid Payloads should parse complete incident payload successfully","status":"passed","title":"should parse complete incident payload successfully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Smart Quotes"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Smart Quotes should repair and parse payload with smart quotes","status":"passed","title":"should repair and parse payload with smart quotes","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Smart Quotes"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Smart Quotes should match expected repaired output for smart quotes","status":"passed","title":"should match expected repaired output for smart quotes","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Trailing Commas"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Trailing Commas should repair and parse payload with trailing commas","status":"passed","title":"should repair and parse payload with trailing commas","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Trailing Commas"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Trailing Commas should match expected repaired output for trailing commas","status":"passed","title":"should match expected repaired output for trailing commas","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Control Characters"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Control Characters should repair and parse payload with control characters","status":"passed","title":"should repair and parse payload with control characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Control Characters"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Control Characters should match expected repaired output for control characters","status":"passed","title":"should match expected repaired output for control characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Missing Commas"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Missing Commas should repair and parse payload with missing commas","status":"passed","title":"should repair and parse payload with missing commas","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Missing Commas"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Missing Commas should match expected repaired output for missing commas","status":"passed","title":"should match expected repaired output for missing commas","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Malformed Payloads - Incomplete JSON"],"fullName":" ServiceNowParser Payload Corpus Tests Malformed Payloads - Incomplete JSON should handle incomplete payload gracefully","status":"passed","title":"should handle incomplete payload gracefully","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Performance Requirements"],"fullName":" ServiceNowParser Payload Corpus Tests Performance Requirements should parse all valid payloads within 50ms","status":"passed","title":"should parse all valid payloads within 50ms","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Performance Requirements"],"fullName":" ServiceNowParser Payload Corpus Tests Performance Requirements should parse malformed payloads within 50ms","status":"passed","title":"should parse malformed payloads within 50ms","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Strategy Distribution"],"fullName":" ServiceNowParser Payload Corpus Tests Strategy Distribution should use appropriate parsing strategies","status":"passed","title":"should use appropriate parsing strategies","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Metrics and Observability"],"fullName":" ServiceNowParser Payload Corpus Tests Metrics and Observability should provide detailed metrics for each parse","status":"passed","title":"should provide detailed metrics for each parse","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Payload Corpus Tests","Metrics and Observability"],"fullName":" ServiceNowParser Payload Corpus Tests Metrics and Observability should track multiple strategy attempts for malformed payloads","status":"passed","title":"should track multiple strategy attempts for malformed payloads","duration":0,"failureMessages":[]}],"startTime":1763484010088,"endTime":1763484010112,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/servicenow-parser-corpus.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle valid payload successfully","status":"passed","title":"should handle valid payload successfully","duration":27,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle payload with smart quotes","status":"passed","title":"should handle payload with smart quotes","duration":15,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle payload with trailing commas","status":"passed","title":"should handle payload with trailing commas","duration":9,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle payload with control characters","status":"passed","title":"should handle payload with control characters","duration":6,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle payload with missing commas","status":"passed","title":"should handle payload with missing commas","duration":11,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should handle incomplete payload","status":"passed","title":"should handle incomplete payload","duration":13,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should recover payloads with invalid unicode escapes","status":"passed","title":"should recover payloads with invalid unicode escapes","duration":6,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","ServiceNowParser Integration"],"fullName":" ServiceNow Webhook - Malformed Payload Integration ServiceNowParser Integration should return error for completely invalid JSON","status":"passed","title":"should return error for completely invalid JSON","duration":10,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","Error Handling and Logging"],"fullName":" ServiceNow Webhook - Malformed Payload Integration Error Handling and Logging should log parser metrics","status":"passed","title":"should log parser metrics","duration":10,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","Error Handling and Logging"],"fullName":" ServiceNow Webhook - Malformed Payload Integration Error Handling and Logging should handle empty payload gracefully","status":"passed","title":"should handle empty payload gracefully","duration":6,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","Error Handling and Logging"],"fullName":" ServiceNow Webhook - Malformed Payload Integration Error Handling and Logging should handle non-JSON content type gracefully","status":"passed","title":"should handle non-JSON content type gracefully","duration":14,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Webhook - Malformed Payload Integration","Performance"],"fullName":" ServiceNow Webhook - Malformed Payload Integration Performance should process malformed payloads within acceptable time","status":"passed","title":"should process malformed payloads within acceptable time","duration":9,"failureMessages":[]}],"startTime":1763484008137,"endTime":1763484008274,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/integration/servicenow-webhook-malformed-payloads.test.ts"},{"assertionResults":[{"ancestorTitles":["","handler utils"],"fullName":" handler utils evaluates shouldSkipMessage conditions","status":"passed","title":"evaluates shouldSkipMessage conditions","duration":2,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage detects delegation when user mentions someone and uses delegation phrases","status":"passed","title":"detects delegation when user mentions someone and uses delegation phrases","duration":0,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage detects 'can you review' delegation","status":"passed","title":"detects 'can you review' delegation","duration":0,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage detects 'please check' delegation","status":"passed","title":"detects 'please check' delegation","duration":1,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage does not detect delegation without mention","status":"passed","title":"does not detect delegation without mention","duration":0,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage does not detect delegation without delegation phrases","status":"passed","title":"does not detect delegation without delegation phrases","duration":1,"failureMessages":[]},{"ancestorTitles":["","handler utils","isDelegationMessage"],"fullName":" handler utils isDelegationMessage detects various delegation phrases with mentions","status":"passed","title":"detects various delegation phrases with mentions","duration":0,"failureMessages":[]},{"ancestorTitles":["","handler utils"],"fullName":" handler utils processCaseDetection posts assistance when context is new","status":"passed","title":"processCaseDetection posts assistance when context is new","duration":1,"failureMessages":[]},{"ancestorTitles":["","handler utils"],"fullName":" handler utils processExistingThread triggers KB when resolution detected","status":"passed","title":"processExistingThread triggers KB when resolution detected","duration":1,"failureMessages":[]}],"startTime":1763484013721,"endTime":1763484013727,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive/handler-utils.test.ts"},{"assertionResults":[{"ancestorTitles":["","passive handler"],"fullName":" passive handler skips processing when shouldSkipMessage returns true","status":"passed","title":"skips processing when shouldSkipMessage returns true","duration":1,"failureMessages":[]},{"ancestorTitles":["","passive handler"],"fullName":" passive handler skips processing when isDelegationMessage returns true","status":"passed","title":"skips processing when isDelegationMessage returns true","duration":0,"failureMessages":[]},{"ancestorTitles":["","passive handler"],"fullName":" passive handler processes each detected case","status":"passed","title":"processes each detected case","duration":1,"failureMessages":[]},{"ancestorTitles":["","passive handler"],"fullName":" passive handler processes existing thread when thread_ts present","status":"passed","title":"processes existing thread when thread_ts present","duration":1,"failureMessages":[]}],"startTime":1763484015770,"endTime":1763484015773,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive/handler.test.ts"},{"assertionResults":[{"ancestorTitles":["","TriggerKBWorkflowAction"],"fullName":" TriggerKBWorkflowAction delegates triggerWorkflow","status":"passed","title":"delegates triggerWorkflow","duration":2,"failureMessages":[]},{"ancestorTitles":["","TriggerKBWorkflowAction"],"fullName":" TriggerKBWorkflowAction delegates handleUserResponse","status":"passed","title":"delegates handleUserResponse","duration":1,"failureMessages":[]},{"ancestorTitles":["","TriggerKBWorkflowAction"],"fullName":" TriggerKBWorkflowAction delegates cleanupTimedOut","status":"passed","title":"delegates cleanupTimedOut","duration":0,"failureMessages":[]}],"startTime":1763484015768,"endTime":1763484015771,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/passive/trigger-kb-workflow.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Small Payloads (< 1KB)"],"fullName":" ServiceNowParser Performance Benchmarks Small Payloads (< 1KB) should parse minimal case payload in < 10ms","status":"passed","title":"should parse minimal case payload in < 10ms","duration":11,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Small Payloads (< 1KB)"],"fullName":" ServiceNowParser Performance Benchmarks Small Payloads (< 1KB) should parse malformed small payload in < 15ms","status":"passed","title":"should parse malformed small payload in < 15ms","duration":16,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Medium Payloads (1-10KB)"],"fullName":" ServiceNowParser Performance Benchmarks Medium Payloads (1-10KB) should parse complete case payload in < 20ms","status":"passed","title":"should parse complete case payload in < 20ms","duration":9,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Medium Payloads (1-10KB)"],"fullName":" ServiceNowParser Performance Benchmarks Medium Payloads (1-10KB) should parse incomplete payload in < 25ms","status":"passed","title":"should parse incomplete payload in < 25ms","duration":23,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Large Payloads (> 10KB)"],"fullName":" ServiceNowParser Performance Benchmarks Large Payloads (> 10KB) should parse large payload (50KB) in < 50ms","status":"passed","title":"should parse large payload (50KB) in < 50ms","duration":12,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Large Payloads (> 10KB)"],"fullName":" ServiceNowParser Performance Benchmarks Large Payloads (> 10KB) should parse very large payload (100KB) in < 75ms","status":"passed","title":"should parse very large payload (100KB) in < 75ms","duration":25,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Strategy Performance Comparison"],"fullName":" ServiceNowParser Performance Benchmarks Strategy Performance Comparison should measure performance of each parsing strategy","status":"passed","title":"should measure performance of each parsing strategy","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Memory and Resource Usage"],"fullName":" ServiceNowParser Performance Benchmarks Memory and Resource Usage should handle multiple concurrent parses without memory leaks","status":"passed","title":"should handle multiple concurrent parses without memory leaks","duration":15,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Worst Case Scenarios"],"fullName":" ServiceNowParser Performance Benchmarks Worst Case Scenarios should handle deeply nested JSON efficiently","status":"passed","title":"should handle deeply nested JSON efficiently","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Benchmarks","Worst Case Scenarios"],"fullName":" ServiceNowParser Performance Benchmarks Worst Case Scenarios should handle payloads with many special characters efficiently","status":"passed","title":"should handle payloads with many special characters efficiently","duration":2,"failureMessages":[]}],"startTime":1763484009758,"endTime":1763484009873,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance/servicenow-parser.benchmark.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowParser Performance Validation"],"fullName":" ServiceNowParser Performance Validation validates <50ms requirement for typical payloads","status":"passed","title":"validates <50ms requirement for typical payloads","duration":10,"failureMessages":[]},{"ancestorTitles":["","ServiceNowParser Performance Validation"],"fullName":" ServiceNowParser Performance Validation handles large payload efficiently","status":"passed","title":"handles large payload efficiently","duration":5,"failureMessages":[]}],"startTime":1763484014978,"endTime":1763484014993,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/performance/servicenow-parser.performance.test.ts"},{"assertionResults":[{"ancestorTitles":["","Capacity Management","checkCapacity"],"fullName":" Capacity Management checkCapacity should return true if project has available capacity","status":"passed","title":"should return true if project has available capacity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","checkCapacity"],"fullName":" Capacity Management checkCapacity should return false if project is at capacity","status":"passed","title":"should return false if project is at capacity","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","checkCapacity"],"fullName":" Capacity Management checkCapacity should return false if project exceeds capacity","status":"passed","title":"should return false if project exceeds capacity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","checkCapacity"],"fullName":" Capacity Management checkCapacity should return true if maxCandidates is not set","status":"passed","title":"should return true if maxCandidates is not set","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","checkCapacity"],"fullName":" Capacity Management checkCapacity should default to allowing applications on error","status":"passed","title":"should default to allowing applications on error","duration":2,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","getProjectCapacityStatus"],"fullName":" Capacity Management getProjectCapacityStatus should return full status when at capacity","status":"passed","title":"should return full status when at capacity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","getProjectCapacityStatus"],"fullName":" Capacity Management getProjectCapacityStatus should return available capacity status","status":"passed","title":"should return available capacity status","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","getProjectCapacityStatus"],"fullName":" Capacity Management getProjectCapacityStatus should include waitlist size in status","status":"passed","title":"should include waitlist size in status","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","getProjectCapacityStatus"],"fullName":" Capacity Management getProjectCapacityStatus should show unlimited slots if maxCandidates is null","status":"passed","title":"should show unlimited slots if maxCandidates is null","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","formatCapacityMessage"],"fullName":" Capacity Management formatCapacityMessage should format full project message","status":"passed","title":"should format full project message","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","formatCapacityMessage"],"fullName":" Capacity Management formatCapacityMessage should show waitlist count when project is full","status":"passed","title":"should show waitlist count when project is full","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","formatCapacityMessage"],"fullName":" Capacity Management formatCapacityMessage should show remaining slots","status":"passed","title":"should show remaining slots","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","formatCapacityMessage"],"fullName":" Capacity Management formatCapacityMessage should show warning for single slot","status":"passed","title":"should show warning for single slot","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","formatCapacityMessage"],"fullName":" Capacity Management formatCapacityMessage should show unlimited message","status":"passed","title":"should show unlimited message","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","isProjectAcceptingApplications"],"fullName":" Capacity Management isProjectAcceptingApplications should return true for active project with capacity","status":"passed","title":"should return true for active project with capacity","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","isProjectAcceptingApplications"],"fullName":" Capacity Management isProjectAcceptingApplications should return false if project is full","status":"passed","title":"should return false if project is full","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","isProjectAcceptingApplications"],"fullName":" Capacity Management isProjectAcceptingApplications should return false if project is not active","status":"passed","title":"should return false if project is not active","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","isProjectAcceptingApplications"],"fullName":" Capacity Management isProjectAcceptingApplications should return false if project has expired","status":"passed","title":"should return false if project has expired","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","shouldPromoteFromWaitlist"],"fullName":" Capacity Management shouldPromoteFromWaitlist should return true when slots available and waitlist exists","status":"passed","title":"should return true when slots available and waitlist exists","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","shouldPromoteFromWaitlist"],"fullName":" Capacity Management shouldPromoteFromWaitlist should return false when no slots available","status":"passed","title":"should return false when no slots available","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","shouldPromoteFromWaitlist"],"fullName":" Capacity Management shouldPromoteFromWaitlist should return false when waitlist is empty","status":"passed","title":"should return false when waitlist is empty","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","shouldPromoteFromWaitlist"],"fullName":" Capacity Management shouldPromoteFromWaitlist should return false for unlimited project","status":"passed","title":"should return false for unlimited project","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","calculateNewAvailableSlots"],"fullName":" Capacity Management calculateNewAvailableSlots should return 1 slot when candidate accepted","status":"passed","title":"should return 1 slot when candidate accepted","duration":1,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","calculateNewAvailableSlots"],"fullName":" Capacity Management calculateNewAvailableSlots should return 0 slots when candidate rejected","status":"passed","title":"should return 0 slots when candidate rejected","duration":0,"failureMessages":[]},{"ancestorTitles":["","Capacity Management","calculateNewAvailableSlots"],"fullName":" Capacity Management calculateNewAvailableSlots should return 0 slots when candidate abandoned","status":"passed","title":"should return 0 slots when candidate abandoned","duration":0,"failureMessages":[]}],"startTime":1763484011833,"endTime":1763484011841,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/capacity.test.ts"},{"assertionResults":[{"ancestorTitles":["","Project catalog loader"],"fullName":" Project catalog loader loads the project catalog from disk","status":"passed","title":"loads the project catalog from disk","duration":3,"failureMessages":[]},{"ancestorTitles":["","Project catalog loader"],"fullName":" Project catalog loader returns active projects","status":"passed","title":"returns active projects","duration":0,"failureMessages":[]},{"ancestorTitles":["","Project catalog loader"],"fullName":" Project catalog loader retrieves a project by id","status":"passed","title":"retrieves a project by id","duration":1,"failureMessages":[]}],"startTime":1763484016330,"endTime":1763484016334,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/catalog.test.ts"},{"assertionResults":[{"ancestorTitles":["","generateProjectInitiationDraft"],"fullName":" generateProjectInitiationDraft returns LLM-crafted output when response is valid JSON","status":"passed","title":"returns LLM-crafted output when response is valid JSON","duration":5,"failureMessages":[]},{"ancestorTitles":["","generateProjectInitiationDraft"],"fullName":" generateProjectInitiationDraft falls back to default narrative when parsing fails","status":"passed","title":"falls back to default narrative when parsing fails","duration":4,"failureMessages":[]}],"startTime":1763484015349,"endTime":1763484015358,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/initiation-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Interest Repository","createInterest"],"fullName":" Interest Repository createInterest should create a new interest record","status":"passed","title":"should create a new interest record","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","createInterest"],"fullName":" Interest Repository createInterest should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":3,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","findInterest"],"fullName":" Interest Repository findInterest should find an existing interest","status":"passed","title":"should find an existing interest","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","findInterest"],"fullName":" Interest Repository findInterest should return null if no interest found","status":"passed","title":"should return null if no interest found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","hasActiveInterest"],"fullName":" Interest Repository hasActiveInterest should return true if candidate has active interest","status":"passed","title":"should return true if candidate has active interest","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","hasActiveInterest"],"fullName":" Interest Repository hasActiveInterest should return false if no active interest","status":"passed","title":"should return false if no active interest","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","hasActiveInterest"],"fullName":" Interest Repository hasActiveInterest should exclude abandoned interests","status":"passed","title":"should exclude abandoned interests","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","updateInterestStatus"],"fullName":" Interest Repository updateInterestStatus should update interest status","status":"passed","title":"should update interest status","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","updateInterestStatus"],"fullName":" Interest Repository updateInterestStatus should mark abandoned interests with timestamp","status":"passed","title":"should mark abandoned interests with timestamp","duration":1,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","getActiveInterestCount"],"fullName":" Interest Repository getActiveInterestCount should count active interests excluding abandoned and waitlist","status":"passed","title":"should count active interests excluding abandoned and waitlist","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","getActiveInterestCount"],"fullName":" Interest Repository getActiveInterestCount should return 0 if no active interests","status":"passed","title":"should return 0 if no active interests","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","getWaitlist"],"fullName":" Interest Repository getWaitlist should retrieve waitlist in FIFO order","status":"passed","title":"should retrieve waitlist in FIFO order","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","markAbandoned"],"fullName":" Interest Repository markAbandoned should mark interest as abandoned","status":"passed","title":"should mark interest as abandoned","duration":0,"failureMessages":[]},{"ancestorTitles":["","Interest Repository","getProjectInterestStats"],"fullName":" Interest Repository getProjectInterestStats should calculate interest statistics","status":"passed","title":"should calculate interest statistics","duration":1,"failureMessages":[]}],"startTime":1763484011585,"endTime":1763484011596,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/interest-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","project interview session"],"fullName":" project interview session starts an interview session when no active session exists","status":"failed","title":"starts an interview session when no active session exists","duration":7,"failureMessages":["expected \"spy\" to be called with arguments: [ 'project_interview', 'D123', …(3) ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    \"project_interview\",\u001b[22m\n\u001b[2m    \"D123\",\u001b[22m\n\u001b[2m    \"111\",\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"generatorModel\": \"claude-3-haiku-20240307\",\u001b[90m\n\u001b[31m+   Object {\u001b[90m\n\u001b[31m+     \"answers\": Array [],\u001b[90m\n\u001b[31m+     \"currentStep\": 0,\u001b[90m\n\u001b[31m+     \"generatorModel\": \"claude-haiku-4-5\",\u001b[90m\n\u001b[31m+     \"interestId\": \"interest-123\",\u001b[90m\n\u001b[31m+     \"mentorId\": \"Umentor\",\u001b[90m\n\u001b[2m      \"projectId\": \"ai-sdk-slackbot-001\",\u001b[22m\n\u001b[2m      \"questionSource\": \"generator\",\u001b[22m\n\u001b[32m-     \"questions\": Any<Array>,\u001b[90m\n\u001b[31m+     \"questions\": Array [\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"id\": \"generated_typescript\",\u001b[90m\n\u001b[31m+         \"prompt\": \"Tell us about your TypeScript experience.\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"id\": \"generated_async\",\u001b[90m\n\u001b[31m+         \"prompt\": \"Share a time you handled async workflows.\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+       Object {\u001b[90m\n\u001b[31m+         \"id\": \"generated_learning\",\u001b[90m\n\u001b[31m+         \"prompt\": \"What do you want to learn on this project?\",\u001b[90m\n\u001b[31m+       },\u001b[90m\n\u001b[31m+     ],\u001b[90m\n\u001b[31m+     \"scoringPrompt\": undefined,\u001b[90m\n\u001b[31m+     \"startedAt\": \"2025-11-18T16:40:11.554Z\",\u001b[90m\n\u001b[2m      \"userId\": \"U123\",\u001b[22m\n\u001b[31m+     \"userName\": \"Interested User\",\u001b[90m\n\u001b[2m    },\u001b[22m\n\u001b[32m-   Any<Object>,\u001b[90m\n\u001b[31m+   Object {\u001b[90m\n\u001b[31m+     \"expiresInHours\": 12,\u001b[90m\n\u001b[31m+     \"metadata\": Object {\u001b[90m\n\u001b[31m+       \"initiatedBy\": \"U123\",\u001b[90m\n\u001b[31m+       \"interestId\": \"interest-123\",\u001b[90m\n\u001b[31m+       \"projectId\": \"ai-sdk-slackbot-001\",\u001b[90m\n\u001b[31m+       \"sourceMessageTs\": undefined,\u001b[90m\n\u001b[31m+     },\u001b[90m\n\u001b[31m+   },\u001b[90m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":177,"column":27}},{"ancestorTitles":["","project interview session"],"fullName":" project interview session handles interview responses and queues next question","status":"passed","title":"handles interview responses and queues next question","duration":0,"failureMessages":[]},{"ancestorTitles":["","project interview session"],"fullName":" project interview session blocks duplicate applications","status":"passed","title":"blocks duplicate applications","duration":1,"failureMessages":[]},{"ancestorTitles":["","project interview session"],"fullName":" project interview session allows retry for abandoned applications","status":"passed","title":"allows retry for abandoned applications","duration":0,"failureMessages":[]},{"ancestorTitles":["","project interview session"],"fullName":" project interview session adds user to waitlist when project is at capacity","status":"passed","title":"adds user to waitlist when project is at capacity","duration":1,"failureMessages":[]},{"ancestorTitles":["","project interview session"],"fullName":" project interview session creates interest record on successful start","status":"passed","title":"creates interest record on successful start","duration":1,"failureMessages":[]}],"startTime":1763484011553,"endTime":1763484011563,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/interview-session.test.ts"},{"assertionResults":[{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should parse basic match score response","status":"passed","title":"should parse basic match score response","duration":2,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should handle malformed JSON response","status":"passed","title":"should handle malformed JSON response","duration":6,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should handle empty response","status":"passed","title":"should handle empty response","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should clamp score between 0-100","status":"passed","title":"should clamp score between 0-100","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should handle negative scores","status":"passed","title":"should handle negative scores","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewAgainstProject (legacy)"],"fullName":" Matching Service scoreInterviewAgainstProject (legacy) should use custom scoring prompt","status":"passed","title":"should use custom scoring prompt","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should parse enhanced match score with all fields","status":"passed","title":"should parse enhanced match score with all fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should provide default values for missing enhanced fields","status":"passed","title":"should provide default values for missing enhanced fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should handle malformed enhanced JSON","status":"passed","title":"should handle malformed enhanced JSON","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should use higher token limit for enhanced scoring","status":"passed","title":"should use higher token limit for enhanced scoring","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should categorize time to productivity","status":"passed","title":"should categorize time to productivity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should handle multiple skill gaps and recommendations","status":"passed","title":"should handle multiple skill gaps and recommendations","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should convert array fields to strings if needed","status":"passed","title":"should convert array fields to strings if needed","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should handle empty skill gaps and strengths","status":"passed","title":"should handle empty skill gaps and strengths","duration":1,"failureMessages":[]},{"ancestorTitles":["","Matching Service","scoreInterviewEnhanced"],"fullName":" Matching Service scoreInterviewEnhanced should include enhanced fields in API call","status":"passed","title":"should include enhanced fields in API call","duration":0,"failureMessages":[]},{"ancestorTitles":["","Matching Service","Score comparison"],"fullName":" Matching Service Score comparison legacy and enhanced should produce same base score","status":"passed","title":"legacy and enhanced should produce same base score","duration":1,"failureMessages":[]}],"startTime":1763484008453,"endTime":1763484008469,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/matching-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","handleProjectPostCommand"],"fullName":" handleProjectPostCommand posts the default project when only one active project exists","status":"passed","title":"posts the default project when only one active project exists","duration":5,"failureMessages":[]},{"ancestorTitles":["","handleProjectPostCommand"],"fullName":" handleProjectPostCommand rejects unknown project ids","status":"passed","title":"rejects unknown project ids","duration":0,"failureMessages":[]}],"startTime":1763484015617,"endTime":1763484015622,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/post-command.test.ts"},{"assertionResults":[{"ancestorTitles":["","generateInterviewQuestions"],"fullName":" generateInterviewQuestions parses generated questions from anthropic response","status":"passed","title":"parses generated questions from anthropic response","duration":4,"failureMessages":[]},{"ancestorTitles":["","generateInterviewQuestions"],"fullName":" generateInterviewQuestions throws when anthropic returns invalid JSON","status":"passed","title":"throws when anthropic returns invalid JSON","duration":1,"failureMessages":[]}],"startTime":1763484015536,"endTime":1763484015541,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/question-generator.test.ts"},{"assertionResults":[{"ancestorTitles":["","composeAdaptiveQuestions"],"fullName":" composeAdaptiveQuestions enriches prompts and adds follow-up when context exists","status":"passed","title":"enriches prompts and adds follow-up when context exists","duration":1,"failureMessages":[]},{"ancestorTitles":["","composeAdaptiveQuestions"],"fullName":" composeAdaptiveQuestions returns clones of base questions when context missing","status":"passed","title":"returns clones of base questions when context missing","duration":1,"failureMessages":[]}],"startTime":1763484015798,"endTime":1763484015800,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/standup-context.test.ts"},{"assertionResults":[{"ancestorTitles":["","standup service"],"fullName":" standup service returns normalized standup config","status":"passed","title":"returns normalized standup config","duration":1,"failureMessages":[]},{"ancestorTitles":["","standup service"],"fullName":" standup service computes scheduled time in UTC","status":"passed","title":"computes scheduled time in UTC","duration":0,"failureMessages":[]},{"ancestorTitles":["","standup service"],"fullName":" standup service detects standup due within trigger window","status":"passed","title":"detects standup due within trigger window","duration":0,"failureMessages":[]},{"ancestorTitles":["","standup service"],"fullName":" standup service computes reminder recipients when within reminder window","status":"passed","title":"computes reminder recipients when within reminder window","duration":1,"failureMessages":[]},{"ancestorTitles":["","standup service"],"fullName":" standup service skips reminders when max reminders reached or outside window","status":"passed","title":"skips reminders when max reminders reached or outside window","duration":0,"failureMessages":[]}],"startTime":1763484015053,"endTime":1763484015055,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/projects/standup-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Relay Authentication Security","HMAC Signature Verification"],"fullName":" Relay Authentication Security HMAC Signature Verification should verify valid HMAC signature","status":"passed","title":"should verify valid HMAC signature","duration":2,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","HMAC Signature Verification"],"fullName":" Relay Authentication Security HMAC Signature Verification should reject invalid HMAC signature","status":"passed","title":"should reject invalid HMAC signature","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","HMAC Signature Verification"],"fullName":" Relay Authentication Security HMAC Signature Verification should reject signature with wrong secret","status":"passed","title":"should reject signature with wrong secret","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Replay Attack Protection"],"fullName":" Relay Authentication Security Replay Attack Protection should reject old timestamps (replay attacks)","status":"passed","title":"should reject old timestamps (replay attacks)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Replay Attack Protection"],"fullName":" Relay Authentication Security Replay Attack Protection should reject future timestamps","status":"passed","title":"should reject future timestamps","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Replay Attack Protection"],"fullName":" Relay Authentication Security Replay Attack Protection should accept recent timestamps within tolerance","status":"passed","title":"should accept recent timestamps within tolerance","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Header Validation"],"fullName":" Relay Authentication Security Header Validation should reject missing signature header","status":"passed","title":"should reject missing signature header","duration":1,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Header Validation"],"fullName":" Relay Authentication Security Header Validation should reject malformed signature header","status":"passed","title":"should reject malformed signature header","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Header Validation"],"fullName":" Relay Authentication Security Header Validation should reject signature header without timestamp","status":"passed","title":"should reject signature header without timestamp","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Header Validation"],"fullName":" Relay Authentication Security Header Validation should reject signature header without version","status":"passed","title":"should reject signature header without version","duration":1,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Secret Configuration"],"fullName":" Relay Authentication Security Secret Configuration should reject when no secret is configured","status":"passed","title":"should reject when no secret is configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Secret Configuration"],"fullName":" Relay Authentication Security Secret Configuration should reject empty secret","status":"passed","title":"should reject empty secret","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Secret Configuration"],"fullName":" Relay Authentication Security Secret Configuration should reject whitespace-only secret","status":"passed","title":"should reject whitespace-only secret","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Body Tampering Detection"],"fullName":" Relay Authentication Security Body Tampering Detection should reject modified body with valid signature","status":"passed","title":"should reject modified body with valid signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Body Tampering Detection"],"fullName":" Relay Authentication Security Body Tampering Detection should reject empty body with signature for non-empty body","status":"passed","title":"should reject empty body with signature for non-empty body","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Custom Tolerance Configuration"],"fullName":" Relay Authentication Security Custom Tolerance Configuration should use custom tolerance when provided","status":"passed","title":"should use custom tolerance when provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Edge Cases and Error Handling"],"fullName":" Relay Authentication Security Edge Cases and Error Handling should handle non-string timestamp gracefully","status":"passed","title":"should handle non-string timestamp gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Edge Cases and Error Handling"],"fullName":" Relay Authentication Security Edge Cases and Error Handling should handle negative timestamp","status":"passed","title":"should handle negative timestamp","duration":1,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Edge Cases and Error Handling"],"fullName":" Relay Authentication Security Edge Cases and Error Handling should handle extremely large timestamp","status":"passed","title":"should handle extremely large timestamp","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Performance and Security"],"fullName":" Relay Authentication Security Performance and Security should be resistant to timing attacks","status":"passed","title":"should be resistant to timing attacks","duration":0,"failureMessages":[]},{"ancestorTitles":["","Relay Authentication Security","Performance and Security"],"fullName":" Relay Authentication Security Performance and Security should handle large payloads efficiently","status":"passed","title":"should handle large payloads efficiently","duration":0,"failureMessages":[]}],"startTime":1763484008403,"endTime":1763484008410,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/security/relay-auth.test.ts"},{"assertionResults":[{"ancestorTitles":["","Webhook Authentication Security","No Secret Configuration"],"fullName":" Webhook Authentication Security No Secret Configuration should allow requests without authentication when no secret is configured","status":"failed","title":"should allow requests without authentication when no secret is configured","duration":102,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","No Secret Configuration"],"fullName":" Webhook Authentication Security No Secret Configuration should document this as a security vulnerability","status":"failed","title":"should document this as a security vulnerability","duration":16,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should authenticate with x-api-key header","status":"failed","title":"should authenticate with x-api-key header","duration":28,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should authenticate with x-functions-key header (Azure Functions style)","status":"failed","title":"should authenticate with x-functions-key header (Azure Functions style)","duration":13,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should authenticate with code query parameter (Azure Functions style)","status":"failed","title":"should authenticate with code query parameter (Azure Functions style)","duration":31,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should reject requests with incorrect API key in header","status":"passed","title":"should reject requests with incorrect API key in header","duration":23,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should reject requests with incorrect API key in query param","status":"passed","title":"should reject requests with incorrect API key in query param","duration":22,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","API Key Authentication"],"fullName":" Webhook Authentication Security API Key Authentication should reject requests without any authentication","status":"passed","title":"should reject requests without any authentication","duration":36,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","HMAC Signature Authentication"],"fullName":" Webhook Authentication Security HMAC Signature Authentication should authenticate with valid HMAC hex signature","status":"failed","title":"should authenticate with valid HMAC hex signature","duration":23,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","HMAC Signature Authentication"],"fullName":" Webhook Authentication Security HMAC Signature Authentication should authenticate with valid HMAC base64 signature","status":"failed","title":"should authenticate with valid HMAC base64 signature","duration":19,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","HMAC Signature Authentication"],"fullName":" Webhook Authentication Security HMAC Signature Authentication should authenticate with generic signature header","status":"failed","title":"should authenticate with generic signature header","duration":32,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","HMAC Signature Authentication"],"fullName":" Webhook Authentication Security HMAC Signature Authentication should reject requests with invalid HMAC signature","status":"passed","title":"should reject requests with invalid HMAC signature","duration":21,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","HMAC Signature Authentication"],"fullName":" Webhook Authentication Security HMAC Signature Authentication should reject requests with signature for wrong payload","status":"passed","title":"should reject requests with signature for wrong payload","duration":22,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","Authentication Method Precedence"],"fullName":" Webhook Authentication Security Authentication Method Precedence should prefer API key over signature when both are present","status":"failed","title":"should prefer API key over signature when both are present","duration":46,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Authentication Method Precedence"],"fullName":" Webhook Authentication Security Authentication Method Precedence should prefer header API key over query parameter when both are present","status":"failed","title":"should prefer header API key over query parameter when both are present","duration":31,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Security Vulnerabilities"],"fullName":" Webhook Authentication Security Security Vulnerabilities should document lack of rate limiting","status":"failed","title":"should document lack of rate limiting","duration":21,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Security Vulnerabilities"],"fullName":" Webhook Authentication Security Security Vulnerabilities should document lack of request size limits","status":"failed","title":"should document lack of request size limits","duration":202,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Security Vulnerabilities"],"fullName":" Webhook Authentication Security Security Vulnerabilities should document lack of IP whitelisting","status":"failed","title":"should document lack of IP whitelisting","duration":18,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Security Vulnerabilities"],"fullName":" Webhook Authentication Security Security Vulnerabilities should document potential timing attacks in signature verification","status":"failed","title":"should document potential timing attacks in signature verification","duration":22,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Payload Security"],"fullName":" Webhook Authentication Security Payload Security should handle malicious JSON payloads","status":"failed","title":"should handle malicious JSON payloads","duration":12,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Payload Security"],"fullName":" Webhook Authentication Security Payload Security should handle control characters in payload","status":"failed","title":"should handle control characters in payload","duration":15,"failureMessages":["caseTriageService.runClassificationStage is not a function"],"location":{"line":144,"column":55}},{"ancestorTitles":["","Webhook Authentication Security","Payload Security"],"fullName":" Webhook Authentication Security Payload Security should handle malformed JSON gracefully","status":"passed","title":"should handle malformed JSON gracefully","duration":22,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","Health Check Security"],"fullName":" Webhook Authentication Security Health Check Security should not require authentication for health check","status":"passed","title":"should not require authentication for health check","duration":17,"failureMessages":[]},{"ancestorTitles":["","Webhook Authentication Security","Health Check Security"],"fullName":" Webhook Authentication Security Health Check Security should not expose sensitive information in health check","status":"passed","title":"should not expose sensitive information in health check","duration":9,"failureMessages":[]}],"startTime":1763484005497,"endTime":1763484006300,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/security/webhook-authentication.test.ts"},{"assertionResults":[{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Tool Result Formatting with Content Blocks"],"fullName":" AnthropicChatService - Multimodal Content Blocks Tool Result Formatting with Content Blocks should format tool result with contentBlocks as array","status":"passed","title":"should format tool result with contentBlocks as array","duration":3,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Tool Result Formatting with Content Blocks"],"fullName":" AnthropicChatService - Multimodal Content Blocks Tool Result Formatting with Content Blocks should handle legacy string output (backward compatibility)","status":"passed","title":"should handle legacy string output (backward compatibility)","duration":0,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Tool Result Formatting with Content Blocks"],"fullName":" AnthropicChatService - Multimodal Content Blocks Tool Result Formatting with Content Blocks should include is_error flag when tool result has isError: true","status":"passed","title":"should include is_error flag when tool result has isError: true","duration":0,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Tool Result Formatting with Content Blocks"],"fullName":" AnthropicChatService - Multimodal Content Blocks Tool Result Formatting with Content Blocks should handle multiple tool results with mixed content (some with blocks, some without)","status":"passed","title":"should handle multiple tool results with mixed content (some with blocks, some without)","duration":1,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Tool Result Formatting with Content Blocks"],"fullName":" AnthropicChatService - Multimodal Content Blocks Tool Result Formatting with Content Blocks should handle empty contentBlocks array","status":"passed","title":"should handle empty contentBlocks array","duration":1,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Backward Compatibility"],"fullName":" AnthropicChatService - Multimodal Content Blocks Backward Compatibility should work with tools that never use contentBlocks","status":"passed","title":"should work with tools that never use contentBlocks","duration":0,"failureMessages":[]},{"ancestorTitles":["","AnthropicChatService - Multimodal Content Blocks","Backward Compatibility"],"fullName":" AnthropicChatService - Multimodal Content Blocks Backward Compatibility should handle null/undefined output gracefully","status":"passed","title":"should handle null/undefined output gracefully","duration":0,"failureMessages":[]}],"startTime":1763484010958,"endTime":1763484010963,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/anthropic-chat-multimodal.test.ts"},{"assertionResults":[{"ancestorTitles":["","BRD Generator Service","Successful BRD Generation"],"fullName":" BRD Generator Service Successful BRD Generation should successfully generate BRD with valid input","status":"failed","title":"should successfully generate BRD with valid input","duration":7,"failureMessages":["expected \"spy\" to be called with arguments: [ { model: 'claude-haiku-4-5', …(2) } ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  Array [\u001b[22m\n\u001b[2m    Object {\u001b[22m\n\u001b[32m-     \"max_tokens\": 2000,\u001b[90m\n\u001b[31m+     \"max_tokens\": 900,\u001b[90m\n\u001b[2m      \"messages\": Array [\u001b[22m\n\u001b[2m        Object {\u001b[22m\n\u001b[32m-         \"content\": StringContaining \"Feature Description: Advanced search functionality\",\u001b[90m\n\u001b[31m+         \"content\": \"You are a product requirements analyst. Based on the following user feedback about a missing feature in our Slack bot, generate a structured Business Requirements Document (BRD).\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ User Feedback:\u001b[90m\n\u001b[31m+ - Feature Description: Advanced search functionality with multiple filters\u001b[90m\n\u001b[31m+ - Use Case: Support agents need to find cases quickly using complex criteria\u001b[90m\n\u001b[31m+ - Current Limitation: Current search only supports basic text search\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Conversation Context:\u001b[90m\n\u001b[31m+ User discussed need for date range filters and status combinations\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Generate a BRD with the following sections (use these exact headers):\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ ## Title\u001b[90m\n\u001b[31m+ [A concise, descriptive title for the feature request, maximum 10 words]\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ ## Problem Statement\u001b[90m\n\u001b[31m+ [≤2 sentences (≤80 words) describing what problem this feature solves and why it matters]\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ ## User Story\u001b[90m\n\u001b[31m+ [Exactly one sentence in the format: \\\"As a [user], I want to [action] so that [benefit]\\\"]\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ ## Acceptance Criteria\u001b[90m\n\u001b[31m+ [3-5 bullets, each ≤12 words, describing specific, testable criteria that define when this feature is complete]\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ ## Technical Context\u001b[90m\n\u001b[31m+ [1-3 short bullet sentences (≤15 words each) covering relevant systems, APIs, or constraints mentioned in the feedback]\u001b[90m\n\u001b[31m+\u001b[90m\n\u001b[31m+ Keep every section compact and actionable. Avoid implementation detail beyond what the user already described.\",\u001b[90m\n\u001b[2m          \"role\": \"user\",\u001b[22m\n\u001b[2m        },\u001b[22m\n\u001b[2m      ],\u001b[22m\n\u001b[2m      \"model\": \"claude-haiku-4-5\",\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"],"location":{"line":105,"column":35}},{"ancestorTitles":["","BRD Generator Service","Input Sanitization"],"fullName":" BRD Generator Service Input Sanitization should enforce 1000 character limit per field","status":"passed","title":"should enforce 1000 character limit per field","duration":1,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Input Sanitization"],"fullName":" BRD Generator Service Input Sanitization should truncate conversation context to 2000 characters","status":"passed","title":"should truncate conversation context to 2000 characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Input Sanitization"],"fullName":" BRD Generator Service Input Sanitization should reject empty or whitespace-only fields","status":"passed","title":"should reject empty or whitespace-only fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Prompt Injection Detection"],"fullName":" BRD Generator Service Prompt Injection Detection should detect and reject all prompt injection patterns","status":"passed","title":"should detect and reject all prompt injection patterns","duration":1,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Quality Validation"],"fullName":" BRD Generator Service Quality Validation should validate minimum content lengths in response","status":"passed","title":"should validate minimum content lengths in response","duration":1,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Quality Validation"],"fullName":" BRD Generator Service Quality Validation should validate required sections are present","status":"passed","title":"should validate required sections are present","duration":0,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","Quality Validation"],"fullName":" BRD Generator Service Quality Validation should parse acceptance criteria as array","status":"passed","title":"should parse acceptance criteria as array","duration":0,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","API Error Handling"],"fullName":" BRD Generator Service API Error Handling should handle missing ANTHROPIC_API_KEY","status":"passed","title":"should handle missing ANTHROPIC_API_KEY","duration":1,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","API Error Handling"],"fullName":" BRD Generator Service API Error Handling should handle Claude API failures gracefully","status":"passed","title":"should handle Claude API failures gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","BRD Generator Service","API Error Handling"],"fullName":" BRD Generator Service API Error Handling should handle malformed LLM responses","status":"passed","title":"should handle malformed LLM responses","duration":1,"failureMessages":[]}],"startTime":1763484011135,"endTime":1763484011149,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/brd-generator.test.ts"},{"assertionResults":[{"ancestorTitles":["","Context Store Sanitizer"],"fullName":" Context Store Sanitizer redacts common PII patterns individually","status":"passed","title":"redacts common PII patterns individually","duration":2,"failureMessages":[]},{"ancestorTitles":["","Context Store Sanitizer"],"fullName":" Context Store Sanitizer redacts multiple PII values in the same message","status":"passed","title":"redacts multiple PII values in the same message","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Store Sanitizer"],"fullName":" Context Store Sanitizer leaves safe text untouched","status":"passed","title":"leaves safe text untouched","duration":1,"failureMessages":[]}],"startTime":1763484015254,"endTime":1763484015257,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/context-store-sanitizer.test.ts"},{"assertionResults":[{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should escalate project scope work","status":"passed","title":"should escalate project scope work","duration":2,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should escalate executive visibility cases","status":"passed","title":"should escalate executive visibility cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should escalate compliance impact cases","status":"passed","title":"should escalate compliance impact cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should escalate financial impact cases","status":"passed","title":"should escalate financial impact cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should not escalate normal cases","status":"passed","title":"should not escalate normal cases","duration":1,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should handle missing business intelligence","status":"passed","title":"should handle missing business intelligence","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Escalation Decision Logic"],"fullName":" EscalationService Escalation Decision Logic should calculate BI score correctly","status":"passed","title":"should calculate BI score correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Full Escalation Flow"],"fullName":" EscalationService Full Escalation Flow should complete full escalation flow for project scope","status":"passed","title":"should complete full escalation flow for project scope","duration":6,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Full Escalation Flow"],"fullName":" EscalationService Full Escalation Flow should skip escalation when disabled in config","status":"passed","title":"should skip escalation when disabled in config","duration":2,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Full Escalation Flow"],"fullName":" EscalationService Full Escalation Flow should skip escalation for recent duplicates","status":"passed","title":"should skip escalation for recent duplicates","duration":2,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Full Escalation Flow"],"fullName":" EscalationService Full Escalation Flow should handle Slack messaging errors gracefully","status":"passed","title":"should handle Slack messaging errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Performance"],"fullName":" EscalationService Performance should handle high volume escalation decisions","status":"passed","title":"should handle high volume escalation decisions","duration":1,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Edge Cases"],"fullName":" EscalationService Edge Cases should handle undefined business intelligence flags","status":"passed","title":"should handle undefined business intelligence flags","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Edge Cases"],"fullName":" EscalationService Edge Cases should prioritize high-weight triggers in reason","status":"passed","title":"should prioritize high-weight triggers in reason","duration":0,"failureMessages":[]},{"ancestorTitles":["","EscalationService","Edge Cases"],"fullName":" EscalationService Edge Cases should use business_intelligence_threshold reason when no flags trigger","status":"passed","title":"should use business_intelligence_threshold reason when no flags trigger","duration":0,"failureMessages":[]}],"startTime":1763484007076,"endTime":1763484007093,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/escalation-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","GitHub Issue Service","Successful Issue Creation"],"fullName":" GitHub Issue Service Successful Issue Creation should successfully create issue with complete BRD","status":"passed","title":"should successfully create issue with complete BRD","duration":5,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Successful Issue Creation"],"fullName":" GitHub Issue Service Successful Issue Creation should format issue body correctly","status":"passed","title":"should format issue body correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Successful Issue Creation"],"fullName":" GitHub Issue Service Successful Issue Creation should handle optional parameters correctly","status":"passed","title":"should handle optional parameters correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Configuration Validation"],"fullName":" GitHub Issue Service Configuration Validation should handle missing GitHub App configuration with user-friendly error","status":"passed","title":"should handle missing GitHub App configuration with user-friendly error","duration":1,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Configuration Validation"],"fullName":" GitHub Issue Service Configuration Validation should validate repository format","status":"passed","title":"should validate repository format","duration":1,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Configuration Validation"],"fullName":" GitHub Issue Service Configuration Validation should parse labels correctly","status":"passed","title":"should parse labels correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Configuration Validation"],"fullName":" GitHub Issue Service Configuration Validation should use default repository and labels when not configured","status":"passed","title":"should use default repository and labels when not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","GitHub API Error Handling"],"fullName":" GitHub Issue Service GitHub API Error Handling should handle GitHub API failures","status":"passed","title":"should handle GitHub API failures","duration":1,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","GitHub API Error Handling"],"fullName":" GitHub Issue Service GitHub API Error Handling should handle invalid installation ID","status":"passed","title":"should handle invalid installation ID","duration":0,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Edge Cases"],"fullName":" GitHub Issue Service Edge Cases should handle empty acceptance criteria","status":"passed","title":"should handle empty acceptance criteria","duration":1,"failureMessages":[]},{"ancestorTitles":["","GitHub Issue Service","Edge Cases"],"fullName":" GitHub Issue Service Edge Cases should handle very long BRD content","status":"passed","title":"should handle very long BRD content","duration":0,"failureMessages":[]}],"startTime":1763484011864,"endTime":1763484011875,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/github-issue-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect SLA breach for P1 case opened 5 hours ago","status":"passed","title":"should detect SLA breach for P1 case opened 5 hours ago","duration":2,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect SLA approaching for P2 case opened 7 hours ago","status":"passed","title":"should detect SLA approaching for P2 case opened 7 hours ago","duration":1,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect VIP customer from business context tags","status":"passed","title":"should detect VIP customer from business context tags","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect VIP customer from description notes","status":"passed","title":"should detect VIP customer from description notes","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect critical service level from serviceDetails","status":"passed","title":"should detect critical service level from serviceDetails","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect high priority for P1 case","status":"passed","title":"should detect high priority for P1 case","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect weekend activity","status":"passed","title":"should detect weekend activity","duration":1,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect after-hours activity (early morning)","status":"passed","title":"should detect after-hours activity (early morning)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should detect after-hours activity (late evening)","status":"passed","title":"should detect after-hours activity (late evening)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should return empty signals when no alerts detected","status":"passed","title":"should return empty signals when no alerts detected","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","detectPolicySignals"],"fullName":" Policy Signals Service detectPolicySignals should sort signals by severity (critical first)","status":"passed","title":"should sort signals by severity (critical first)","duration":1,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","formatPolicySignalsForPrompt"],"fullName":" Policy Signals Service formatPolicySignalsForPrompt should format no signals as \"No policy alerts\"","status":"passed","title":"should format no signals as \"No policy alerts\"","duration":0,"failureMessages":[]},{"ancestorTitles":["","Policy Signals Service","formatPolicySignalsForPrompt"],"fullName":" Policy Signals Service formatPolicySignalsForPrompt should format signals with appropriate icons","status":"passed","title":"should format signals with appropriate icons","duration":0,"failureMessages":[]}],"startTime":1763484010793,"endTime":1763484010799,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/policy-signals.test.ts"},{"assertionResults":[{"ancestorTitles":["","StaleCaseFollowupService"],"fullName":" StaleCaseFollowupService posts summaries and follow-ups with work notes","status":"passed","title":"posts summaries and follow-ups with work notes","duration":5,"failureMessages":[]},{"ancestorTitles":["","StaleCaseFollowupService"],"fullName":" StaleCaseFollowupService still posts summary even when no stale cases","status":"passed","title":"still posts summary even when no stale cases","duration":1,"failureMessages":[]}],"startTime":1763484014404,"endTime":1763484014410,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/stale-case-followup-service.test.ts"},{"assertionResults":[{"ancestorTitles":["","Webex Contact Center - Captures"],"fullName":" Webex Contact Center - Captures fetches captures in chunks and normalizes payload","status":"passed","title":"fetches captures in chunks and normalizes payload","duration":7,"failureMessages":[]},{"ancestorTitles":["","Webex Contact Center - Captures"],"fullName":" Webex Contact Center - Captures downloads a recording to disk with progress updates","status":"passed","title":"downloads a recording to disk with progress updates","duration":7,"failureMessages":[]}],"startTime":1763484014373,"endTime":1763484014387,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/services/webex-contact-center.test.ts"},{"assertionResults":[{"ancestorTitles":["","smoke: agent pipeline","basic response generation"],"fullName":" smoke: agent pipeline basic response generation should generate response for simple case query","status":"passed","title":"should generate response for simple case query","duration":7,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","basic response generation"],"fullName":" smoke: agent pipeline basic response generation should handle empty message array","status":"passed","title":"should handle empty message array","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","basic response generation"],"fullName":" smoke: agent pipeline basic response generation should handle multi-message conversation","status":"passed","title":"should handle multi-message conversation","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","case number handling"],"fullName":" smoke: agent pipeline case number handling should extract and handle case numbers from messages","status":"passed","title":"should extract and handle case numbers from messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","case number handling"],"fullName":" smoke: agent pipeline case number handling should handle messages without case numbers","status":"passed","title":"should handle messages without case numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","tool integration"],"fullName":" smoke: agent pipeline tool integration should handle messages that might trigger tools","status":"passed","title":"should handle messages that might trigger tools","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","tool integration"],"fullName":" smoke: agent pipeline tool integration should handle knowledge base queries","status":"passed","title":"should handle knowledge base queries","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","error handling and resilience"],"fullName":" smoke: agent pipeline error handling and resilience should handle malformed message content gracefully","status":"passed","title":"should handle malformed message content gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","error handling and resilience"],"fullName":" smoke: agent pipeline error handling and resilience should handle very long messages","status":"passed","title":"should handle very long messages","duration":3,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","error handling and resilience"],"fullName":" smoke: agent pipeline error handling and resilience should handle special characters in messages","status":"passed","title":"should handle special characters in messages","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","orchestrator integration"],"fullName":" smoke: agent pipeline orchestrator integration should use the orchestrator for response generation","status":"passed","title":"should use the orchestrator for response generation","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","orchestrator integration"],"fullName":" smoke: agent pipeline orchestrator integration should handle orchestrator initialization","status":"passed","title":"should handle orchestrator initialization","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","context and options"],"fullName":" smoke: agent pipeline context and options should handle updateStatus callback","status":"passed","title":"should handle updateStatus callback","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","context and options"],"fullName":" smoke: agent pipeline context and options should handle options parameter","status":"passed","title":"should handle options parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","context and options"],"fullName":" smoke: agent pipeline context and options should handle legacy dependencies parameter","status":"passed","title":"should handle legacy dependencies parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","performance and reliability"],"fullName":" smoke: agent pipeline performance and reliability should complete response generation within reasonable time","status":"passed","title":"should complete response generation within reasonable time","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: agent pipeline","performance and reliability"],"fullName":" smoke: agent pipeline performance and reliability should handle concurrent requests","status":"passed","title":"should handle concurrent requests","duration":1,"failureMessages":[]}],"startTime":1763484009469,"endTime":1763484009499,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/smoke/agent-pipeline.test.ts"},{"assertionResults":[{"ancestorTitles":["","smoke: api entrypoints","core endpoints"],"fullName":" smoke: api entrypoints core endpoints should handle Slack events POST request","status":"passed","title":"should handle Slack events POST request","duration":5,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","core endpoints"],"fullName":" smoke: api entrypoints core endpoints should handle Slack events GET request","status":"passed","title":"should handle Slack events GET request","duration":0,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","core endpoints"],"fullName":" smoke: api entrypoints core endpoints should handle database health check","status":"passed","title":"should handle database health check","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","core endpoints"],"fullName":" smoke: api entrypoints core endpoints should handle interactivity endpoint","status":"passed","title":"should handle interactivity endpoint","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","core endpoints"],"fullName":" smoke: api entrypoints core endpoints should handle business contexts endpoint","status":"passed","title":"should handle business contexts endpoint","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","webhook endpoints"],"fullName":" smoke: api entrypoints webhook endpoints should handle ServiceNow webhook POST","status":"failed","title":"should handle ServiceNow webhook POST","duration":3,"failureMessages":["expected [ 200, 202, 400, 500 ] to include 503"],"location":{"line":113,"column":36}},{"ancestorTitles":["","smoke: api entrypoints","webhook endpoints"],"fullName":" smoke: api entrypoints webhook endpoints should handle ServiceNow webhook GET","status":"passed","title":"should handle ServiceNow webhook GET","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","admin endpoints"],"fullName":" smoke: api entrypoints admin endpoints should handle supervisor reviews GET","status":"passed","title":"should handle supervisor reviews GET","duration":3,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","admin endpoints"],"fullName":" smoke: api entrypoints admin endpoints should handle supervisor reviews POST","status":"passed","title":"should handle supervisor reviews POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","admin endpoints"],"fullName":" smoke: api entrypoints admin endpoints should handle supervisor reviews OPTIONS","status":"passed","title":"should handle supervisor reviews OPTIONS","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","cron endpoints"],"fullName":" smoke: api entrypoints cron endpoints should handle stale case followup GET","status":"passed","title":"should handle stale case followup GET","duration":5,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","cron endpoints"],"fullName":" smoke: api entrypoints cron endpoints should handle stale case followup POST","status":"passed","title":"should handle stale case followup POST","duration":3,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","error handling"],"fullName":" smoke: api entrypoints error handling should handle malformed JSON gracefully","status":"failed","title":"should handle malformed JSON gracefully","duration":0,"failureMessages":["Unexpected token 'i', \"invalid json\" is not valid JSON"],"location":{"line":27,"column":24}},{"ancestorTitles":["","smoke: api entrypoints","error handling"],"fullName":" smoke: api entrypoints error handling should handle missing required headers","status":"failed","title":"should handle missing required headers","duration":2,"failureMessages":["expected [ 401, 500 ] to include 200"],"location":{"line":179,"column":26}},{"ancestorTitles":["","smoke: api entrypoints","error handling"],"fullName":" smoke: api entrypoints error handling should handle unsupported HTTP methods","status":"passed","title":"should handle unsupported HTTP methods","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","response format validation"],"fullName":" smoke: api entrypoints response format validation should return proper JSON responses for admin endpoints","status":"passed","title":"should return proper JSON responses for admin endpoints","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: api entrypoints","response format validation"],"fullName":" smoke: api entrypoints response format validation should include proper CORS headers","status":"passed","title":"should include proper CORS headers","duration":0,"failureMessages":[]}],"startTime":1763484013450,"endTime":1763484013481,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/smoke/api-entrypoints.test.ts"},{"assertionResults":[{"ancestorTitles":["","smoke: cron tasks","stale case followup"],"fullName":" smoke: cron tasks stale case followup should execute stale case followup GET","status":"passed","title":"should execute stale case followup GET","duration":9,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","stale case followup"],"fullName":" smoke: cron tasks stale case followup should execute stale case followup POST","status":"passed","title":"should execute stale case followup POST","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","workflow cleanup"],"fullName":" smoke: cron tasks workflow cleanup should execute workflow cleanup GET","status":"passed","title":"should execute workflow cleanup GET","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","workflow cleanup"],"fullName":" smoke: cron tasks workflow cleanup should execute workflow cleanup POST","status":"passed","title":"should execute workflow cleanup POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","project standups"],"fullName":" smoke: cron tasks project standups should execute project standups GET","status":"passed","title":"should execute project standups GET","duration":3,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","project standups"],"fullName":" smoke: cron tasks project standups should execute project standups POST","status":"passed","title":"should execute project standups POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","Webex voice sync"],"fullName":" smoke: cron tasks Webex voice sync should execute Webex voice sync GET","status":"failed","title":"should execute Webex voice sync GET","duration":2,"failureMessages":["expected [ 200, 500 ] to include 503"],"location":{"line":84,"column":26}},{"ancestorTitles":["","smoke: cron tasks","Webex voice sync"],"fullName":" smoke: cron tasks Webex voice sync should execute Webex voice sync POST","status":"failed","title":"should execute Webex voice sync POST","duration":0,"failureMessages":["expected [ 200, 500 ] to include 503"],"location":{"line":89,"column":26}},{"ancestorTitles":["","smoke: cron tasks","incident enrichment"],"fullName":" smoke: cron tasks incident enrichment should execute incident enrichment GET","status":"failed","title":"should execute incident enrichment GET","duration":2,"failureMessages":["Neon database is not configured (missing DATABASE_URL)"],"location":{"line":42,"column":11}},{"ancestorTitles":["","smoke: cron tasks","incident enrichment"],"fullName":" smoke: cron tasks incident enrichment should execute incident enrichment POST","status":"failed","title":"should execute incident enrichment POST","duration":1,"failureMessages":["Neon database is not configured (missing DATABASE_URL)"],"location":{"line":42,"column":11}},{"ancestorTitles":["","smoke: cron tasks","case queue report"],"fullName":" smoke: cron tasks case queue report should execute case queue report GET","status":"passed","title":"should execute case queue report GET","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","case queue report"],"fullName":" smoke: cron tasks case queue report should execute case queue report POST","status":"passed","title":"should execute case queue report POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","close resolved incidents"],"fullName":" smoke: cron tasks close resolved incidents should execute close resolved incidents GET","status":"passed","title":"should execute close resolved incidents GET","duration":4,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","close resolved incidents"],"fullName":" smoke: cron tasks close resolved incidents should execute close resolved incidents POST","status":"passed","title":"should execute close resolved incidents POST","duration":2,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","sync voice worknotes"],"fullName":" smoke: cron tasks sync voice worknotes should execute sync voice worknotes GET","status":"passed","title":"should execute sync voice worknotes GET","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","sync voice worknotes"],"fullName":" smoke: cron tasks sync voice worknotes should execute sync voice worknotes POST","status":"passed","title":"should execute sync voice worknotes POST","duration":0,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","case leaderboard"],"fullName":" smoke: cron tasks case leaderboard should execute case leaderboard GET","status":"failed","title":"should execute case leaderboard GET","duration":1,"failureMessages":["Neon database is not configured (missing DATABASE_URL)"],"location":{"line":42,"column":11}},{"ancestorTitles":["","smoke: cron tasks","case leaderboard"],"fullName":" smoke: cron tasks case leaderboard should execute case leaderboard POST","status":"failed","title":"should execute case leaderboard POST","duration":0,"failureMessages":["Neon database is not configured (missing DATABASE_URL)"],"location":{"line":42,"column":11}},{"ancestorTitles":["","smoke: cron tasks","sync categories"],"fullName":" smoke: cron tasks sync categories should execute sync categories GET","status":"passed","title":"should execute sync categories GET","duration":6,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","sync categories"],"fullName":" smoke: cron tasks sync categories should execute sync categories POST","status":"passed","title":"should execute sync categories POST","duration":12,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","case queue snapshot"],"fullName":" smoke: cron tasks case queue snapshot should execute case queue snapshot GET","status":"passed","title":"should execute case queue snapshot GET","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","case queue snapshot"],"fullName":" smoke: cron tasks case queue snapshot should execute case queue snapshot POST","status":"passed","title":"should execute case queue snapshot POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","response format validation"],"fullName":" smoke: cron tasks response format validation should return JSON responses for successful cron jobs","status":"passed","title":"should return JSON responses for successful cron jobs","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","response format validation"],"fullName":" smoke: cron tasks response format validation should include proper cache control headers","status":"passed","title":"should include proper cache control headers","duration":1,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","error handling"],"fullName":" smoke: cron tasks error handling should handle service unavailability gracefully","status":"failed","title":"should handle service unavailability gracefully","duration":2,"failureMessages":["expected [ 500, 503 ] to include 200"],"location":{"line":209,"column":26}},{"ancestorTitles":["","smoke: cron tasks","error handling"],"fullName":" smoke: cron tasks error handling should handle database connection errors","status":"failed","title":"should handle database connection errors","duration":1,"failureMessages":["expected [ 500, 503 ] to include 200"],"location":{"line":219,"column":28}},{"ancestorTitles":["","smoke: cron tasks","error handling"],"fullName":" smoke: cron tasks error handling should handle timeout scenarios","status":"failed","title":"should handle timeout scenarios","duration":5004,"failureMessages":["Test timed out in 5000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\"."]},{"ancestorTitles":["","smoke: cron tasks","concurrent execution"],"fullName":" smoke: cron tasks concurrent execution should handle multiple concurrent cron executions","status":"failed","title":"should handle multiple concurrent cron executions","duration":13,"failureMessages":["Neon database is not configured (missing DATABASE_URL)"],"location":{"line":42,"column":11}},{"ancestorTitles":["","smoke: cron tasks","performance and reliability"],"fullName":" smoke: cron tasks performance and reliability should complete cron execution within reasonable time","status":"passed","title":"should complete cron execution within reasonable time","duration":3,"failureMessages":[]},{"ancestorTitles":["","smoke: cron tasks","performance and reliability"],"fullName":" smoke: cron tasks performance and reliability should handle empty result sets gracefully","status":"passed","title":"should handle empty result sets gracefully","duration":2,"failureMessages":[]}],"startTime":1763484012338,"endTime":1763484017425,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/smoke/cron-tasks.test.ts"},{"assertionResults":[],"startTime":1763484004008,"endTime":1763484004008,"status":"failed","message":"Transform failed with 1 error:\n/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/smoke/supervisor-actions.test.ts:424:0: ERROR: Unexpected end of file","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/smoke/supervisor-actions.test.ts"},{"assertionResults":[{"ancestorTitles":["","strategic evaluation subscribers"],"fullName":" strategic evaluation subscribers DMs requester, posts to project channel, and triggers stand-up scheduling","status":"passed","title":"DMs requester, posts to project channel, and triggers stand-up scheduling","duration":3,"failureMessages":[]}],"startTime":1763484014259,"endTime":1763484014262,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/strategy/event-subscribers.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should normalize bare 5-digit numbers with SCS prefix","status":"passed","title":"should normalize bare 5-digit numbers with SCS prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should normalize bare 5-digit numbers with INC prefix","status":"passed","title":"should normalize bare 5-digit numbers with INC prefix","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should normalize bare 6-digit numbers","status":"passed","title":"should normalize bare 6-digit numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should not pad 7-digit numbers","status":"passed","title":"should not pad 7-digit numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should truncate numbers longer than 7 digits (take rightmost)","status":"passed","title":"should truncate numbers longer than 7 digits (take rightmost)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should handle CS prefix","status":"passed","title":"should handle CS prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should strip non-numeric characters from input","status":"passed","title":"should strip non-numeric characters from input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should normalize when digits passed as number","status":"passed","title":"should normalize when digits passed as number","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should return empty string for non-numeric input","status":"passed","title":"should return empty string for non-numeric input","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","normalizeCaseId"],"fullName":" Case Number Normalizer normalizeCaseId should support custom totalDigits parameter","status":"passed","title":"should support custom totalDigits parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","extractDigits"],"fullName":" Case Number Normalizer extractDigits should extract digits from fully formatted case numbers","status":"passed","title":"should extract digits from fully formatted case numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","extractDigits"],"fullName":" Case Number Normalizer extractDigits should extract digits from bare numbers","status":"passed","title":"should extract digits from bare numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","extractDigits"],"fullName":" Case Number Normalizer extractDigits should extract digits from partial formats","status":"passed","title":"should extract digits from partial formats","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","extractDigits"],"fullName":" Case Number Normalizer extractDigits should return empty string for non-numeric input","status":"passed","title":"should return empty string for non-numeric input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","isServiceNowNumber"],"fullName":" Case Number Normalizer isServiceNowNumber should detect valid fully formatted numbers","status":"passed","title":"should detect valid fully formatted numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","isServiceNowNumber"],"fullName":" Case Number Normalizer isServiceNowNumber should detect valid partial formats","status":"passed","title":"should detect valid partial formats","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","isServiceNowNumber"],"fullName":" Case Number Normalizer isServiceNowNumber should detect bare 5-7 digit numbers","status":"passed","title":"should detect bare 5-7 digit numbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","isServiceNowNumber"],"fullName":" Case Number Normalizer isServiceNowNumber should reject invalid formats","status":"passed","title":"should reject invalid formats","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","isServiceNowNumber"],"fullName":" Case Number Normalizer isServiceNowNumber should be case-insensitive for prefixes","status":"passed","title":"should be case-insensitive for prefixes","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should find match with bare number","status":"passed","title":"should find match with bare number","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should find match when raw number provided as numeric type","status":"passed","title":"should find match when raw number provided as numeric type","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should find match with partial format","status":"passed","title":"should find match with partial format","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should find match with different prefix","status":"passed","title":"should find match with different prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should find match with fully formatted number","status":"passed","title":"should find match with fully formatted number","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should return null when no match found","status":"passed","title":"should return null when no match found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should return null for empty inputs","status":"passed","title":"should return null for empty inputs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should return null for non-numeric input","status":"passed","title":"should return null for non-numeric input","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","findMatchingCaseNumber"],"fullName":" Case Number Normalizer findMatchingCaseNumber should handle padded vs unpadded digit matching","status":"passed","title":"should handle padded vs unpadded digit matching","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect REQ prefix and return sc_request table","status":"passed","title":"should detect REQ prefix and return sc_request table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect RITM prefix and return sc_req_item table","status":"passed","title":"should detect RITM prefix and return sc_req_item table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect SCTASK prefix and return sc_task table","status":"passed","title":"should detect SCTASK prefix and return sc_task table","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect INC prefix and return incident table","status":"passed","title":"should detect INC prefix and return incident table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect SCS prefix and return sn_customerservice_case table","status":"passed","title":"should detect SCS prefix and return sn_customerservice_case table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect CS prefix and return sn_customerservice_case table","status":"passed","title":"should detect CS prefix and return sn_customerservice_case table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect CHG prefix and return change_request table","status":"passed","title":"should detect CHG prefix and return change_request table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect PRB prefix and return problem table","status":"passed","title":"should detect PRB prefix and return problem table","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should detect CTASK prefix and return change_task table","status":"passed","title":"should detect CTASK prefix and return change_task table","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should prioritize SCTASK over SC prefix","status":"passed","title":"should prioritize SCTASK over SC prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should return null for numbers without recognized prefix","status":"passed","title":"should return null for numbers without recognized prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should return null for empty or invalid input","status":"passed","title":"should return null for empty or invalid input","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Number Normalizer","detectTableFromPrefix"],"fullName":" Case Number Normalizer detectTableFromPrefix should handle case-insensitive prefix matching","status":"passed","title":"should handle case-insensitive prefix matching","duration":0,"failureMessages":[]}],"startTime":1763484011429,"endTime":1763484011438,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/utils/case-number-normalizer.test.ts"},{"assertionResults":[{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should return image as-is if under size limit and supported format","status":"passed","title":"should return image as-is if under size limit and supported format","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should optimize large images by resizing and compressing","status":"passed","title":"should optimize large images by resizing and compressing","duration":94,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should handle different image formats (PNG, WebP, GIF)","status":"passed","title":"should handle different image formats (PNG, WebP, GIF)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should preserve aspect ratio during resize","status":"passed","title":"should preserve aspect ratio during resize","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should throw error for extremely large images that cannot be optimized","status":"passed","title":"should throw error for extremely large images that cannot be optimized","duration":601,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeImageForClaude"],"fullName":" Image Processing Utils optimizeImageForClaude should return valid base64 encoded data","status":"passed","title":"should return valid base64 encoded data","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","isSupportedImageFormat"],"fullName":" Image Processing Utils isSupportedImageFormat should return true for supported formats","status":"passed","title":"should return true for supported formats","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","isSupportedImageFormat"],"fullName":" Image Processing Utils isSupportedImageFormat should return false for unsupported formats","status":"passed","title":"should return false for unsupported formats","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","estimateImageTokens"],"fullName":" Image Processing Utils estimateImageTokens should estimate tokens based on pixel count","status":"passed","title":"should estimate tokens based on pixel count","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","estimateImageTokens"],"fullName":" Image Processing Utils estimateImageTokens should return higher estimates for larger images","status":"passed","title":"should return higher estimates for larger images","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeBatch"],"fullName":" Image Processing Utils optimizeBatch should process multiple images successfully","status":"passed","title":"should process multiple images successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeBatch"],"fullName":" Image Processing Utils optimizeBatch should handle partial failures gracefully","status":"passed","title":"should handle partial failures gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","optimizeBatch"],"fullName":" Image Processing Utils optimizeBatch should not throw even with invalid image data","status":"passed","title":"should not throw even with invalid image data","duration":0,"failureMessages":[]},{"ancestorTitles":["","Image Processing Utils","Optimization Quality"],"fullName":" Image Processing Utils Optimization Quality should produce acceptable quality images at various compression levels","status":"passed","title":"should produce acceptable quality images at various compression levels","duration":178,"failureMessages":[]}],"startTime":1763484012304,"endTime":1763484013183,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/utils/image-processing.test.ts"},{"assertionResults":[{"ancestorTitles":["","runClassificationAgent"],"fullName":" runClassificationAgent delegates to case classifier with derived fields","status":"passed","title":"delegates to case classifier with derived fields","duration":2,"failureMessages":[]}],"startTime":1763484015583,"endTime":1763484015585,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/classification/runner.test.ts"},{"assertionResults":[{"ancestorTitles":["","admin stale case follow-up API"],"fullName":" admin stale case follow-up API returns last summary on GET","status":"passed","title":"returns last summary on GET","duration":5,"failureMessages":[]},{"ancestorTitles":["","admin stale case follow-up API"],"fullName":" admin stale case follow-up API triggers follow-up on POST","status":"passed","title":"triggers follow-up on POST","duration":1,"failureMessages":[]},{"ancestorTitles":["","admin stale case follow-up API"],"fullName":" admin stale case follow-up API enforces authorization","status":"passed","title":"enforces authorization","duration":1,"failureMessages":[]}],"startTime":1763484015283,"endTime":1763484015290,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/admin/stale-case-followup.test.ts"},{"assertionResults":[{"ancestorTitles":["","admin supervisor reviews API"],"fullName":" admin supervisor reviews API returns filtered reviews","status":"passed","title":"returns filtered reviews","duration":4,"failureMessages":[]},{"ancestorTitles":["","admin supervisor reviews API"],"fullName":" admin supervisor reviews API enforces authorization","status":"passed","title":"enforces authorization","duration":0,"failureMessages":[]},{"ancestorTitles":["","admin supervisor reviews API"],"fullName":" admin supervisor reviews API approves a supervisor state","status":"passed","title":"approves a supervisor state","duration":2,"failureMessages":[]}],"startTime":1763484014973,"endTime":1763484014979,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/admin/supervisor-reviews.test.ts"},{"assertionResults":[{"ancestorTitles":["","api/internal/sweep-abandonments","Authorization"],"fullName":" api/internal/sweep-abandonments Authorization should return 401 if no authorization header provided","status":"passed","title":"should return 401 if no authorization header provided","duration":2,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Authorization"],"fullName":" api/internal/sweep-abandonments Authorization should return 401 if authorization token is incorrect","status":"passed","title":"should return 401 if authorization token is incorrect","duration":1,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Authorization"],"fullName":" api/internal/sweep-abandonments Authorization should allow request with correct Bearer token","status":"passed","title":"should allow request with correct Bearer token","duration":1,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Authorization"],"fullName":" api/internal/sweep-abandonments Authorization should handle authorization without 'Bearer' prefix","status":"passed","title":"should handle authorization without 'Bearer' prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Authorization"],"fullName":" api/internal/sweep-abandonments Authorization should return null authorization response if INTERNAL_CRON_SECRET not set","status":"passed","title":"should return null authorization response if INTERNAL_CRON_SECRET not set","duration":1,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Sweep Execution"],"fullName":" api/internal/sweep-abandonments Sweep Execution should execute sweep and return results","status":"passed","title":"should execute sweep and return results","duration":1,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Sweep Execution"],"fullName":" api/internal/sweep-abandonments Sweep Execution should handle sweep with no abandonments found","status":"passed","title":"should handle sweep with no abandonments found","duration":0,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Sweep Execution"],"fullName":" api/internal/sweep-abandonments Sweep Execution should handle sweep with errors","status":"passed","title":"should handle sweep with errors","duration":0,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Sweep Execution"],"fullName":" api/internal/sweep-abandonments Sweep Execution should handle service errors gracefully","status":"passed","title":"should handle service errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Edge Cases"],"fullName":" api/internal/sweep-abandonments Edge Cases should handle case-insensitive Bearer prefix","status":"passed","title":"should handle case-insensitive Bearer prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","api/internal/sweep-abandonments","Edge Cases"],"fullName":" api/internal/sweep-abandonments Edge Cases should handle extra whitespace in authorization header","status":"passed","title":"should handle extra whitespace in authorization header","duration":1,"failureMessages":[]}],"startTime":1763484013080,"endTime":1763484013089,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/internal/sweep-abandonments.test.ts"},{"assertionResults":[{"ancestorTitles":["","classification agent tool"],"fullName":" classification agent tool runs classification using discovery metadata when available","status":"passed","title":"runs classification using discovery metadata when available","duration":3,"failureMessages":[]}],"startTime":1763484016271,"endTime":1763484016274,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/classification-agent.test.ts"},{"assertionResults":[{"ancestorTitles":["","searchCMDB Tool"],"fullName":" searchCMDB Tool returns error when ServiceNow is not configured","status":"passed","title":"returns error when ServiceNow is not configured","duration":3,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool"],"fullName":" searchCMDB Tool throws when no filters are provided","status":"passed","title":"throws when no filters are provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool"],"fullName":" searchCMDB Tool queries ServiceNow with the provided filters and formats results","status":"passed","title":"queries ServiceNow with the provided filters and formats results","duration":2,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool"],"fullName":" searchCMDB Tool defaults limit to 10 when not provided","status":"passed","title":"defaults limit to 10 when not provided","duration":2,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool"],"fullName":" searchCMDB Tool fetches relationships when includeRelationships is true","status":"passed","title":"fetches relationships when includeRelationships is true","duration":0,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool","createConfigurationItem tool"],"fullName":" searchCMDB Tool createConfigurationItem tool returns error when ServiceNow is not configured","status":"passed","title":"returns error when ServiceNow is not configured","duration":1,"failureMessages":[]},{"ancestorTitles":["","searchCMDB Tool","createConfigurationItem tool"],"fullName":" searchCMDB Tool createConfigurationItem tool creates CI and optional relationship","status":"passed","title":"creates CI and optional relationship","duration":0,"failureMessages":[]}],"startTime":1763484013522,"endTime":1763484013531,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/cmdb.test.ts"},{"assertionResults":[{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Success Cases"],"fullName":" Context Update Proposal Tool Context Update - Success Cases should propose context update successfully","status":"passed","title":"should propose context update successfully","duration":5,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Success Cases"],"fullName":" Context Update Proposal Tool Context Update - Success Cases should use first case number when not provided","status":"passed","title":"should use first case number when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Success Cases"],"fullName":" Context Update Proposal Tool Context Update - Success Cases should deduplicate IP addresses","status":"passed","title":"should deduplicate IP addresses","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Success Cases"],"fullName":" Context Update Proposal Tool Context Update - Success Cases should format steward mentions correctly","status":"passed","title":"should format steward mentions correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Success Cases"],"fullName":" Context Update Proposal Tool Context Update - Success Cases should handle entity creation when no business context exists","status":"passed","title":"should handle entity creation when no business context exists","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Error Cases"],"fullName":" Context Update Proposal Tool Context Update - Error Cases should return error when no case number available","status":"passed","title":"should return error when no case number available","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Error Cases"],"fullName":" Context Update Proposal Tool Context Update - Error Cases should return error when conversation history not found","status":"passed","title":"should return error when conversation history not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Error Cases"],"fullName":" Context Update Proposal Tool Context Update - Error Cases should return error when entity doesn't exist and no type specified","status":"passed","title":"should return error when entity doesn't exist and no type specified","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Error Cases"],"fullName":" Context Update Proposal Tool Context Update - Error Cases should return error when CMDB identifier has no signal","status":"passed","title":"should return error when CMDB identifier has no signal","duration":1,"failureMessages":[]},{"ancestorTitles":["","Context Update Proposal Tool","Context Update - Error Cases"],"fullName":" Context Update Proposal Tool Context Update - Error Cases should accept whitespace-only IP addresses (validation happens before deduplication)","status":"passed","title":"should accept whitespace-only IP addresses (validation happens before deduplication)","duration":0,"failureMessages":[]}],"startTime":1763484009991,"endTime":1763484010001,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/context-update.test.ts"},{"assertionResults":[{"ancestorTitles":["","Current Issues Tool","Current Issues - Success Cases"],"fullName":" Current Issues Tool Current Issues - Success Cases should fetch current issues using channelId from options","status":"passed","title":"should fetch current issues using channelId from options","duration":3,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Success Cases"],"fullName":" Current Issues Tool Current Issues - Success Cases should fetch current issues using provided channelId","status":"passed","title":"should fetch current issues using provided channelId","duration":0,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Success Cases"],"fullName":" Current Issues Tool Current Issues - Success Cases should override missing channelName with hint when provided","status":"passed","title":"should override missing channelName with hint when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Success Cases"],"fullName":" Current Issues Tool Current Issues - Success Cases should not override existing channelName with hint","status":"passed","title":"should not override existing channelName with hint","duration":0,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Success Cases"],"fullName":" Current Issues Tool Current Issues - Success Cases should handle empty results","status":"passed","title":"should handle empty results","duration":0,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Error Cases"],"fullName":" Current Issues Tool Current Issues - Error Cases should return error when channelId is not available","status":"passed","title":"should return error when channelId is not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Error Cases"],"fullName":" Current Issues Tool Current Issues - Error Cases should handle service errors gracefully","status":"passed","title":"should handle service errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Current Issues Tool","Current Issues - Error Cases"],"fullName":" Current Issues Tool Current Issues - Error Cases should prefer explicit channelId over options channelId","status":"passed","title":"should prefer explicit channelId over options channelId","duration":1,"failureMessages":[]}],"startTime":1763484014685,"endTime":1763484014692,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/current-issues.test.ts"},{"assertionResults":[{"ancestorTitles":["","Feedback Collection Tool","Successful Flow"],"fullName":" Feedback Collection Tool Successful Flow should complete end-to-end successful flow","status":"passed","title":"should complete end-to-end successful flow","duration":2,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Successful Flow"],"fullName":" Feedback Collection Tool Successful Flow should build conversation context from various message types","status":"passed","title":"should build conversation context from various message types","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Successful Flow"],"fullName":" Feedback Collection Tool Successful Flow should handle empty conversation context","status":"passed","title":"should handle empty conversation context","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Error Handling"],"fullName":" Feedback Collection Tool Error Handling should handle BRD generation failure","status":"passed","title":"should handle BRD generation failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Error Handling"],"fullName":" Feedback Collection Tool Error Handling should handle GitHub issue creation failure","status":"passed","title":"should handle GitHub issue creation failure","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Error Handling"],"fullName":" Feedback Collection Tool Error Handling should format error messages properly","status":"passed","title":"should format error messages properly","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Status Updates"],"fullName":" Feedback Collection Tool Status Updates should call updateStatus callbacks at correct times","status":"passed","title":"should call updateStatus callbacks at correct times","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Status Updates"],"fullName":" Feedback Collection Tool Status Updates should handle missing updateStatus callback gracefully","status":"passed","title":"should handle missing updateStatus callback gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Return Value Validation"],"fullName":" Feedback Collection Tool Return Value Validation should return correct structure on success","status":"passed","title":"should return correct structure on success","duration":0,"failureMessages":[]},{"ancestorTitles":["","Feedback Collection Tool","Return Value Validation"],"fullName":" Feedback Collection Tool Return Value Validation should filter message content to text only","status":"passed","title":"should filter message content to text only","duration":0,"failureMessages":[]}],"startTime":1763484010223,"endTime":1763484010228,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/feedback-collection.test.ts"},{"assertionResults":[{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Success Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Success Cases should generate KB article successfully","status":"passed","title":"should generate KB article successfully","duration":6,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Success Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Success Cases should use specified thread timestamp when provided","status":"passed","title":"should use specified thread timestamp when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Success Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Success Cases should use latest context when no threadTs specified","status":"passed","title":"should use latest context when no threadTs specified","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Success Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Success Cases should handle case when ServiceNow is not configured","status":"passed","title":"should handle case when ServiceNow is not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Success Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Success Cases should handle case when ServiceNow fetch fails","status":"passed","title":"should handle case when ServiceNow fetch fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Duplicate Detection"],"fullName":" Knowledge Base Generation Tool KB Generation - Duplicate Detection should detect duplicate KB articles","status":"passed","title":"should detect duplicate KB articles","duration":2,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Duplicate Detection"],"fullName":" Knowledge Base Generation Tool KB Generation - Duplicate Detection should return similar KBs even when not duplicate","status":"passed","title":"should return similar KBs even when not duplicate","duration":0,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Error Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Error Cases should return error when no context found","status":"passed","title":"should return error when no context found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Error Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Error Cases should return error when specified thread not found","status":"passed","title":"should return error when specified thread not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Error Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Error Cases should handle KB generation errors gracefully","status":"passed","title":"should handle KB generation errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Knowledge Base Generation Tool","KB Generation - Error Cases"],"fullName":" Knowledge Base Generation Tool KB Generation - Error Cases should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":2,"failureMessages":[]}],"startTime":1763484010979,"endTime":1763484010995,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/knowledge-base.test.ts"},{"assertionResults":[{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Success Cases"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Success Cases should search Microsoft Learn successfully","status":"passed","title":"should search Microsoft Learn successfully","duration":5,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Success Cases"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Success Cases should use default limit when not provided","status":"passed","title":"should use default limit when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Success Cases"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Success Cases should respect custom limit parameter","status":"passed","title":"should respect custom limit parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Success Cases"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Success Cases should handle different query types","status":"passed","title":"should handle different query types","duration":0,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Empty Results"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Empty Results should return message when no results found","status":"passed","title":"should return message when no results found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Error Handling"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Error Handling should handle MCP search errors gracefully","status":"passed","title":"should handle MCP search errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Error Handling"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Error Handling should handle network timeouts","status":"passed","title":"should handle network timeouts","duration":0,"failureMessages":[]},{"ancestorTitles":["","Microsoft Learn Search Tool","Microsoft Learn Search - Error Handling"],"fullName":" Microsoft Learn Search Tool Microsoft Learn Search - Error Handling should handle malformed responses","status":"passed","title":"should handle malformed responses","duration":1,"failureMessages":[]}],"startTime":1763484014125,"endTime":1763484014134,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/microsoft-learn.test.ts"},{"assertionResults":[{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Success Cases"],"fullName":" Similar Cases Search Tool Similar Cases Search - Success Cases should search for similar cases successfully","status":"passed","title":"should search for similar cases successfully","duration":4,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Success Cases"],"fullName":" Similar Cases Search Tool Similar Cases Search - Success Cases should use default topK when not provided","status":"passed","title":"should use default topK when not provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Success Cases"],"fullName":" Similar Cases Search Tool Similar Cases Search - Success Cases should filter by clientId when provided","status":"passed","title":"should filter by clientId when provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Success Cases"],"fullName":" Similar Cases Search Tool Similar Cases Search - Success Cases should truncate long content to 300 characters","status":"passed","title":"should truncate long content to 300 characters","duration":1,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Success Cases"],"fullName":" Similar Cases Search Tool Similar Cases Search - Success Cases should not add ellipsis for content under 300 characters","status":"passed","title":"should not add ellipsis for content under 300 characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Empty Results"],"fullName":" Similar Cases Search Tool Similar Cases Search - Empty Results should return message when no similar cases found","status":"passed","title":"should return message when no similar cases found","duration":0,"failureMessages":[]},{"ancestorTitles":["","Similar Cases Search Tool","Similar Cases Search - Error Handling"],"fullName":" Similar Cases Search Tool Similar Cases Search - Error Handling should handle search errors gracefully","status":"passed","title":"should handle search errors gracefully","duration":1,"failureMessages":[]}],"startTime":1763484014089,"endTime":1763484014097,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/search.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should fetch case without attachments by default","status":"failed","title":"should fetch case without attachments by default","duration":12,"failureMessages":["expected { …(2) } to match object { …(3) }"],"location":{"line":78,"column":22}},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should NOT fetch attachments when feature flag is disabled","status":"failed","title":"should NOT fetch attachments when feature flag is disabled","duration":2,"failureMessages":["expected { …(2) } to match object { …(3) }"],"location":{"line":113,"column":22}},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should fetch and return attachments when enabled","status":"passed","title":"should fetch and return attachments when enabled","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should respect maxAttachments parameter","status":"passed","title":"should respect maxAttachments parameter","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should handle cases with no attachments gracefully","status":"failed","title":"should handle cases with no attachments gracefully","duration":2,"failureMessages":["expected { …(2) } to match object { …(3) }"],"location":{"line":233,"column":22}},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getCase with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getCase with includeAttachments should handle attachment fetch errors gracefully","status":"passed","title":"should handle attachment fetch errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool - Attachment Handling","getIncident with includeAttachments"],"fullName":" ServiceNow Tool - Attachment Handling getIncident with includeAttachments should fetch incident with attachments when enabled","status":"passed","title":"should fetch incident with attachments when enabled","duration":1,"failureMessages":[]}],"startTime":1763484011596,"endTime":1763484011618,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/service-now-attachments.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Tool Routing Logic","REQ Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic REQ Prefix Routing should route REQ prefix to getRequest method","status":"passed","title":"should route REQ prefix to getRequest method","duration":684,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","REQ Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic REQ Prefix Routing should handle REQ prefix case-insensitively","status":"passed","title":"should handle REQ prefix case-insensitively","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","REQ Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic REQ Prefix Routing should return error message when REQ not found","status":"passed","title":"should return error message when REQ not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","RITM Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic RITM Prefix Routing should route RITM prefix to getRequestedItem method","status":"passed","title":"should route RITM prefix to getRequestedItem method","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","RITM Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic RITM Prefix Routing should handle RITM prefix case-insensitively","status":"passed","title":"should handle RITM prefix case-insensitively","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","RITM Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic RITM Prefix Routing should return error message when RITM not found","status":"passed","title":"should return error message when RITM not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","SCTASK Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic SCTASK Prefix Routing should route SCTASK prefix to getCatalogTask method","status":"passed","title":"should route SCTASK prefix to getCatalogTask method","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","SCTASK Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic SCTASK Prefix Routing should handle SCTASK prefix case-insensitively","status":"passed","title":"should handle SCTASK prefix case-insensitively","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","SCTASK Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic SCTASK Prefix Routing should return error message when SCTASK not found","status":"passed","title":"should return error message when SCTASK not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","SCTASK Prefix Routing"],"fullName":" ServiceNow Tool Routing Logic SCTASK Prefix Routing should prioritize SCTASK over SC prefix","status":"passed","title":"should prioritize SCTASK over SC prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Fallback Behavior"],"fullName":" ServiceNow Tool Routing Logic Fallback Behavior should fall back to getCase for SCS prefix","status":"passed","title":"should fall back to getCase for SCS prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Fallback Behavior"],"fullName":" ServiceNow Tool Routing Logic Fallback Behavior should fall back to getCase for INC prefix","status":"passed","title":"should fall back to getCase for INC prefix","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Fallback Behavior"],"fullName":" ServiceNow Tool Routing Logic Fallback Behavior should fall back to getCase for bare numbers","status":"passed","title":"should fall back to getCase for bare numbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Error Handling"],"fullName":" ServiceNow Tool Routing Logic Error Handling should return error object when number is missing","status":"passed","title":"should return error object when number is missing","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Error Handling"],"fullName":" ServiceNow Tool Routing Logic Error Handling should return error object when getRequest throws","status":"passed","title":"should return error object when getRequest throws","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Response Format"],"fullName":" ServiceNow Tool Routing Logic Response Format should return request with type field for REQ","status":"passed","title":"should return request with type field for REQ","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Response Format"],"fullName":" ServiceNow Tool Routing Logic Response Format should return requestedItem with type field for RITM","status":"passed","title":"should return requestedItem with type field for RITM","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool Routing Logic","Response Format"],"fullName":" ServiceNow Tool Routing Logic Response Format should return catalogTask with type field for SCTASK","status":"passed","title":"should return catalogTask with type field for SCTASK","duration":1,"failureMessages":[]}],"startTime":1763484008757,"endTime":1763484009454,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/service-now-routing.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Configuration"],"fullName":" ServiceNow Tool ServiceNow Tool - Configuration should return error when ServiceNow is not configured","status":"passed","title":"should return error when ServiceNow is not configured","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCase Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCase Action should retrieve a case successfully","status":"passed","title":"should retrieve a case successfully","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCase Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCase Action should fallback to incident table if case not found","status":"passed","title":"should fallback to incident table if case not found","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCase Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCase Action should return not found message when case and incident both missing","status":"passed","title":"should return not found message when case and incident both missing","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCase Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCase Action should throw error when number is missing","status":"passed","title":"should throw error when number is missing","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getIncident Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getIncident Action should retrieve an incident successfully","status":"passed","title":"should retrieve an incident successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getIncident Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getIncident Action should fallback to case table if incident not found","status":"passed","title":"should fallback to case table if incident not found","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Case Number Normalization"],"fullName":" ServiceNow Tool ServiceNow Tool - Case Number Normalization should normalize bare case number using params.caseNumbers","status":"passed","title":"should normalize bare case number using params.caseNumbers","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Case Number Normalization"],"fullName":" ServiceNow Tool ServiceNow Tool - Case Number Normalization should normalize bare incident number using params.caseNumbers","status":"passed","title":"should normalize bare incident number using params.caseNumbers","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Case Number Normalization"],"fullName":" ServiceNow Tool ServiceNow Tool - Case Number Normalization should default to SCS prefix when no match in params.caseNumbers","status":"passed","title":"should default to SCS prefix when no match in params.caseNumbers","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Case Number Normalization"],"fullName":" ServiceNow Tool ServiceNow Tool - Case Number Normalization should default to INC prefix for getIncident when no match","status":"passed","title":"should default to INC prefix for getIncident when no match","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Case Number Normalization"],"fullName":" ServiceNow Tool ServiceNow Tool - Case Number Normalization should normalize when number parameter is provided as numeric type","status":"failed","title":"should normalize when number parameter is provided as numeric type","duration":2,"failureMessages":["expected \"spy\" to be called at least once"],"location":{"line":327,"column":44}},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCaseJournal Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCaseJournal Action should fetch journal entries with caseSysId","status":"passed","title":"should fetch journal entries with caseSysId","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCaseJournal Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCaseJournal Action should fetch journal entries by looking up case number","status":"passed","title":"should fetch journal entries by looking up case number","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCaseJournal Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCaseJournal Action should return empty entries when case not found","status":"passed","title":"should return empty entries when case not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - getCaseJournal Action"],"fullName":" ServiceNow Tool ServiceNow Tool - getCaseJournal Action should throw error when both caseSysId and number are missing","status":"passed","title":"should throw error when both caseSysId and number are missing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchKnowledge Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchKnowledge Action should search knowledge base successfully","status":"passed","title":"should search knowledge base successfully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchKnowledge Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchKnowledge Action should use default limit when not provided","status":"passed","title":"should use default limit when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchKnowledge Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchKnowledge Action should throw error when query is missing","status":"passed","title":"should throw error when query is missing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchConfigurationItem Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchConfigurationItem Action should search configuration items by CI name","status":"passed","title":"should search configuration items by CI name","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchConfigurationItem Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchConfigurationItem Action should search configuration items by IP address","status":"passed","title":"should search configuration items by IP address","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchConfigurationItem Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchConfigurationItem Action should throw error when all search params are missing","status":"passed","title":"should throw error when all search params are missing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchCases Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchCases Action should search cases with filters","status":"passed","title":"should search cases with filters","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchCases Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchCases Action should update status with company name when provided","status":"passed","title":"should update status with company name when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - searchCases Action"],"fullName":" ServiceNow Tool ServiceNow Tool - searchCases Action should update status without company name when not provided","status":"passed","title":"should update status without company name when not provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Error Handling"],"fullName":" ServiceNow Tool ServiceNow Tool - Error Handling should return error for unsupported action","status":"passed","title":"should return error for unsupported action","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Error Handling"],"fullName":" ServiceNow Tool ServiceNow Tool - Error Handling should handle ServiceNow API errors gracefully","status":"passed","title":"should handle ServiceNow API errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow Tool","ServiceNow Tool - Error Handling"],"fullName":" ServiceNow Tool ServiceNow Tool - Error Handling should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":0,"failureMessages":[]}],"startTime":1763484006274,"endTime":1763484006308,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/service-now.test.ts"},{"assertionResults":[{"ancestorTitles":["","Triage Tool - Screenshot Handling","triage without screenshots (default)"],"fullName":" Triage Tool - Screenshot Handling triage without screenshots (default) should triage case without fetching screenshots by default","status":"failed","title":"should triage case without fetching screenshots by default","duration":5,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":100,"column":30}},{"ancestorTitles":["","Triage Tool - Screenshot Handling","triage with screenshots"],"fullName":" Triage Tool - Screenshot Handling triage with screenshots should NOT fetch screenshots when feature flag is disabled","status":"failed","title":"should NOT fetch screenshots when feature flag is disabled","duration":1,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":131,"column":30}},{"ancestorTitles":["","Triage Tool - Screenshot Handling","triage with screenshots"],"fullName":" Triage Tool - Screenshot Handling triage with screenshots should fetch and include screenshots when enabled","status":"failed","title":"should fetch and include screenshots when enabled","duration":1,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":180,"column":30}},{"ancestorTitles":["","Triage Tool - Screenshot Handling","triage with screenshots"],"fullName":" Triage Tool - Screenshot Handling triage with screenshots should handle screenshot fetch failures without breaking triage","status":"failed","title":"should handle screenshot fetch failures without breaking triage","duration":0,"failureMessages":["expected undefined to be true // Object.is equality"],"location":{"line":217,"column":30}},{"ancestorTitles":["","Triage Tool - Screenshot Handling","triage with screenshots"],"fullName":" Triage Tool - Screenshot Handling triage with screenshots should limit screenshots to config maximum","status":"failed","title":"should limit screenshots to config maximum","duration":1,"failureMessages":["expected \"spy\" to be called 3 times, but got 0 times"],"location":{"line":260,"column":51}}],"startTime":1763484012445,"endTime":1763484012453,"status":"failed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/triage-screenshots.test.ts"},{"assertionResults":[{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should triage case successfully","status":"passed","title":"should triage case successfully","duration":4,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should handle high confidence triage","status":"passed","title":"should handle high confidence triage","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should handle triage with no similar cases","status":"passed","title":"should handle triage with no similar cases","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should handle triage with no KB articles","status":"passed","title":"should handle triage with no KB articles","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should limit similar cases to top 3","status":"passed","title":"should limit similar cases to top 3","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Success Cases"],"fullName":" Case Triage Tool Case Triage - Success Cases should handle cached triage results","status":"passed","title":"should handle cached triage results","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should return error when ServiceNow not configured","status":"passed","title":"should return error when ServiceNow not configured","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should return error when case number is empty","status":"passed","title":"should return error when case number is empty","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should return error when case number is whitespace","status":"passed","title":"should return error when case number is whitespace","duration":0,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should return error when case not found","status":"passed","title":"should return error when case not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should handle triage service errors","status":"passed","title":"should handle triage service errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","Case Triage Tool","Case Triage - Error Cases"],"fullName":" Case Triage Tool Case Triage - Error Cases should handle non-Error exceptions","status":"passed","title":"should handle non-Error exceptions","duration":1,"failureMessages":[]}],"startTime":1763484009835,"endTime":1763484009846,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/triage.test.ts"},{"assertionResults":[{"ancestorTitles":["","Weather Tool","Weather Tool - Success Cases"],"fullName":" Weather Tool Weather Tool - Success Cases should fetch weather data successfully","status":"passed","title":"should fetch weather data successfully","duration":4,"failureMessages":[]},{"ancestorTitles":["","Weather Tool","Weather Tool - Success Cases"],"fullName":" Weather Tool Weather Tool - Success Cases should handle different city names","status":"passed","title":"should handle different city names","duration":2,"failureMessages":[]},{"ancestorTitles":["","Weather Tool","Weather Tool - Success Cases"],"fullName":" Weather Tool Weather Tool - Success Cases should request correct weather parameters","status":"passed","title":"should request correct weather parameters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Weather Tool","Weather Tool - Error Handling"],"fullName":" Weather Tool Weather Tool - Error Handling should handle fetch errors","status":"passed","title":"should handle fetch errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","Weather Tool","Weather Tool - Error Handling"],"fullName":" Weather Tool Weather Tool - Error Handling should handle malformed API responses","status":"passed","title":"should handle malformed API responses","duration":0,"failureMessages":[]}],"startTime":1763484015264,"endTime":1763484015272,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/weather.test.ts"},{"assertionResults":[{"ancestorTitles":["","Web Search Tool","Web Search - Success Cases"],"fullName":" Web Search Tool Web Search - Success Cases should search the web successfully","status":"passed","title":"should search the web successfully","duration":3,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Success Cases"],"fullName":" Web Search Tool Web Search - Success Cases should filter by specific domain when provided","status":"passed","title":"should filter by specific domain when provided","duration":1,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Success Cases"],"fullName":" Web Search Tool Web Search - Success Cases should truncate long text to 1000 characters","status":"passed","title":"should truncate long text to 1000 characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Success Cases"],"fullName":" Web Search Tool Web Search - Success Cases should preserve short text without truncation","status":"passed","title":"should preserve short text without truncation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Empty Results"],"fullName":" Web Search Tool Web Search - Empty Results should handle empty search results","status":"passed","title":"should handle empty search results","duration":0,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Missing Client"],"fullName":" Web Search Tool Web Search - Missing Client should return empty results when exa client not available","status":"passed","title":"should return empty results when exa client not available","duration":1,"failureMessages":[]},{"ancestorTitles":["","Web Search Tool","Web Search - Missing Client"],"fullName":" Web Search Tool Web Search - Missing Client should return empty results when exa client is undefined","status":"passed","title":"should return empty results when exa client is undefined","duration":1,"failureMessages":[]}],"startTime":1763484014157,"endTime":1763484014164,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/agent/tools/web-search.test.ts"},{"assertionResults":[{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Signature Verification"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Signature Verification should verify QStash signature before processing","status":"passed","title":"should verify QStash signature before processing","duration":2,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Signature Verification"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Signature Verification should reject requests with missing signature headers","status":"passed","title":"should reject requests with missing signature headers","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Signature Verification"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Signature Verification should reject requests with invalid signature","status":"passed","title":"should reject requests with invalid signature","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Signature Verification"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Signature Verification should use QSTASH_CURRENT_SIGNING_KEY for verification","status":"passed","title":"should use QSTASH_CURRENT_SIGNING_KEY for verification","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Signature Verification"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Signature Verification should fallback to QSTASH_NEXT_SIGNING_KEY if current key fails","status":"passed","title":"should fallback to QSTASH_NEXT_SIGNING_KEY if current key fails","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Payload Validation"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Payload Validation should parse and validate worker payload structure","status":"passed","title":"should parse and validate worker payload structure","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Payload Validation"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Payload Validation should reject payload missing changeSysId","status":"passed","title":"should reject payload missing changeSysId","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Payload Validation"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Payload Validation should reject payload missing changeNumber","status":"passed","title":"should reject payload missing changeNumber","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Payload Validation"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Payload Validation should return 400 Bad Request for missing required fields","status":"passed","title":"should return 400 Bad Request for missing required fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Payload Validation"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Payload Validation should handle malformed JSON payload","status":"passed","title":"should handle malformed JSON payload","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Change Validation Processing"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Change Validation Processing should call changeValidationService.processValidation with changeSysId","status":"passed","title":"should call changeValidationService.processValidation with changeSysId","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Change Validation Processing"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Change Validation Processing should handle validation result with all status types (PASSED)","status":"passed","title":"should handle validation result with all status types (PASSED)","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Change Validation Processing"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Change Validation Processing should handle validation result with WARNING status","status":"passed","title":"should handle validation result with WARNING status","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Change Validation Processing"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Change Validation Processing should handle validation result with FAILED status","status":"passed","title":"should handle validation result with FAILED status","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Change Validation Processing"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Change Validation Processing should include individual check results in response","status":"passed","title":"should include individual check results in response","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should handle service throwing validation error","status":"passed","title":"should handle service throwing validation error","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should handle change record not found error","status":"passed","title":"should handle change record not found error","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should handle timeout errors from ServiceNow API","status":"passed","title":"should handle timeout errors from ServiceNow API","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should handle Claude synthesis failures","status":"passed","title":"should handle Claude synthesis failures","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should return 500 error response with error details","status":"passed","title":"should return 500 error response with error details","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Error Handling"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Error Handling should capture and log error stack traces","status":"passed","title":"should capture and log error stack traces","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Response Formats"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Response Formats should return 200 OK with validation result","status":"passed","title":"should return 200 OK with validation result","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Response Formats"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Response Formats should include change identification in response","status":"passed","title":"should include change identification in response","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Response Formats"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Response Formats should include processing time metrics","status":"passed","title":"should include processing time metrics","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Response Formats"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Response Formats should return 500 error with error message","status":"passed","title":"should return 500 error with error message","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Response Formats"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Response Formats should include synthesis text in response","status":"passed","title":"should include synthesis text in response","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Database Updates"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Database Updates should mark validation as processing before starting","status":"passed","title":"should mark validation as processing before starting","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Database Updates"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Database Updates should update validation status to completed on success","status":"passed","title":"should update validation status to completed on success","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Database Updates"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Database Updates should update validation status to failed on error","status":"passed","title":"should update validation status to failed on error","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Database Updates"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Database Updates should record validation results in database","status":"passed","title":"should record validation results in database","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Database Updates"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Database Updates should record processing time for analytics","status":"passed","title":"should record processing time for analytics","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Edge Runtime Compatibility"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Edge Runtime Compatibility should use Web Crypto API for signature verification","status":"passed","title":"should use Web Crypto API for signature verification","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Edge Runtime Compatibility"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Edge Runtime Compatibility should not use Node.js filesystem APIs","status":"passed","title":"should not use Node.js filesystem APIs","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Edge Runtime Compatibility"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Edge Runtime Compatibility should use TextEncoder instead of Buffer for encoding","status":"passed","title":"should use TextEncoder instead of Buffer for encoding","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Performance and Timeout"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Performance and Timeout should complete processing within reasonable time","status":"passed","title":"should complete processing within reasonable time","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Performance and Timeout"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Performance and Timeout should not hang if ServiceNow API is slow","status":"passed","title":"should not hang if ServiceNow API is slow","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Performance and Timeout"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Performance and Timeout should handle parallel fact collection efficiently","status":"passed","title":"should handle parallel fact collection efficiently","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Observability and Logging"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Observability and Logging should log worker execution start and completion","status":"passed","title":"should log worker execution start and completion","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Observability and Logging"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Observability and Logging should include change number in logs for correlation","status":"passed","title":"should include change number in logs for correlation","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Observability and Logging"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Observability and Logging should log overall_status in response","status":"passed","title":"should log overall_status in response","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","Observability and Logging"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) Observability and Logging should include LangSmith tracing metadata","status":"passed","title":"should include LangSmith tracing metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","QStash Integration"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) QStash Integration should be callable by QStash with verifySignatureEdge wrapper","status":"passed","title":"should be callable by QStash with verifySignatureEdge wrapper","duration":0,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","QStash Integration"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) QStash Integration should handle QStash retry logic transparently","status":"passed","title":"should handle QStash retry logic transparently","duration":1,"failureMessages":[]},{"ancestorTitles":["","Change Validation Worker (/api/workers/process-change-validation)","QStash Integration"],"fullName":" Change Validation Worker (/api/workers/process-change-validation) QStash Integration should not double-process if QStash retries","status":"passed","title":"should not double-process if QStash retries","duration":0,"failureMessages":[]}],"startTime":1763484005287,"endTime":1763484005305,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/api/workers/process-change-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNow payload sanitizers"],"fullName":" ServiceNow payload sanitizers fixInvalidUnicodeEscapes should escape sequences without hex digits","status":"passed","title":"fixInvalidUnicodeEscapes should escape sequences without hex digits","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNow payload sanitizers"],"fullName":" ServiceNow payload sanitizers sanitizeServiceNowPayload should recover payloads with invalid unicode sequences","status":"passed","title":"sanitizeServiceNowPayload should recover payloads with invalid unicode sequences","duration":2,"failureMessages":[]}],"startTime":1763484016008,"endTime":1763484016011,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/utils/servicenow-payload.test.ts"},{"assertionResults":[{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should accept valid webhook and create database record","status":"passed","title":"should accept valid webhook and create database record","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should validate payload schema","status":"passed","title":"should validate payload schema","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should store HMAC signature for audit trail","status":"passed","title":"should store HMAC signature for audit trail","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should store requestedBy user for attribution","status":"passed","title":"should store requestedBy user for attribution","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should set initial status to received","status":"passed","title":"should set initial status to received","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should return created record with id for tracking","status":"passed","title":"should return created record with id for tracking","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","receiveWebhook"],"fullName":" ChangeValidationService receiveWebhook should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should fetch validation record from database","status":"passed","title":"should fetch validation record from database","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should mark validation as processing at start","status":"passed","title":"should mark validation as processing at start","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should collect validation facts from ServiceNow","status":"passed","title":"should collect validation facts from ServiceNow","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should synthesize results using Claude when available","status":"passed","title":"should synthesize results using Claude when available","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should fallback to rules-based synthesis if Claude unavailable","status":"passed","title":"should fallback to rules-based synthesis if Claude unavailable","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should update database with results on completion","status":"passed","title":"should update database with results on completion","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should record processing time","status":"passed","title":"should record processing time","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should handle missing validation record","status":"passed","title":"should handle missing validation record","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should handle and log errors during processing","status":"passed","title":"should handle and log errors during processing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","processValidation"],"fullName":" ChangeValidationService processValidation should continue validation if some fact collection fails","status":"passed","title":"should continue validation if some fact collection fails","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect clone freshness information","status":"passed","title":"should collect clone freshness information","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should validate UAT clone age (max 30 days)","status":"passed","title":"should validate UAT clone age (max 30 days)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect change details","status":"passed","title":"should collect change details","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect catalog item details for catalog_item component type","status":"passed","title":"should collect catalog item details for catalog_item component type","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect LDAP server details for ldap_server component type","status":"passed","title":"should collect LDAP server details for ldap_server component type","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect MID server details for mid_server component type","status":"passed","title":"should collect MID server details for mid_server component type","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should collect workflow details for workflow component type","status":"passed","title":"should collect workflow details for workflow component type","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should timeout ServiceNow API calls after 8 seconds","status":"passed","title":"should timeout ServiceNow API calls after 8 seconds","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should continue fact collection if individual calls fail","status":"passed","title":"should continue fact collection if individual calls fail","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Fact Collection"],"fullName":" ChangeValidationService Fact Collection should run component-specific collectors in parallel","status":"passed","title":"should run component-specific collectors in parallel","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Validation Checks"],"fullName":" ChangeValidationService Validation Checks should validate catalog item has required fields","status":"passed","title":"should validate catalog item has required fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Validation Checks"],"fullName":" ChangeValidationService Validation Checks should validate LDAP server configuration","status":"passed","title":"should validate LDAP server configuration","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Validation Checks"],"fullName":" ChangeValidationService Validation Checks should validate MID server is up and healthy","status":"passed","title":"should validate MID server is up and healthy","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Validation Checks"],"fullName":" ChangeValidationService Validation Checks should validate workflow is published and not checked out","status":"passed","title":"should validate workflow is published and not checked out","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should call Claude API with collected facts","status":"passed","title":"should call Claude API with collected facts","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should use claude-sonnet-4-5 model","status":"passed","title":"should use claude-sonnet-4-5 model","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should extract JSON from Claude response","status":"passed","title":"should extract JSON from Claude response","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should handle Claude response wrapped in markdown code block","status":"passed","title":"should handle Claude response wrapped in markdown code block","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should fallback to rules-based validation if Claude fails","status":"passed","title":"should fallback to rules-based validation if Claude fails","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Claude Synthesis"],"fullName":" ChangeValidationService Claude Synthesis should include remediation steps in FAILED results","status":"passed","title":"should include remediation steps in FAILED results","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should add work note with validation results","status":"passed","title":"should add work note with validation results","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should include overall status in work note","status":"passed","title":"should include overall status in work note","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should include individual check results in work note","status":"passed","title":"should include individual check results in work note","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should include synthesis text in work note","status":"passed","title":"should include synthesis text in work note","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should handle posting failures without failing validation","status":"passed","title":"should handle posting failures without failing validation","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Posting Results to ServiceNow"],"fullName":" ChangeValidationService Posting Results to ServiceNow should use emoji indicators in work note","status":"passed","title":"should use emoji indicators in work note","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Status Transitions"],"fullName":" ChangeValidationService Status Transitions should transition from received to processing","status":"passed","title":"should transition from received to processing","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Status Transitions"],"fullName":" ChangeValidationService Status Transitions should transition from processing to completed","status":"passed","title":"should transition from processing to completed","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Status Transitions"],"fullName":" ChangeValidationService Status Transitions should transition to failed on error","status":"passed","title":"should transition to failed on error","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Error Handling and Resilience"],"fullName":" ChangeValidationService Error Handling and Resilience should not throw if partial facts are collected","status":"passed","title":"should not throw if partial facts are collected","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Error Handling and Resilience"],"fullName":" ChangeValidationService Error Handling and Resilience should set failed checks to false when collection times out","status":"passed","title":"should set failed checks to false when collection times out","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Error Handling and Resilience"],"fullName":" ChangeValidationService Error Handling and Resilience should log collection errors for debugging","status":"passed","title":"should log collection errors for debugging","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Performance"],"fullName":" ChangeValidationService Performance should complete validation within 30 seconds","status":"passed","title":"should complete validation within 30 seconds","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Performance"],"fullName":" ChangeValidationService Performance should timeout individual ServiceNow API calls at 8 seconds","status":"passed","title":"should timeout individual ServiceNow API calls at 8 seconds","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Performance"],"fullName":" ChangeValidationService Performance should run fact collection in parallel","status":"passed","title":"should run fact collection in parallel","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Observability"],"fullName":" ChangeValidationService Observability should log change processing start","status":"passed","title":"should log change processing start","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Observability"],"fullName":" ChangeValidationService Observability should log change processing completion with timing","status":"passed","title":"should log change processing completion with timing","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationService","Observability"],"fullName":" ChangeValidationService Observability should include LangSmith tracing for Claude calls","status":"passed","title":"should include LangSmith tracing for Claude calls","duration":1,"failureMessages":[]}],"startTime":1763484004432,"endTime":1763484004460,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/services/change-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should insert new validation record","status":"passed","title":"should insert new validation record","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should return created record with id","status":"passed","title":"should return created record with id","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should set initial status to received","status":"passed","title":"should set initial status to received","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should store HMAC signature if provided","status":"passed","title":"should store HMAC signature if provided","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should store requestedBy user","status":"passed","title":"should store requestedBy user","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should use write retry wrapper","status":"passed","title":"should use write retry wrapper","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should throw error if database unavailable","status":"passed","title":"should throw error if database unavailable","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","create"],"fullName":" ChangeValidationRepository create should create timestamps automatically","status":"passed","title":"should create timestamps automatically","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeSysId"],"fullName":" ChangeValidationRepository getByChangeSysId should fetch validation by change sys_id","status":"passed","title":"should fetch validation by change sys_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeSysId"],"fullName":" ChangeValidationRepository getByChangeSysId should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeSysId"],"fullName":" ChangeValidationRepository getByChangeSysId should use query retry wrapper","status":"passed","title":"should use query retry wrapper","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeSysId"],"fullName":" ChangeValidationRepository getByChangeSysId should return single record","status":"passed","title":"should return single record","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeSysId"],"fullName":" ChangeValidationRepository getByChangeSysId should limit to 1 result","status":"passed","title":"should limit to 1 result","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeNumber"],"fullName":" ChangeValidationRepository getByChangeNumber should fetch validation by change number","status":"passed","title":"should fetch validation by change number","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeNumber"],"fullName":" ChangeValidationRepository getByChangeNumber should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByChangeNumber"],"fullName":" ChangeValidationRepository getByChangeNumber should filter by changeNumber field","status":"passed","title":"should filter by changeNumber field","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","update"],"fullName":" ChangeValidationRepository update should update validation record","status":"passed","title":"should update validation record","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","update"],"fullName":" ChangeValidationRepository update should update updatedAt timestamp","status":"passed","title":"should update updatedAt timestamp","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","update"],"fullName":" ChangeValidationRepository update should preserve unchanged fields","status":"passed","title":"should preserve unchanged fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","update"],"fullName":" ChangeValidationRepository update should use write retry wrapper","status":"passed","title":"should use write retry wrapper","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","update"],"fullName":" ChangeValidationRepository update should throw if record not found","status":"passed","title":"should throw if record not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markProcessing"],"fullName":" ChangeValidationRepository markProcessing should transition to processing status","status":"passed","title":"should transition to processing status","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markProcessing"],"fullName":" ChangeValidationRepository markProcessing should update modification timestamp","status":"passed","title":"should update modification timestamp","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markProcessing"],"fullName":" ChangeValidationRepository markProcessing should preserve validation data","status":"passed","title":"should preserve validation data","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markProcessing"],"fullName":" ChangeValidationRepository markProcessing should call update with correct status","status":"passed","title":"should call update with correct status","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should transition to completed status","status":"passed","title":"should transition to completed status","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should store validation results","status":"passed","title":"should store validation results","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should record processing time","status":"passed","title":"should record processing time","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should set processedAt timestamp","status":"passed","title":"should set processedAt timestamp","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should store PASSED result","status":"passed","title":"should store PASSED result","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should store FAILED result","status":"passed","title":"should store FAILED result","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markCompleted"],"fullName":" ChangeValidationRepository markCompleted should store WARNING result","status":"passed","title":"should store WARNING result","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markFailed"],"fullName":" ChangeValidationRepository markFailed should transition to failed status","status":"passed","title":"should transition to failed status","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markFailed"],"fullName":" ChangeValidationRepository markFailed should store failure reason","status":"passed","title":"should store failure reason","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markFailed"],"fullName":" ChangeValidationRepository markFailed should record processing time","status":"passed","title":"should record processing time","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markFailed"],"fullName":" ChangeValidationRepository markFailed should set processedAt timestamp","status":"passed","title":"should set processedAt timestamp","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","markFailed"],"fullName":" ChangeValidationRepository markFailed should store different error types","status":"passed","title":"should store different error types","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","incrementRetryCount"],"fullName":" ChangeValidationRepository incrementRetryCount should increment retry count","status":"passed","title":"should increment retry count","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","incrementRetryCount"],"fullName":" ChangeValidationRepository incrementRetryCount should initialize retryCount to 1 if not set","status":"passed","title":"should initialize retryCount to 1 if not set","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","incrementRetryCount"],"fullName":" ChangeValidationRepository incrementRetryCount should throw if record not found","status":"passed","title":"should throw if record not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should fetch unprocessed validations","status":"passed","title":"should fetch unprocessed validations","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should filter to received status only","status":"passed","title":"should filter to received status only","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should default limit to 10","status":"passed","title":"should default limit to 10","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should support custom limit","status":"passed","title":"should support custom limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should order by created date","status":"passed","title":"should order by created date","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getUnprocessed"],"fullName":" ChangeValidationRepository getUnprocessed should use query retry wrapper","status":"passed","title":"should use query retry wrapper","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should fetch validations by component type","status":"passed","title":"should fetch validations by component type","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should filter to specific component type","status":"passed","title":"should filter to specific component type","duration":5,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should default limit to 50","status":"passed","title":"should default limit to 50","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should support custom limit","status":"passed","title":"should support custom limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should order by created date descending","status":"passed","title":"should order by created date descending","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getByComponentType"],"fullName":" ChangeValidationRepository getByComponentType should use query retry wrapper","status":"passed","title":"should use query retry wrapper","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should fetch recent validations by status","status":"passed","title":"should fetch recent validations by status","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should filter by status","status":"passed","title":"should filter by status","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should filter to last 7 days by default","status":"passed","title":"should filter to last 7 days by default","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should support custom date range","status":"passed","title":"should support custom date range","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should default limit to 50","status":"passed","title":"should default limit to 50","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getRecentByStatus"],"fullName":" ChangeValidationRepository getRecentByStatus should support custom limit","status":"passed","title":"should support custom limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should return validation statistics","status":"passed","title":"should return validation statistics","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should count total validations","status":"passed","title":"should count total validations","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should count PASSED validations","status":"passed","title":"should count PASSED validations","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should count FAILED validations","status":"passed","title":"should count FAILED validations","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should count WARNING validations","status":"passed","title":"should count WARNING validations","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should count pending validations","status":"passed","title":"should count pending validations","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should calculate average processing time","status":"passed","title":"should calculate average processing time","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should default to last 30 days","status":"passed","title":"should default to last 30 days","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should support custom date range","status":"passed","title":"should support custom date range","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","getStats"],"fullName":" ChangeValidationRepository getStats should categorize validations correctly","status":"passed","title":"should categorize validations correctly","duration":3,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Singleton Instance"],"fullName":" ChangeValidationRepository Singleton Instance should provide singleton instance","status":"passed","title":"should provide singleton instance","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Error Handling"],"fullName":" ChangeValidationRepository Error Handling should handle database not available on create","status":"passed","title":"should handle database not available on create","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Error Handling"],"fullName":" ChangeValidationRepository Error Handling should handle database errors on query","status":"passed","title":"should handle database errors on query","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Error Handling"],"fullName":" ChangeValidationRepository Error Handling should continue on database errors for getStats","status":"passed","title":"should continue on database errors for getStats","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Retry Wrapper Integration"],"fullName":" ChangeValidationRepository Retry Wrapper Integration should use withWriteRetry for create","status":"passed","title":"should use withWriteRetry for create","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Retry Wrapper Integration"],"fullName":" ChangeValidationRepository Retry Wrapper Integration should use withQueryRetry for getByChangeSysId","status":"passed","title":"should use withQueryRetry for getByChangeSysId","duration":3,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Retry Wrapper Integration"],"fullName":" ChangeValidationRepository Retry Wrapper Integration should use withQueryRetry for getUnprocessed","status":"passed","title":"should use withQueryRetry for getUnprocessed","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Retry Wrapper Integration"],"fullName":" ChangeValidationRepository Retry Wrapper Integration should pass operation name to retry wrapper for logging","status":"passed","title":"should pass operation name to retry wrapper for logging","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Performance"],"fullName":" ChangeValidationRepository Performance should support efficient queries with proper indexing","status":"passed","title":"should support efficient queries with proper indexing","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Performance"],"fullName":" ChangeValidationRepository Performance should limit unprocessed query results","status":"passed","title":"should limit unprocessed query results","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeValidationRepository","Performance"],"fullName":" ChangeValidationRepository Performance should support pagination through limit parameter","status":"passed","title":"should support pagination through limit parameter","duration":2,"failureMessages":[]}],"startTime":1763484004432,"endTime":1763484004512,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/db/repositories/change-validation-repository.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should fetch all records from a table","status":"passed","title":"should fetch all records from a table","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should handle single page response","status":"passed","title":"should handle single page response","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should handle empty result set","status":"passed","title":"should handle empty result set","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should handle pagination automatically","status":"passed","title":"should handle pagination automatically","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should respect maxRecords limit","status":"passed","title":"should respect maxRecords limit","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should support custom page size","status":"passed","title":"should support custom page size","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should include query parameters in request","status":"passed","title":"should include query parameters in request","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should call progress callback during pagination","status":"passed","title":"should call progress callback during pagination","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should stop pagination when no more records","status":"passed","title":"should stop pagination when no more records","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchAll"],"fullName":" ServiceNowTableAPIClient fetchAll should exclude pagination headers from result","status":"passed","title":"should exclude pagination headers from result","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchById"],"fullName":" ServiceNowTableAPIClient fetchById should fetch a single record by sys_id","status":"passed","title":"should fetch a single record by sys_id","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchById"],"fullName":" ServiceNowTableAPIClient fetchById should return null when record not found (404)","status":"passed","title":"should return null when record not found (404)","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchById"],"fullName":" ServiceNowTableAPIClient fetchById should throw error for other HTTP errors","status":"passed","title":"should throw error for other HTTP errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchById"],"fullName":" ServiceNowTableAPIClient fetchById should include query options in request","status":"passed","title":"should include query options in request","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","fetchById"],"fullName":" ServiceNowTableAPIClient fetchById should construct correct URL path","status":"passed","title":"should construct correct URL path","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","create"],"fullName":" ServiceNowTableAPIClient create should create a new record in table","status":"passed","title":"should create a new record in table","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","create"],"fullName":" ServiceNowTableAPIClient create should return created record with generated sys_id","status":"passed","title":"should return created record with generated sys_id","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","create"],"fullName":" ServiceNowTableAPIClient create should include data in POST request body","status":"passed","title":"should include data in POST request body","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","create"],"fullName":" ServiceNowTableAPIClient create should use correct table in URL","status":"passed","title":"should use correct table in URL","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","update"],"fullName":" ServiceNowTableAPIClient update should update entire record via PUT","status":"passed","title":"should update entire record via PUT","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","update"],"fullName":" ServiceNowTableAPIClient update should return updated record","status":"passed","title":"should return updated record","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","update"],"fullName":" ServiceNowTableAPIClient update should include sys_id in URL path","status":"passed","title":"should include sys_id in URL path","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","patch"],"fullName":" ServiceNowTableAPIClient patch should update partial record via PATCH","status":"passed","title":"should update partial record via PATCH","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","patch"],"fullName":" ServiceNowTableAPIClient patch should only send specified fields","status":"passed","title":"should only send specified fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","patch"],"fullName":" ServiceNowTableAPIClient patch should preserve unmodified fields","status":"passed","title":"should preserve unmodified fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","delete"],"fullName":" ServiceNowTableAPIClient delete should delete a record","status":"passed","title":"should delete a record","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","delete"],"fullName":" ServiceNowTableAPIClient delete should use correct DELETE HTTP method","status":"passed","title":"should use correct DELETE HTTP method","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","delete"],"fullName":" ServiceNowTableAPIClient delete should include sys_id in URL","status":"passed","title":"should include sys_id in URL","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","delete"],"fullName":" ServiceNowTableAPIClient delete should return success confirmation","status":"passed","title":"should return success confirmation","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","buildQuery"],"fullName":" ServiceNowTableAPIClient buildQuery should build simple query string","status":"passed","title":"should build simple query string","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","buildQuery"],"fullName":" ServiceNowTableAPIClient buildQuery should encode query parameters","status":"passed","title":"should encode query parameters","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","buildQuery"],"fullName":" ServiceNowTableAPIClient buildQuery should handle multiple conditions","status":"passed","title":"should handle multiple conditions","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","buildQuery"],"fullName":" ServiceNowTableAPIClient buildQuery should use caret as AND operator","status":"passed","title":"should use caret as AND operator","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","buildQuery"],"fullName":" ServiceNowTableAPIClient buildQuery should escape special characters","status":"passed","title":"should escape special characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Error Handling"],"fullName":" ServiceNowTableAPIClient Error Handling should propagate HTTP client errors","status":"passed","title":"should propagate HTTP client errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Error Handling"],"fullName":" ServiceNowTableAPIClient Error Handling should handle timeout errors","status":"passed","title":"should handle timeout errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Error Handling"],"fullName":" ServiceNowTableAPIClient Error Handling should handle invalid table names","status":"passed","title":"should handle invalid table names","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Error Handling"],"fullName":" ServiceNowTableAPIClient Error Handling should handle malformed response","status":"passed","title":"should handle malformed response","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Query Parameters"],"fullName":" ServiceNowTableAPIClient Query Parameters should support sysparm_display_value","status":"passed","title":"should support sysparm_display_value","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Query Parameters"],"fullName":" ServiceNowTableAPIClient Query Parameters should support sysparm_fields for column selection","status":"passed","title":"should support sysparm_fields for column selection","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Query Parameters"],"fullName":" ServiceNowTableAPIClient Query Parameters should support sysparm_query for filtering","status":"passed","title":"should support sysparm_query for filtering","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Query Parameters"],"fullName":" ServiceNowTableAPIClient Query Parameters should support exclude_reference_link for performance","status":"passed","title":"should support exclude_reference_link for performance","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Query Parameters"],"fullName":" ServiceNowTableAPIClient Query Parameters should support sysparm_no_count for faster queries","status":"passed","title":"should support sysparm_no_count for faster queries","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Type Safety"],"fullName":" ServiceNowTableAPIClient Type Safety should support generic type parameter","status":"passed","title":"should support generic type parameter","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Type Safety"],"fullName":" ServiceNowTableAPIClient Type Safety should preserve record types in responses","status":"passed","title":"should preserve record types in responses","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Pagination Edge Cases"],"fullName":" ServiceNowTableAPIClient Pagination Edge Cases should handle exactly pageSize records","status":"passed","title":"should handle exactly pageSize records","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Pagination Edge Cases"],"fullName":" ServiceNowTableAPIClient Pagination Edge Cases should handle very large result sets","status":"passed","title":"should handle very large result sets","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Pagination Edge Cases"],"fullName":" ServiceNowTableAPIClient Pagination Edge Cases should not fetch unnecessary pages","status":"passed","title":"should not fetch unnecessary pages","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Performance"],"fullName":" ServiceNowTableAPIClient Performance should handle efficient pagination with headers","status":"passed","title":"should handle efficient pagination with headers","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowTableAPIClient","Performance"],"fullName":" ServiceNowTableAPIClient Performance should avoid N+1 queries for single record fetch","status":"passed","title":"should avoid N+1 queries for single record fetch","duration":0,"failureMessages":[]}],"startTime":1763484005237,"endTime":1763484005267,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/infrastructure/servicenow/client/table-api-client.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByNumber"],"fullName":" ServiceNowCatalogTaskRepository findByNumber should fetch catalog task by number","status":"passed","title":"should fetch catalog task by number","duration":3,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByNumber"],"fullName":" ServiceNowCatalogTaskRepository findByNumber should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByNumber"],"fullName":" ServiceNowCatalogTaskRepository findByNumber should map parent relationships correctly","status":"passed","title":"should map parent relationships correctly","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByNumber"],"fullName":" ServiceNowCatalogTaskRepository findByNumber should map active field correctly","status":"passed","title":"should map active field correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findBySysId"],"fullName":" ServiceNowCatalogTaskRepository findBySysId should fetch catalog task by sys_id","status":"passed","title":"should fetch catalog task by sys_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findBySysId"],"fullName":" ServiceNowCatalogTaskRepository findBySysId should return null on 404 error","status":"passed","title":"should return null on 404 error","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByRequestedItem"],"fullName":" ServiceNowCatalogTaskRepository findByRequestedItem should fetch tasks for a parent RITM","status":"passed","title":"should fetch tasks for a parent RITM","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByRequest"],"fullName":" ServiceNowCatalogTaskRepository findByRequest should fetch tasks for a grandparent REQ","status":"passed","title":"should fetch tasks for a grandparent REQ","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findActive"],"fullName":" ServiceNowCatalogTaskRepository findActive should fetch only active catalog tasks","status":"passed","title":"should fetch only active catalog tasks","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","search"],"fullName":" ServiceNowCatalogTaskRepository search should search with multiple criteria","status":"passed","title":"should search with multiple criteria","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","search"],"fullName":" ServiceNowCatalogTaskRepository search should build query with request filter","status":"passed","title":"should build query with request filter","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowCatalogTaskRepository","findByState"],"fullName":" ServiceNowCatalogTaskRepository findByState should fetch tasks by state","status":"passed","title":"should fetch tasks by state","duration":0,"failureMessages":[]}],"startTime":1763484012581,"endTime":1763484012590,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/infrastructure/servicenow/repositories/catalog-task-repository.impl.test.ts"},{"assertionResults":[{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should fetch all changes without filter","status":"passed","title":"should fetch all changes without filter","duration":3,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should fetch changes with string query","status":"passed","title":"should fetch changes with string query","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should fetch changes with object query","status":"passed","title":"should fetch changes with object query","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should support pagination options","status":"passed","title":"should support pagination options","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should support field selection","status":"passed","title":"should support field selection","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should encode query properly","status":"passed","title":"should encode query properly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChanges"],"fullName":" ChangeRepository fetchChanges should return array of changes","status":"passed","title":"should return array of changes","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeById"],"fullName":" ChangeRepository fetchChangeById should fetch change by sys_id","status":"passed","title":"should fetch change by sys_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeById"],"fullName":" ChangeRepository fetchChangeById should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeById"],"fullName":" ChangeRepository fetchChangeById should return change with all fields","status":"passed","title":"should return change with all fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeById"],"fullName":" ChangeRepository fetchChangeById should use direct ID lookup for performance","status":"passed","title":"should use direct ID lookup for performance","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeByNumber"],"fullName":" ChangeRepository fetchChangeByNumber should fetch change by change number","status":"passed","title":"should fetch change by change number","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeByNumber"],"fullName":" ChangeRepository fetchChangeByNumber should return first change if multiple results","status":"passed","title":"should return first change if multiple results","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeByNumber"],"fullName":" ChangeRepository fetchChangeByNumber should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchChangeByNumber"],"fullName":" ChangeRepository fetchChangeByNumber should use query to filter by number","status":"passed","title":"should use query to filter by number","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStateTransitions"],"fullName":" ChangeRepository fetchStateTransitions should fetch state transitions for a change","status":"passed","title":"should fetch state transitions for a change","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStateTransitions"],"fullName":" ChangeRepository fetchStateTransitions should filter by change sys_id","status":"passed","title":"should filter by change sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStateTransitions"],"fullName":" ChangeRepository fetchStateTransitions should return transitions in chronological order","status":"passed","title":"should return transitions in chronological order","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComponentReferences"],"fullName":" ChangeRepository fetchComponentReferences should fetch components referenced in change","status":"passed","title":"should fetch components referenced in change","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComponentReferences"],"fullName":" ChangeRepository fetchComponentReferences should filter by change request sys_id","status":"passed","title":"should filter by change request sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComponentReferences"],"fullName":" ChangeRepository fetchComponentReferences should include CI references","status":"passed","title":"should include CI references","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchWorkNotes"],"fullName":" ChangeRepository fetchWorkNotes should fetch work notes for a change","status":"passed","title":"should fetch work notes for a change","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchWorkNotes"],"fullName":" ChangeRepository fetchWorkNotes should filter by element_id and element name","status":"passed","title":"should filter by element_id and element name","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchWorkNotes"],"fullName":" ChangeRepository fetchWorkNotes should return notes in creation order","status":"passed","title":"should return notes in creation order","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComments"],"fullName":" ChangeRepository fetchComments should fetch comments for a change","status":"passed","title":"should fetch comments for a change","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComments"],"fullName":" ChangeRepository fetchComments should filter by comments element","status":"passed","title":"should filter by comments element","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchComments"],"fullName":" ChangeRepository fetchComments should distinguish from work notes","status":"passed","title":"should distinguish from work notes","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchAttachments"],"fullName":" ChangeRepository fetchAttachments should fetch attachments for a change","status":"passed","title":"should fetch attachments for a change","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchAttachments"],"fullName":" ChangeRepository fetchAttachments should filter by table and sys_id","status":"passed","title":"should filter by table and sys_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchAttachments"],"fullName":" ChangeRepository fetchAttachments should include file metadata","status":"passed","title":"should include file metadata","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStandardChanges"],"fullName":" ChangeRepository fetchStandardChanges should fetch only standard changes","status":"passed","title":"should fetch only standard changes","duration":2,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStandardChanges"],"fullName":" ChangeRepository fetchStandardChanges should filter to active changes only","status":"passed","title":"should filter to active changes only","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStandardChanges"],"fullName":" ChangeRepository fetchStandardChanges should support additional query options","status":"passed","title":"should support additional query options","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","fetchStandardChanges"],"fullName":" ChangeRepository fetchStandardChanges should return only standard change type records","status":"passed","title":"should return only standard change type records","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","createChange"],"fullName":" ChangeRepository createChange should create new change request","status":"passed","title":"should create new change request","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","createChange"],"fullName":" ChangeRepository createChange should return created record with sys_id","status":"passed","title":"should return created record with sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","createChange"],"fullName":" ChangeRepository createChange should include all provided fields","status":"passed","title":"should include all provided fields","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","updateChange"],"fullName":" ChangeRepository updateChange should update existing change","status":"passed","title":"should update existing change","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","updateChange"],"fullName":" ChangeRepository updateChange should return updated record","status":"passed","title":"should return updated record","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","updateChange"],"fullName":" ChangeRepository updateChange should only update specified fields","status":"passed","title":"should only update specified fields","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","addWorkNote"],"fullName":" ChangeRepository addWorkNote should add work note to change","status":"passed","title":"should add work note to change","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","addWorkNote"],"fullName":" ChangeRepository addWorkNote should create journal field entry","status":"passed","title":"should create journal field entry","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","addWorkNote"],"fullName":" ChangeRepository addWorkNote should set element to work_notes","status":"passed","title":"should set element to work_notes","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","addWorkNote"],"fullName":" ChangeRepository addWorkNote should include change table and ID","status":"passed","title":"should include change table and ID","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","addWorkNote"],"fullName":" ChangeRepository addWorkNote should return created journal entry","status":"passed","title":"should return created journal entry","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Error Handling"],"fullName":" ChangeRepository Error Handling should propagate table client errors","status":"passed","title":"should propagate table client errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Error Handling"],"fullName":" ChangeRepository Error Handling should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Error Handling"],"fullName":" ChangeRepository Error Handling should handle invalid table operations","status":"passed","title":"should handle invalid table operations","duration":4,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Query Building"],"fullName":" ChangeRepository Query Building should properly encode queries with special characters","status":"passed","title":"should properly encode queries with special characters","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Query Building"],"fullName":" ChangeRepository Query Building should handle multiple query conditions","status":"passed","title":"should handle multiple query conditions","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Query Building"],"fullName":" ChangeRepository Query Building should support complex query operators","status":"passed","title":"should support complex query operators","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Performance Optimization"],"fullName":" ChangeRepository Performance Optimization should support batch field selection","status":"passed","title":"should support batch field selection","duration":1,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Performance Optimization"],"fullName":" ChangeRepository Performance Optimization should support exclude_reference_link for performance","status":"passed","title":"should support exclude_reference_link for performance","duration":0,"failureMessages":[]},{"ancestorTitles":["","ChangeRepository","Performance Optimization"],"fullName":" ChangeRepository Performance Optimization should use direct ID lookup when possible","status":"passed","title":"should use direct ID lookup when possible","duration":1,"failureMessages":[]}],"startTime":1763484004437,"endTime":1763484004472,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/infrastructure/servicenow/repositories/change-repository.impl.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowRequestRepository","findByNumber"],"fullName":" ServiceNowRequestRepository findByNumber should fetch request by number","status":"passed","title":"should fetch request by number","duration":2,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findByNumber"],"fullName":" ServiceNowRequestRepository findByNumber should return null if request not found","status":"passed","title":"should return null if request not found","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findByNumber"],"fullName":" ServiceNowRequestRepository findByNumber should map all fields correctly","status":"passed","title":"should map all fields correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findBySysId"],"fullName":" ServiceNowRequestRepository findBySysId should fetch request by sys_id","status":"passed","title":"should fetch request by sys_id","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findBySysId"],"fullName":" ServiceNowRequestRepository findBySysId should return null on 404 error","status":"passed","title":"should return null on 404 error","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findBySysId"],"fullName":" ServiceNowRequestRepository findBySysId should throw on other errors","status":"passed","title":"should throw on other errors","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","search"],"fullName":" ServiceNowRequestRepository search should search requests with criteria","status":"passed","title":"should search requests with criteria","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","search"],"fullName":" ServiceNowRequestRepository search should build complex queries","status":"passed","title":"should build complex queries","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findByRequestedFor"],"fullName":" ServiceNowRequestRepository findByRequestedFor should fetch requests for specific user","status":"passed","title":"should fetch requests for specific user","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestRepository","findByState"],"fullName":" ServiceNowRequestRepository findByState should fetch requests by state","status":"passed","title":"should fetch requests by state","duration":1,"failureMessages":[]}],"startTime":1763484012798,"endTime":1763484012806,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/infrastructure/servicenow/repositories/request-repository.impl.test.ts"},{"assertionResults":[{"ancestorTitles":["","ServiceNowRequestedItemRepository","findByNumber"],"fullName":" ServiceNowRequestedItemRepository findByNumber should fetch requested item by number","status":"passed","title":"should fetch requested item by number","duration":4,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findByNumber"],"fullName":" ServiceNowRequestedItemRepository findByNumber should return null if not found","status":"passed","title":"should return null if not found","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findByNumber"],"fullName":" ServiceNowRequestedItemRepository findByNumber should map parent relationship correctly","status":"passed","title":"should map parent relationship correctly","duration":0,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findBySysId"],"fullName":" ServiceNowRequestedItemRepository findBySysId should fetch requested item by sys_id","status":"passed","title":"should fetch requested item by sys_id","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findBySysId"],"fullName":" ServiceNowRequestedItemRepository findBySysId should return null on 404 error","status":"passed","title":"should return null on 404 error","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findByRequest"],"fullName":" ServiceNowRequestedItemRepository findByRequest should fetch items for a parent request","status":"passed","title":"should fetch items for a parent request","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","findByCatalogItem"],"fullName":" ServiceNowRequestedItemRepository findByCatalogItem should fetch items by catalog item","status":"passed","title":"should fetch items by catalog item","duration":1,"failureMessages":[]},{"ancestorTitles":["","ServiceNowRequestedItemRepository","search"],"fullName":" ServiceNowRequestedItemRepository search should search with multiple criteria","status":"passed","title":"should search with multiple criteria","duration":0,"failureMessages":[]}],"startTime":1763484013537,"endTime":1763484013545,"status":"passed","message":"","name":"/Users/hamadriaz/Documents/codebase/ai-sdk-slackbot/tests/lib/infrastructure/servicenow/repositories/requested-item-repository.impl.test.ts"}]}